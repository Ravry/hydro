var O_=Object.defineProperty;var N_=(t,e,n)=>e in t?O_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var be=(t,e,n)=>N_(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();/**
* @vue/shared v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Rc(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Fe={},Ni=[],en=()=>{},L_=()=>!1,Wo=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Pc=t=>t.startsWith("onUpdate:"),Ke=Object.assign,Mc=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},H_=Object.prototype.hasOwnProperty,we=(t,e)=>H_.call(t,e),re=Array.isArray,Li=t=>Vo(t)==="[object Map]",Vd=t=>Vo(t)==="[object Set]",ce=t=>typeof t=="function",qe=t=>typeof t=="string",$n=t=>typeof t=="symbol",Ne=t=>t!==null&&typeof t=="object",$d=t=>(Ne(t)||ce(t))&&ce(t.then)&&ce(t.catch),Ud=Object.prototype.toString,Vo=t=>Ud.call(t),z_=t=>Vo(t).slice(8,-1),jd=t=>Vo(t)==="[object Object]",Oc=t=>qe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ks=Rc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),$o=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},W_=/-(\w)/g,Pt=$o(t=>t.replace(W_,(e,n)=>n?n.toUpperCase():"")),V_=/\B([A-Z])/g,Ci=$o(t=>t.replace(V_,"-$1").toLowerCase()),Uo=$o(t=>t.charAt(0).toUpperCase()+t.slice(1)),ma=$o(t=>t?`on${Uo(t)}`:""),In=(t,e)=>!Object.is(t,e),Xr=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},qd=(t,e,n,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:n})},zl=t=>{const e=parseFloat(t);return isNaN(e)?t:e},$_=t=>{const e=qe(t)?Number(t):NaN;return isNaN(e)?t:e};let ru;const jo=()=>ru||(ru=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Nc(t){if(re(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],s=qe(i)?K_(i):Nc(i);if(s)for(const r in s)e[r]=s[r]}return e}else if(qe(t)||Ne(t))return t}const U_=/;(?![^(]*\))/g,j_=/:([^]+)/,q_=/\/\*[^]*?\*\//g;function K_(t){const e={};return t.replace(q_,"").split(U_).forEach(n=>{if(n){const i=n.split(j_);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Gi(t){let e="";if(qe(t))e=t;else if(re(t))for(let n=0;n<t.length;n++){const i=Gi(t[n]);i&&(e+=i+" ")}else if(Ne(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const G_="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Y_=Rc(G_);function Kd(t){return!!t||t===""}const Gd=t=>!!(t&&t.__v_isRef===!0),An=t=>qe(t)?t:t==null?"":re(t)||Ne(t)&&(t.toString===Ud||!ce(t.toString))?Gd(t)?An(t.value):JSON.stringify(t,Yd,2):String(t),Yd=(t,e)=>Gd(e)?Yd(t,e.value):Li(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,s],r)=>(n[va(i,r)+" =>"]=s,n),{})}:Vd(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>va(n))}:$n(e)?va(e):Ne(e)&&!re(e)&&!jd(e)?String(e):e,va=(t,e="")=>{var n;return $n(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let St;class Q_{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=St,!e&&St&&(this.index=(St.scopes||(St.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=St;try{return St=this,e()}finally{St=n}}}on(){St=this}off(){St=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function X_(){return St}let Te;const ba=new WeakSet;class Qd{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,St&&St.active&&St.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ba.has(this)&&(ba.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Zd(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ou(this),Jd(this);const e=Te,n=Vt;Te=this,Vt=!0;try{return this.fn()}finally{ep(this),Te=e,Vt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)zc(e);this.deps=this.depsTail=void 0,ou(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ba.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Wl(this)&&this.run()}get dirty(){return Wl(this)}}let Xd=0,Bs,Fs;function Zd(t,e=!1){if(t.flags|=8,e){t.next=Fs,Fs=t;return}t.next=Bs,Bs=t}function Lc(){Xd++}function Hc(){if(--Xd>0)return;if(Fs){let e=Fs;for(Fs=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Bs;){let e=Bs;for(Bs=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){t||(t=i)}e=n}}if(t)throw t}function Jd(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function ep(t){let e,n=t.depsTail,i=n;for(;i;){const s=i.prevDep;i.version===-1?(i===n&&(n=s),zc(i),Z_(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=s}t.deps=e,t.depsTail=n}function Wl(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(tp(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function tp(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===js))return;t.globalVersion=js;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Wl(t)){t.flags&=-3;return}const n=Te,i=Vt;Te=t,Vt=!0;try{Jd(t);const s=t.fn(t._value);(e.version===0||In(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{Te=n,Vt=i,ep(t),t.flags&=-3}}function zc(t,e=!1){const{dep:n,prevSub:i,nextSub:s}=t;if(i&&(i.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=i,t.nextSub=void 0),n.subs===t&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)zc(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Z_(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Vt=!0;const np=[];function Un(){np.push(Vt),Vt=!1}function jn(){const t=np.pop();Vt=t===void 0?!0:t}function ou(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Te;Te=void 0;try{e()}finally{Te=n}}}let js=0;class J_{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Wc{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Te||!Vt||Te===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Te)n=this.activeLink=new J_(Te,this),Te.deps?(n.prevDep=Te.depsTail,Te.depsTail.nextDep=n,Te.depsTail=n):Te.deps=Te.depsTail=n,ip(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=Te.depsTail,n.nextDep=void 0,Te.depsTail.nextDep=n,Te.depsTail=n,Te.deps===n&&(Te.deps=i)}return n}trigger(e){this.version++,js++,this.notify(e)}notify(e){Lc();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Hc()}}}function ip(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)ip(i)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Vl=new WeakMap,fi=Symbol(""),$l=Symbol(""),qs=Symbol("");function at(t,e,n){if(Vt&&Te){let i=Vl.get(t);i||Vl.set(t,i=new Map);let s=i.get(n);s||(i.set(n,s=new Wc),s.map=i,s.key=n),s.track()}}function hn(t,e,n,i,s,r){const o=Vl.get(t);if(!o){js++;return}const a=l=>{l&&l.trigger()};if(Lc(),e==="clear")o.forEach(a);else{const l=re(t),c=l&&Oc(n);if(l&&n==="length"){const h=Number(i);o.forEach((u,f)=>{(f==="length"||f===qs||!$n(f)&&f>=h)&&a(u)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(qs)),e){case"add":l?c&&a(o.get("length")):(a(o.get(fi)),Li(t)&&a(o.get($l)));break;case"delete":l||(a(o.get(fi)),Li(t)&&a(o.get($l)));break;case"set":Li(t)&&a(o.get(fi));break}}Hc()}function ki(t){const e=me(t);return e===t?e:(at(e,"iterate",qs),Rt(t)?e:e.map(lt))}function qo(t){return at(t=me(t),"iterate",qs),t}const em={__proto__:null,[Symbol.iterator](){return ya(this,Symbol.iterator,lt)},concat(...t){return ki(this).concat(...t.map(e=>re(e)?ki(e):e))},entries(){return ya(this,"entries",t=>(t[1]=lt(t[1]),t))},every(t,e){return nn(this,"every",t,e,void 0,arguments)},filter(t,e){return nn(this,"filter",t,e,n=>n.map(lt),arguments)},find(t,e){return nn(this,"find",t,e,lt,arguments)},findIndex(t,e){return nn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return nn(this,"findLast",t,e,lt,arguments)},findLastIndex(t,e){return nn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return nn(this,"forEach",t,e,void 0,arguments)},includes(...t){return Ca(this,"includes",t)},indexOf(...t){return Ca(this,"indexOf",t)},join(t){return ki(this).join(t)},lastIndexOf(...t){return Ca(this,"lastIndexOf",t)},map(t,e){return nn(this,"map",t,e,void 0,arguments)},pop(){return fs(this,"pop")},push(...t){return fs(this,"push",t)},reduce(t,...e){return au(this,"reduce",t,e)},reduceRight(t,...e){return au(this,"reduceRight",t,e)},shift(){return fs(this,"shift")},some(t,e){return nn(this,"some",t,e,void 0,arguments)},splice(...t){return fs(this,"splice",t)},toReversed(){return ki(this).toReversed()},toSorted(t){return ki(this).toSorted(t)},toSpliced(...t){return ki(this).toSpliced(...t)},unshift(...t){return fs(this,"unshift",t)},values(){return ya(this,"values",lt)}};function ya(t,e,n){const i=qo(t),s=i[e]();return i!==t&&!Rt(t)&&(s._next=s.next,s.next=()=>{const r=s._next();return r.value&&(r.value=n(r.value)),r}),s}const tm=Array.prototype;function nn(t,e,n,i,s,r){const o=qo(t),a=o!==t&&!Rt(t),l=o[e];if(l!==tm[e]){const u=l.apply(t,r);return a?lt(u):u}let c=n;o!==t&&(a?c=function(u,f){return n.call(this,lt(u),f,t)}:n.length>2&&(c=function(u,f){return n.call(this,u,f,t)}));const h=l.call(o,c,i);return a&&s?s(h):h}function au(t,e,n,i){const s=qo(t);let r=n;return s!==t&&(Rt(t)?n.length>3&&(r=function(o,a,l){return n.call(this,o,a,l,t)}):r=function(o,a,l){return n.call(this,o,lt(a),l,t)}),s[e](r,...i)}function Ca(t,e,n){const i=me(t);at(i,"iterate",qs);const s=i[e](...n);return(s===-1||s===!1)&&_r(n[0])?(n[0]=me(n[0]),i[e](...n)):s}function fs(t,e,n=[]){Un(),Lc();const i=me(t)[e].apply(t,n);return Hc(),jn(),i}const nm=Rc("__proto__,__v_isRef,__isVue"),sp=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter($n));function im(t){$n(t)||(t=String(t));const e=me(this);return at(e,"has",t),e.hasOwnProperty(t)}class rp{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){const s=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return r;if(n==="__v_raw")return i===(s?r?dm:cp:r?lp:ap).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const o=re(e);if(!s){let l;if(o&&(l=em[n]))return l;if(n==="hasOwnProperty")return im}const a=Reflect.get(e,n,ut(e)?e:i);return($n(n)?sp.has(n):nm(n))||(s||at(e,"get",n),r)?a:ut(a)?o&&Oc(n)?a:a.value:Ne(a)?s?up(a):Ko(a):a}}class op extends rp{constructor(e=!1){super(!1,e)}set(e,n,i,s){let r=e[n];if(!this._isShallow){const l=gi(r);if(!Rt(i)&&!gi(i)&&(r=me(r),i=me(i)),!re(e)&&ut(r)&&!ut(i))return l?!1:(r.value=i,!0)}const o=re(e)&&Oc(n)?Number(n)<e.length:we(e,n),a=Reflect.set(e,n,i,ut(e)?e:s);return e===me(s)&&(o?In(i,r)&&hn(e,"set",n,i):hn(e,"add",n,i)),a}deleteProperty(e,n){const i=we(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&i&&hn(e,"delete",n,void 0),s}has(e,n){const i=Reflect.has(e,n);return(!$n(n)||!sp.has(n))&&at(e,"has",n),i}ownKeys(e){return at(e,"iterate",re(e)?"length":fi),Reflect.ownKeys(e)}}class sm extends rp{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const rm=new op,om=new sm,am=new op(!0);const Ul=t=>t,Tr=t=>Reflect.getPrototypeOf(t);function lm(t,e,n){return function(...i){const s=this.__v_raw,r=me(s),o=Li(r),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=s[t](...i),h=n?Ul:e?jl:lt;return!e&&at(r,"iterate",l?$l:fi),{next(){const{value:u,done:f}=c.next();return f?{value:u,done:f}:{value:a?[h(u[0]),h(u[1])]:h(u),done:f}},[Symbol.iterator](){return this}}}}function Ir(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function cm(t,e){const n={get(s){const r=this.__v_raw,o=me(r),a=me(s);t||(In(s,a)&&at(o,"get",s),at(o,"get",a));const{has:l}=Tr(o),c=e?Ul:t?jl:lt;if(l.call(o,s))return c(r.get(s));if(l.call(o,a))return c(r.get(a));r!==o&&r.get(s)},get size(){const s=this.__v_raw;return!t&&at(me(s),"iterate",fi),Reflect.get(s,"size",s)},has(s){const r=this.__v_raw,o=me(r),a=me(s);return t||(In(s,a)&&at(o,"has",s),at(o,"has",a)),s===a?r.has(s):r.has(s)||r.has(a)},forEach(s,r){const o=this,a=o.__v_raw,l=me(a),c=e?Ul:t?jl:lt;return!t&&at(l,"iterate",fi),a.forEach((h,u)=>s.call(r,c(h),c(u),o))}};return Ke(n,t?{add:Ir("add"),set:Ir("set"),delete:Ir("delete"),clear:Ir("clear")}:{add(s){!e&&!Rt(s)&&!gi(s)&&(s=me(s));const r=me(this);return Tr(r).has.call(r,s)||(r.add(s),hn(r,"add",s,s)),this},set(s,r){!e&&!Rt(r)&&!gi(r)&&(r=me(r));const o=me(this),{has:a,get:l}=Tr(o);let c=a.call(o,s);c||(s=me(s),c=a.call(o,s));const h=l.call(o,s);return o.set(s,r),c?In(r,h)&&hn(o,"set",s,r):hn(o,"add",s,r),this},delete(s){const r=me(this),{has:o,get:a}=Tr(r);let l=o.call(r,s);l||(s=me(s),l=o.call(r,s)),a&&a.call(r,s);const c=r.delete(s);return l&&hn(r,"delete",s,void 0),c},clear(){const s=me(this),r=s.size!==0,o=s.clear();return r&&hn(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=lm(s,t,e)}),n}function Vc(t,e){const n=cm(t,e);return(i,s,r)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?i:Reflect.get(we(n,s)&&s in i?n:i,s,r)}const hm={get:Vc(!1,!1)},um={get:Vc(!1,!0)},fm={get:Vc(!0,!1)};const ap=new WeakMap,lp=new WeakMap,cp=new WeakMap,dm=new WeakMap;function pm(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function gm(t){return t.__v_skip||!Object.isExtensible(t)?0:pm(z_(t))}function Ko(t){return gi(t)?t:$c(t,!1,rm,hm,ap)}function hp(t){return $c(t,!1,am,um,lp)}function up(t){return $c(t,!0,om,fm,cp)}function $c(t,e,n,i,s){if(!Ne(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=s.get(t);if(r)return r;const o=gm(t);if(o===0)return t;const a=new Proxy(t,o===2?i:n);return s.set(t,a),a}function Hi(t){return gi(t)?Hi(t.__v_raw):!!(t&&t.__v_isReactive)}function gi(t){return!!(t&&t.__v_isReadonly)}function Rt(t){return!!(t&&t.__v_isShallow)}function _r(t){return t?!!t.__v_raw:!1}function me(t){const e=t&&t.__v_raw;return e?me(e):t}function xm(t){return!we(t,"__v_skip")&&Object.isExtensible(t)&&qd(t,"__v_skip",!0),t}const lt=t=>Ne(t)?Ko(t):t,jl=t=>Ne(t)?up(t):t;function ut(t){return t?t.__v_isRef===!0:!1}function Ve(t){return fp(t,!1)}function Uc(t){return fp(t,!0)}function fp(t,e){return ut(t)?t:new _m(t,e)}class _m{constructor(e,n){this.dep=new Wc,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:me(e),this._value=n?e:lt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,i=this.__v_isShallow||Rt(e)||gi(e);e=i?e:me(e),In(e,n)&&(this._rawValue=e,this._value=i?e:lt(e),this.dep.trigger())}}function di(t){return ut(t)?t.value:t}const mm={get:(t,e,n)=>e==="__v_raw"?t:di(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const s=t[e];return ut(s)&&!ut(n)?(s.value=n,!0):Reflect.set(t,e,n,i)}};function dp(t){return Hi(t)?t:new Proxy(t,mm)}class vm{constructor(e,n,i){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Wc(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=js-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Te!==this)return Zd(this,!0),!0}get value(){const e=this.dep.track();return tp(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function bm(t,e,n=!1){let i,s;return ce(t)?i=t:(i=t.get,s=t.set),new vm(i,s,n)}const Rr={},lo=new WeakMap;let ti;function ym(t,e=!1,n=ti){if(n){let i=lo.get(n);i||lo.set(n,i=[]),i.push(t)}}function Cm(t,e,n=Fe){const{immediate:i,deep:s,once:r,scheduler:o,augmentJob:a,call:l}=n,c=v=>s?v:Rt(v)||s===!1||s===0?un(v,1):un(v);let h,u,f,d,p=!1,g=!1;if(ut(t)?(u=()=>t.value,p=Rt(t)):Hi(t)?(u=()=>c(t),p=!0):re(t)?(g=!0,p=t.some(v=>Hi(v)||Rt(v)),u=()=>t.map(v=>{if(ut(v))return v.value;if(Hi(v))return c(v);if(ce(v))return l?l(v,2):v()})):ce(t)?e?u=l?()=>l(t,2):t:u=()=>{if(f){Un();try{f()}finally{jn()}}const v=ti;ti=h;try{return l?l(t,3,[d]):t(d)}finally{ti=v}}:u=en,e&&s){const v=u,C=s===!0?1/0:s;u=()=>un(v(),C)}const x=X_(),b=()=>{h.stop(),x&&Mc(x.effects,h)};if(r&&e){const v=e;e=(...C)=>{v(...C),b()}}let _=g?new Array(t.length).fill(Rr):Rr;const m=v=>{if(!(!(h.flags&1)||!h.dirty&&!v))if(e){const C=h.run();if(s||p||(g?C.some((A,B)=>In(A,_[B])):In(C,_))){f&&f();const A=ti;ti=h;try{const B=[C,_===Rr?void 0:g&&_[0]===Rr?[]:_,d];l?l(e,3,B):e(...B),_=C}finally{ti=A}}}else h.run()};return a&&a(m),h=new Qd(u),h.scheduler=o?()=>o(m,!1):m,d=v=>ym(v,!1,h),f=h.onStop=()=>{const v=lo.get(h);if(v){if(l)l(v,4);else for(const C of v)C();lo.delete(h)}},e?i?m(!0):_=h.run():o?o(m.bind(null,!0),!0):h.run(),b.pause=h.pause.bind(h),b.resume=h.resume.bind(h),b.stop=b,b}function un(t,e=1/0,n){if(e<=0||!Ne(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,ut(t))un(t.value,e,n);else if(re(t))for(let i=0;i<t.length;i++)un(t[i],e,n);else if(Vd(t)||Li(t))t.forEach(i=>{un(i,e,n)});else if(jd(t)){for(const i in t)un(t[i],e,n);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&un(t[i],e,n)}return t}/**
* @vue/runtime-core v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function mr(t,e,n,i){try{return i?t(...i):t()}catch(s){Go(s,e,n)}}function Ut(t,e,n,i){if(ce(t)){const s=mr(t,e,n,i);return s&&$d(s)&&s.catch(r=>{Go(r,e,n)}),s}if(re(t)){const s=[];for(let r=0;r<t.length;r++)s.push(Ut(t[r],e,n,i));return s}}function Go(t,e,n,i=!0){const s=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Fe;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const h=a.ec;if(h){for(let u=0;u<h.length;u++)if(h[u](t,l,c)===!1)return}a=a.parent}if(r){Un(),mr(r,null,10,[t,l,c]),jn();return}}Em(t,n,s,i,o)}function Em(t,e,n,i=!0,s=!1){if(s)throw t;console.error(t)}const xt=[];let Qt=-1;const zi=[];let Sn=null,Ii=0;const pp=Promise.resolve();let co=null;function jc(t){const e=co||pp;return t?e.then(this?t.bind(this):t):e}function wm(t){let e=Qt+1,n=xt.length;for(;e<n;){const i=e+n>>>1,s=xt[i],r=Ks(s);r<t||r===t&&s.flags&2?e=i+1:n=i}return e}function qc(t){if(!(t.flags&1)){const e=Ks(t),n=xt[xt.length-1];!n||!(t.flags&2)&&e>=Ks(n)?xt.push(t):xt.splice(wm(e),0,t),t.flags|=1,gp()}}function gp(){co||(co=pp.then(_p))}function Am(t){re(t)?zi.push(...t):Sn&&t.id===-1?Sn.splice(Ii+1,0,t):t.flags&1||(zi.push(t),t.flags|=1),gp()}function lu(t,e,n=Qt+1){for(;n<xt.length;n++){const i=xt[n];if(i&&i.flags&2){if(t&&i.id!==t.uid)continue;xt.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function xp(t){if(zi.length){const e=[...new Set(zi)].sort((n,i)=>Ks(n)-Ks(i));if(zi.length=0,Sn){Sn.push(...e);return}for(Sn=e,Ii=0;Ii<Sn.length;Ii++){const n=Sn[Ii];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Sn=null,Ii=0}}const Ks=t=>t.id==null?t.flags&2?-1:1/0:t.id;function _p(t){try{for(Qt=0;Qt<xt.length;Qt++){const e=xt[Qt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),mr(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Qt<xt.length;Qt++){const e=xt[Qt];e&&(e.flags&=-2)}Qt=-1,xt.length=0,xp(),co=null,(xt.length||zi.length)&&_p()}}let bt=null,mp=null;function ho(t){const e=bt;return bt=t,mp=t&&t.type.__scopeId||null,e}function uo(t,e=bt,n){if(!e||t._n)return t;const i=(...s)=>{i._d&&mu(-1);const r=ho(e);let o;try{o=t(...s)}finally{ho(r),i._d&&mu(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function vp(t,e){if(bt===null)return t;const n=ea(bt),i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[r,o,a,l=Fe]=e[s];r&&(ce(r)&&(r={mounted:r,updated:r}),r.deep&&un(o),i.push({dir:r,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Kn(t,e,n,i){const s=t.dirs,r=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];r&&(a.oldValue=r[o].value);let l=a.dir[i];l&&(Un(),Ut(l,n,8,[t.el,a,t,e]),jn())}}const Sm=Symbol("_vte"),bp=t=>t.__isTeleport,Dn=Symbol("_leaveCb"),Pr=Symbol("_enterCb");function Dm(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return vr(()=>{t.isMounted=!0}),kp(()=>{t.isUnmounting=!0}),t}const Bt=[Function,Array],yp={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Bt,onEnter:Bt,onAfterEnter:Bt,onEnterCancelled:Bt,onBeforeLeave:Bt,onLeave:Bt,onAfterLeave:Bt,onLeaveCancelled:Bt,onBeforeAppear:Bt,onAppear:Bt,onAfterAppear:Bt,onAppearCancelled:Bt},Cp=t=>{const e=t.subTree;return e.component?Cp(e.component):e},km={name:"BaseTransition",props:yp,setup(t,{slots:e}){const n=Av(),i=Dm();return()=>{const s=e.default&&Ap(e.default(),!0);if(!s||!s.length)return;const r=Ep(s),o=me(t),{mode:a}=o;if(i.isLeaving)return Ea(r);const l=cu(r);if(!l)return Ea(r);let c=ql(l,o,i,n,f=>c=f);l.type!==mt&&Gs(l,c);const h=n.subTree,u=h&&cu(h);if(u&&u.type!==mt&&!ri(l,u)&&Cp(n).type!==mt){const f=ql(u,o,i,n);if(Gs(u,f),a==="out-in"&&l.type!==mt)return i.isLeaving=!0,f.afterLeave=()=>{i.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave},Ea(r);a==="in-out"&&l.type!==mt&&(f.delayLeave=(d,p,g)=>{const x=wp(i,u);x[String(u.key)]=u,d[Dn]=()=>{p(),d[Dn]=void 0,delete c.delayedLeave},c.delayedLeave=g})}return r}}};function Ep(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==mt){e=n;break}}return e}const Bm=km;function wp(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function ql(t,e,n,i,s){const{appear:r,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:h,onEnterCancelled:u,onBeforeLeave:f,onLeave:d,onAfterLeave:p,onLeaveCancelled:g,onBeforeAppear:x,onAppear:b,onAfterAppear:_,onAppearCancelled:m}=e,v=String(t.key),C=wp(n,t),A=(D,E)=>{D&&Ut(D,i,9,E)},B=(D,E)=>{const S=E[1];A(D,E),re(D)?D.every(k=>k.length<=1)&&S():D.length<=1&&S()},F={mode:o,persisted:a,beforeEnter(D){let E=l;if(!n.isMounted)if(r)E=x||l;else return;D[Dn]&&D[Dn](!0);const S=C[v];S&&ri(t,S)&&S.el[Dn]&&S.el[Dn](),A(E,[D])},enter(D){let E=c,S=h,k=u;if(!n.isMounted)if(r)E=b||c,S=_||h,k=m||u;else return;let T=!1;const U=D[Pr]=K=>{T||(T=!0,K?A(k,[D]):A(S,[D]),F.delayedLeave&&F.delayedLeave(),D[Pr]=void 0)};E?B(E,[D,U]):U()},leave(D,E){const S=String(t.key);if(D[Pr]&&D[Pr](!0),n.isUnmounting)return E();A(f,[D]);let k=!1;const T=D[Dn]=U=>{k||(k=!0,E(),U?A(g,[D]):A(p,[D]),D[Dn]=void 0,C[S]===t&&delete C[S])};C[S]=t,d?B(d,[D,T]):T()},clone(D){const E=ql(D,e,n,i,s);return s&&s(E),E}};return F}function Ea(t){if(Qo(t))return t=Hn(t),t.children=null,t}function cu(t){if(!Qo(t))return bp(t.type)&&t.children?Ep(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&ce(n.default))return n.default()}}function Gs(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Gs(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ap(t,e=!1,n){let i=[],s=0;for(let r=0;r<t.length;r++){let o=t[r];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:r);o.type===ct?(o.patchFlag&128&&s++,i=i.concat(Ap(o.children,e,a))):(e||o.type!==mt)&&i.push(a!=null?Hn(o,{key:a}):o)}if(s>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function Yo(t,e){return ce(t)?Ke({name:t.name},e,{setup:t}):t}function Sp(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Kl(t,e,n,i,s=!1){if(re(t)){t.forEach((p,g)=>Kl(p,e&&(re(e)?e[g]:e),n,i,s));return}if(Ts(i)&&!s)return;const r=i.shapeFlag&4?ea(i.component):i.el,o=s?null:r,{i:a,r:l}=t,c=e&&e.r,h=a.refs===Fe?a.refs={}:a.refs,u=a.setupState,f=me(u),d=u===Fe?()=>!1:p=>we(f,p);if(c!=null&&c!==l&&(qe(c)?(h[c]=null,d(c)&&(u[c]=null)):ut(c)&&(c.value=null)),ce(l))mr(l,a,12,[o,h]);else{const p=qe(l),g=ut(l);if(p||g){const x=()=>{if(t.f){const b=p?d(l)?u[l]:h[l]:l.value;s?re(b)&&Mc(b,r):re(b)?b.includes(r)||b.push(r):p?(h[l]=[r],d(l)&&(u[l]=h[l])):(l.value=[r],t.k&&(h[t.k]=l.value))}else p?(h[l]=o,d(l)&&(u[l]=o)):g&&(l.value=o,t.k&&(h[t.k]=o))};o?(x.id=-1,At(x,n)):x()}}}jo().requestIdleCallback;jo().cancelIdleCallback;const Ts=t=>!!t.type.__asyncLoader,Qo=t=>t.type.__isKeepAlive;function Fm(t,e){Dp(t,"a",e)}function Tm(t,e){Dp(t,"da",e)}function Dp(t,e,n=it){const i=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Xo(e,i,n),n){let s=n.parent;for(;s&&s.parent;)Qo(s.parent.vnode)&&Im(i,e,n,s),s=s.parent}}function Im(t,e,n,i){const s=Xo(e,t,i,!0);br(()=>{Mc(i[e],s)},n)}function Xo(t,e,n=it,i=!1){if(n){const s=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{Un();const a=yr(n),l=Ut(e,n,t,o);return a(),jn(),l});return i?s.unshift(r):s.push(r),r}}const _n=t=>(e,n=it)=>{(!Xs||t==="sp")&&Xo(t,(...i)=>e(...i),n)},Rm=_n("bm"),vr=_n("m"),Pm=_n("bu"),Mm=_n("u"),kp=_n("bum"),br=_n("um"),Om=_n("sp"),Nm=_n("rtg"),Lm=_n("rtc");function Hm(t,e=it){Xo("ec",t,e)}const zm="components";function Kc(t,e){return Vm(zm,t,!0,e)||t}const Wm=Symbol.for("v-ndc");function Vm(t,e,n=!0,i=!1){const s=bt||it;if(s){const r=s.type;{const a=Fv(r,!1);if(a&&(a===e||a===Pt(e)||a===Uo(Pt(e))))return r}const o=hu(s[t]||r[t],e)||hu(s.appContext[t],e);return!o&&i?r:o}}function hu(t,e){return t&&(t[e]||t[Pt(e)]||t[Uo(Pt(e))])}function Zr(t,e,n,i){let s;const r=n,o=re(t);if(o||qe(t)){const a=o&&Hi(t);let l=!1;a&&(l=!Rt(t),t=qo(t)),s=new Array(t.length);for(let c=0,h=t.length;c<h;c++)s[c]=e(l?lt(t[c]):t[c],c,void 0,r)}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,r)}else if(Ne(t))if(t[Symbol.iterator])s=Array.from(t,(a,l)=>e(a,l,void 0,r));else{const a=Object.keys(t);s=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const h=a[l];s[l]=e(t[h],h,l,r)}}else s=[];return s}const Gl=t=>t?Gp(t)?ea(t):Gl(t.parent):null,Is=Ke(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Gl(t.parent),$root:t=>Gl(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Gc(t),$forceUpdate:t=>t.f||(t.f=()=>{qc(t.update)}),$nextTick:t=>t.n||(t.n=jc.bind(t.proxy)),$watch:t=>cv.bind(t)}),wa=(t,e)=>t!==Fe&&!t.__isScriptSetup&&we(t,e),$m={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:i,data:s,props:r,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const d=o[e];if(d!==void 0)switch(d){case 1:return i[e];case 2:return s[e];case 4:return n[e];case 3:return r[e]}else{if(wa(i,e))return o[e]=1,i[e];if(s!==Fe&&we(s,e))return o[e]=2,s[e];if((c=t.propsOptions[0])&&we(c,e))return o[e]=3,r[e];if(n!==Fe&&we(n,e))return o[e]=4,n[e];Yl&&(o[e]=0)}}const h=Is[e];let u,f;if(h)return e==="$attrs"&&at(t.attrs,"get",""),h(t);if((u=a.__cssModules)&&(u=u[e]))return u;if(n!==Fe&&we(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,we(f,e))return f[e]},set({_:t},e,n){const{data:i,setupState:s,ctx:r}=t;return wa(s,e)?(s[e]=n,!0):i!==Fe&&we(i,e)?(i[e]=n,!0):we(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:s,propsOptions:r}},o){let a;return!!n[o]||t!==Fe&&we(t,o)||wa(e,o)||(a=r[0])&&we(a,o)||we(i,o)||we(Is,o)||we(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:we(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function uu(t){return re(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Yl=!0;function Um(t){const e=Gc(t),n=t.proxy,i=t.ctx;Yl=!1,e.beforeCreate&&fu(e.beforeCreate,t,"bc");const{data:s,computed:r,methods:o,watch:a,provide:l,inject:c,created:h,beforeMount:u,mounted:f,beforeUpdate:d,updated:p,activated:g,deactivated:x,beforeDestroy:b,beforeUnmount:_,destroyed:m,unmounted:v,render:C,renderTracked:A,renderTriggered:B,errorCaptured:F,serverPrefetch:D,expose:E,inheritAttrs:S,components:k,directives:T,filters:U}=e;if(c&&jm(c,i,null),o)for(const Z in o){const J=o[Z];ce(J)&&(i[Z]=J.bind(n))}if(s){const Z=s.call(n,n);Ne(Z)&&(t.data=Ko(Z))}if(Yl=!0,r)for(const Z in r){const J=r[Z],he=ce(J)?J.bind(n,n):ce(J.get)?J.get.bind(n,n):en,le=!ce(J)&&ce(J.set)?J.set.bind(n):en,P=Nt({get:he,set:le});Object.defineProperty(i,Z,{enumerable:!0,configurable:!0,get:()=>P.value,set:O=>P.value=O})}if(a)for(const Z in a)Bp(a[Z],i,n,Z);if(l){const Z=ce(l)?l.call(n):l;Reflect.ownKeys(Z).forEach(J=>{Jr(J,Z[J])})}h&&fu(h,t,"c");function G(Z,J){re(J)?J.forEach(he=>Z(he.bind(n))):J&&Z(J.bind(n))}if(G(Rm,u),G(vr,f),G(Pm,d),G(Mm,p),G(Fm,g),G(Tm,x),G(Hm,F),G(Lm,A),G(Nm,B),G(kp,_),G(br,v),G(Om,D),re(E))if(E.length){const Z=t.exposed||(t.exposed={});E.forEach(J=>{Object.defineProperty(Z,J,{get:()=>n[J],set:he=>n[J]=he})})}else t.exposed||(t.exposed={});C&&t.render===en&&(t.render=C),S!=null&&(t.inheritAttrs=S),k&&(t.components=k),T&&(t.directives=T),D&&Sp(t)}function jm(t,e,n=en){re(t)&&(t=Ql(t));for(const i in t){const s=t[i];let r;Ne(s)?"default"in s?r=dn(s.from||i,s.default,!0):r=dn(s.from||i):r=dn(s),ut(r)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[i]=r}}function fu(t,e,n){Ut(re(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function Bp(t,e,n,i){let s=i.includes(".")?$p(n,i):()=>n[i];if(qe(t)){const r=e[t];ce(r)&&Rs(s,r)}else if(ce(t))Rs(s,t.bind(n));else if(Ne(t))if(re(t))t.forEach(r=>Bp(r,e,n,i));else{const r=ce(t.handler)?t.handler.bind(n):e[t.handler];ce(r)&&Rs(s,r,t)}}function Gc(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let l;return a?l=a:!s.length&&!n&&!i?l=e:(l={},s.length&&s.forEach(c=>fo(l,c,o,!0)),fo(l,e,o)),Ne(e)&&r.set(e,l),l}function fo(t,e,n,i=!1){const{mixins:s,extends:r}=e;r&&fo(t,r,n,!0),s&&s.forEach(o=>fo(t,o,n,!0));for(const o in e)if(!(i&&o==="expose")){const a=qm[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const qm={data:du,props:pu,emits:pu,methods:ws,computed:ws,beforeCreate:gt,created:gt,beforeMount:gt,mounted:gt,beforeUpdate:gt,updated:gt,beforeDestroy:gt,beforeUnmount:gt,destroyed:gt,unmounted:gt,activated:gt,deactivated:gt,errorCaptured:gt,serverPrefetch:gt,components:ws,directives:ws,watch:Gm,provide:du,inject:Km};function du(t,e){return e?t?function(){return Ke(ce(t)?t.call(this,this):t,ce(e)?e.call(this,this):e)}:e:t}function Km(t,e){return ws(Ql(t),Ql(e))}function Ql(t){if(re(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function gt(t,e){return t?[...new Set([].concat(t,e))]:e}function ws(t,e){return t?Ke(Object.create(null),t,e):e}function pu(t,e){return t?re(t)&&re(e)?[...new Set([...t,...e])]:Ke(Object.create(null),uu(t),uu(e??{})):e}function Gm(t,e){if(!t)return e;if(!e)return t;const n=Ke(Object.create(null),t);for(const i in e)n[i]=gt(t[i],e[i]);return n}function Fp(){return{app:null,config:{isNativeTag:L_,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ym=0;function Qm(t,e){return function(i,s=null){ce(i)||(i=Ke({},i)),s!=null&&!Ne(s)&&(s=null);const r=Fp(),o=new WeakSet,a=[];let l=!1;const c=r.app={_uid:Ym++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:Qp,get config(){return r.config},set config(h){},use(h,...u){return o.has(h)||(h&&ce(h.install)?(o.add(h),h.install(c,...u)):ce(h)&&(o.add(h),h(c,...u))),c},mixin(h){return r.mixins.includes(h)||r.mixins.push(h),c},component(h,u){return u?(r.components[h]=u,c):r.components[h]},directive(h,u){return u?(r.directives[h]=u,c):r.directives[h]},mount(h,u,f){if(!l){const d=c._ceVNode||Je(i,s);return d.appContext=r,f===!0?f="svg":f===!1&&(f=void 0),u&&e?e(d,h):t(d,h,f),l=!0,c._container=h,h.__vue_app__=c,ea(d.component)}},onUnmount(h){a.push(h)},unmount(){l&&(Ut(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(h,u){return r.provides[h]=u,c},runWithContext(h){const u=Wi;Wi=c;try{return h()}finally{Wi=u}}};return c}}let Wi=null;function Jr(t,e){if(it){let n=it.provides;const i=it.parent&&it.parent.provides;i===n&&(n=it.provides=Object.create(i)),n[t]=e}}function dn(t,e,n=!1){const i=it||bt;if(i||Wi){const s=Wi?Wi._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&ce(e)?e.call(i&&i.proxy):e}}const Tp={},Ip=()=>Object.create(Tp),Rp=t=>Object.getPrototypeOf(t)===Tp;function Xm(t,e,n,i=!1){const s={},r=Ip();t.propsDefaults=Object.create(null),Pp(t,e,s,r);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=i?s:hp(s):t.type.props?t.props=s:t.props=r,t.attrs=r}function Zm(t,e,n,i){const{props:s,attrs:r,vnode:{patchFlag:o}}=t,a=me(s),[l]=t.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let u=0;u<h.length;u++){let f=h[u];if(Zo(t.emitsOptions,f))continue;const d=e[f];if(l)if(we(r,f))d!==r[f]&&(r[f]=d,c=!0);else{const p=Pt(f);s[p]=Xl(l,a,p,d,t,!1)}else d!==r[f]&&(r[f]=d,c=!0)}}}else{Pp(t,e,s,r)&&(c=!0);let h;for(const u in a)(!e||!we(e,u)&&((h=Ci(u))===u||!we(e,h)))&&(l?n&&(n[u]!==void 0||n[h]!==void 0)&&(s[u]=Xl(l,a,u,void 0,t,!0)):delete s[u]);if(r!==a)for(const u in r)(!e||!we(e,u))&&(delete r[u],c=!0)}c&&hn(t.attrs,"set","")}function Pp(t,e,n,i){const[s,r]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(ks(l))continue;const c=e[l];let h;s&&we(s,h=Pt(l))?!r||!r.includes(h)?n[h]=c:(a||(a={}))[h]=c:Zo(t.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(r){const l=me(n),c=a||Fe;for(let h=0;h<r.length;h++){const u=r[h];n[u]=Xl(s,l,u,c[u],t,!we(c,u))}}return o}function Xl(t,e,n,i,s,r){const o=t[n];if(o!=null){const a=we(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&ce(l)){const{propsDefaults:c}=s;if(n in c)i=c[n];else{const h=yr(s);i=c[n]=l.call(null,e),h()}}else i=l;s.ce&&s.ce._setProp(n,i)}o[0]&&(r&&!a?i=!1:o[1]&&(i===""||i===Ci(n))&&(i=!0))}return i}const Jm=new WeakMap;function Mp(t,e,n=!1){const i=n?Jm:e.propsCache,s=i.get(t);if(s)return s;const r=t.props,o={},a=[];let l=!1;if(!ce(t)){const h=u=>{l=!0;const[f,d]=Mp(u,e,!0);Ke(o,f),d&&a.push(...d)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!r&&!l)return Ne(t)&&i.set(t,Ni),Ni;if(re(r))for(let h=0;h<r.length;h++){const u=Pt(r[h]);gu(u)&&(o[u]=Fe)}else if(r)for(const h in r){const u=Pt(h);if(gu(u)){const f=r[h],d=o[u]=re(f)||ce(f)?{type:f}:Ke({},f),p=d.type;let g=!1,x=!0;if(re(p))for(let b=0;b<p.length;++b){const _=p[b],m=ce(_)&&_.name;if(m==="Boolean"){g=!0;break}else m==="String"&&(x=!1)}else g=ce(p)&&p.name==="Boolean";d[0]=g,d[1]=x,(g||we(d,"default"))&&a.push(u)}}const c=[o,a];return Ne(t)&&i.set(t,c),c}function gu(t){return t[0]!=="$"&&!ks(t)}const Op=t=>t[0]==="_"||t==="$stable",Yc=t=>re(t)?t.map(Jt):[Jt(t)],ev=(t,e,n)=>{if(e._n)return e;const i=uo((...s)=>Yc(e(...s)),n);return i._c=!1,i},Np=(t,e,n)=>{const i=t._ctx;for(const s in t){if(Op(s))continue;const r=t[s];if(ce(r))e[s]=ev(s,r,i);else if(r!=null){const o=Yc(r);e[s]=()=>o}}},Lp=(t,e)=>{const n=Yc(e);t.slots.default=()=>n},Hp=(t,e,n)=>{for(const i in e)(n||i!=="_")&&(t[i]=e[i])},tv=(t,e,n)=>{const i=t.slots=Ip();if(t.vnode.shapeFlag&32){const s=e._;s?(Hp(i,e,n),n&&qd(i,"_",s,!0)):Np(e,i)}else e&&Lp(t,e)},nv=(t,e,n)=>{const{vnode:i,slots:s}=t;let r=!0,o=Fe;if(i.shapeFlag&32){const a=e._;a?n&&a===1?r=!1:Hp(s,e,n):(r=!e.$stable,Np(e,s)),o=e}else e&&(Lp(t,e),o={default:1});if(r)for(const a in s)!Op(a)&&o[a]==null&&delete s[a]},At=xv;function iv(t){return sv(t)}function sv(t,e){const n=jo();n.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:h,parentNode:u,nextSibling:f,setScopeId:d=en,insertStaticContent:p}=t,g=(y,w,I,W=null,M=null,V=null,Q=void 0,q=null,$=!!w.dynamicChildren)=>{if(y===w)return;y&&!ri(y,w)&&(W=R(y),O(y,M,V,!0),y=null),w.patchFlag===-2&&($=!1,w.dynamicChildren=null);const{type:z,ref:te,shapeFlag:X}=w;switch(z){case Jo:x(y,w,I,W);break;case mt:b(y,w,I,W);break;case Da:y==null&&_(w,I,W,Q);break;case ct:k(y,w,I,W,M,V,Q,q,$);break;default:X&1?C(y,w,I,W,M,V,Q,q,$):X&6?T(y,w,I,W,M,V,Q,q,$):(X&64||X&128)&&z.process(y,w,I,W,M,V,Q,q,$,ee)}te!=null&&M&&Kl(te,y&&y.ref,V,w||y,!w)},x=(y,w,I,W)=>{if(y==null)i(w.el=a(w.children),I,W);else{const M=w.el=y.el;w.children!==y.children&&c(M,w.children)}},b=(y,w,I,W)=>{y==null?i(w.el=l(w.children||""),I,W):w.el=y.el},_=(y,w,I,W)=>{[y.el,y.anchor]=p(y.children,w,I,W,y.el,y.anchor)},m=({el:y,anchor:w},I,W)=>{let M;for(;y&&y!==w;)M=f(y),i(y,I,W),y=M;i(w,I,W)},v=({el:y,anchor:w})=>{let I;for(;y&&y!==w;)I=f(y),s(y),y=I;s(w)},C=(y,w,I,W,M,V,Q,q,$)=>{w.type==="svg"?Q="svg":w.type==="math"&&(Q="mathml"),y==null?A(w,I,W,M,V,Q,q,$):D(y,w,M,V,Q,q,$)},A=(y,w,I,W,M,V,Q,q)=>{let $,z;const{props:te,shapeFlag:X,transition:ne,dirs:ie}=y;if($=y.el=o(y.type,V,te&&te.is,te),X&8?h($,y.children):X&16&&F(y.children,$,null,W,M,Aa(y,V),Q,q),ie&&Kn(y,null,W,"created"),B($,y,y.scopeId,Q,W),te){for(const ke in te)ke!=="value"&&!ks(ke)&&r($,ke,null,te[ke],V,W);"value"in te&&r($,"value",null,te.value,V),(z=te.onVnodeBeforeMount)&&Kt(z,W,y)}ie&&Kn(y,null,W,"beforeMount");const ue=rv(M,ne);ue&&ne.beforeEnter($),i($,w,I),((z=te&&te.onVnodeMounted)||ue||ie)&&At(()=>{z&&Kt(z,W,y),ue&&ne.enter($),ie&&Kn(y,null,W,"mounted")},M)},B=(y,w,I,W,M)=>{if(I&&d(y,I),W)for(let V=0;V<W.length;V++)d(y,W[V]);if(M){let V=M.subTree;if(w===V||jp(V.type)&&(V.ssContent===w||V.ssFallback===w)){const Q=M.vnode;B(y,Q,Q.scopeId,Q.slotScopeIds,M.parent)}}},F=(y,w,I,W,M,V,Q,q,$=0)=>{for(let z=$;z<y.length;z++){const te=y[z]=q?kn(y[z]):Jt(y[z]);g(null,te,w,I,W,M,V,Q,q)}},D=(y,w,I,W,M,V,Q)=>{const q=w.el=y.el;let{patchFlag:$,dynamicChildren:z,dirs:te}=w;$|=y.patchFlag&16;const X=y.props||Fe,ne=w.props||Fe;let ie;if(I&&Gn(I,!1),(ie=ne.onVnodeBeforeUpdate)&&Kt(ie,I,w,y),te&&Kn(w,y,I,"beforeUpdate"),I&&Gn(I,!0),(X.innerHTML&&ne.innerHTML==null||X.textContent&&ne.textContent==null)&&h(q,""),z?E(y.dynamicChildren,z,q,I,W,Aa(w,M),V):Q||J(y,w,q,null,I,W,Aa(w,M),V,!1),$>0){if($&16)S(q,X,ne,I,M);else if($&2&&X.class!==ne.class&&r(q,"class",null,ne.class,M),$&4&&r(q,"style",X.style,ne.style,M),$&8){const ue=w.dynamicProps;for(let ke=0;ke<ue.length;ke++){const ye=ue[ke],rt=X[ye],He=ne[ye];(He!==rt||ye==="value")&&r(q,ye,rt,He,M,I)}}$&1&&y.children!==w.children&&h(q,w.children)}else!Q&&z==null&&S(q,X,ne,I,M);((ie=ne.onVnodeUpdated)||te)&&At(()=>{ie&&Kt(ie,I,w,y),te&&Kn(w,y,I,"updated")},W)},E=(y,w,I,W,M,V,Q)=>{for(let q=0;q<w.length;q++){const $=y[q],z=w[q],te=$.el&&($.type===ct||!ri($,z)||$.shapeFlag&70)?u($.el):I;g($,z,te,null,W,M,V,Q,!0)}},S=(y,w,I,W,M)=>{if(w!==I){if(w!==Fe)for(const V in w)!ks(V)&&!(V in I)&&r(y,V,w[V],null,M,W);for(const V in I){if(ks(V))continue;const Q=I[V],q=w[V];Q!==q&&V!=="value"&&r(y,V,q,Q,M,W)}"value"in I&&r(y,"value",w.value,I.value,M)}},k=(y,w,I,W,M,V,Q,q,$)=>{const z=w.el=y?y.el:a(""),te=w.anchor=y?y.anchor:a("");let{patchFlag:X,dynamicChildren:ne,slotScopeIds:ie}=w;ie&&(q=q?q.concat(ie):ie),y==null?(i(z,I,W),i(te,I,W),F(w.children||[],I,te,M,V,Q,q,$)):X>0&&X&64&&ne&&y.dynamicChildren?(E(y.dynamicChildren,ne,I,M,V,Q,q),(w.key!=null||M&&w===M.subTree)&&zp(y,w,!0)):J(y,w,I,te,M,V,Q,q,$)},T=(y,w,I,W,M,V,Q,q,$)=>{w.slotScopeIds=q,y==null?w.shapeFlag&512?M.ctx.activate(w,I,W,Q,$):U(w,I,W,M,V,Q,$):K(y,w,$)},U=(y,w,I,W,M,V,Q)=>{const q=y.component=wv(y,W,M);if(Qo(y)&&(q.ctx.renderer=ee),Sv(q,!1,Q),q.asyncDep){if(M&&M.registerDep(q,G,Q),!y.el){const $=q.subTree=Je(mt);b(null,$,w,I)}}else G(q,y,w,I,M,V,Q)},K=(y,w,I)=>{const W=w.component=y.component;if(pv(y,w,I))if(W.asyncDep&&!W.asyncResolved){Z(W,w,I);return}else W.next=w,W.update();else w.el=y.el,W.vnode=w},G=(y,w,I,W,M,V,Q)=>{const q=()=>{if(y.isMounted){let{next:X,bu:ne,u:ie,parent:ue,vnode:ke}=y;{const dt=Wp(y);if(dt){X&&(X.el=ke.el,Z(y,X,Q)),dt.asyncDep.then(()=>{y.isUnmounted||q()});return}}let ye=X,rt;Gn(y,!1),X?(X.el=ke.el,Z(y,X,Q)):X=ke,ne&&Xr(ne),(rt=X.props&&X.props.onVnodeBeforeUpdate)&&Kt(rt,ue,X,ke),Gn(y,!0);const He=Sa(y),tt=y.subTree;y.subTree=He,g(tt,He,u(tt.el),R(tt),y,M,V),X.el=He.el,ye===null&&gv(y,He.el),ie&&At(ie,M),(rt=X.props&&X.props.onVnodeUpdated)&&At(()=>Kt(rt,ue,X,ke),M)}else{let X;const{el:ne,props:ie}=w,{bm:ue,m:ke,parent:ye,root:rt,type:He}=y,tt=Ts(w);if(Gn(y,!1),ue&&Xr(ue),!tt&&(X=ie&&ie.onVnodeBeforeMount)&&Kt(X,ye,w),Gn(y,!0),ne&&Ae){const dt=()=>{y.subTree=Sa(y),Ae(ne,y.subTree,y,M,null)};tt&&He.__asyncHydrate?He.__asyncHydrate(ne,y,dt):dt()}else{rt.ce&&rt.ce._injectChildStyle(He);const dt=y.subTree=Sa(y);g(null,dt,I,W,y,M,V),w.el=dt.el}if(ke&&At(ke,M),!tt&&(X=ie&&ie.onVnodeMounted)){const dt=w;At(()=>Kt(X,ye,dt),M)}(w.shapeFlag&256||ye&&Ts(ye.vnode)&&ye.vnode.shapeFlag&256)&&y.a&&At(y.a,M),y.isMounted=!0,w=I=W=null}};y.scope.on();const $=y.effect=new Qd(q);y.scope.off();const z=y.update=$.run.bind($),te=y.job=$.runIfDirty.bind($);te.i=y,te.id=y.uid,$.scheduler=()=>qc(te),Gn(y,!0),z()},Z=(y,w,I)=>{w.component=y;const W=y.vnode.props;y.vnode=w,y.next=null,Zm(y,w.props,W,I),nv(y,w.children,I),Un(),lu(y),jn()},J=(y,w,I,W,M,V,Q,q,$=!1)=>{const z=y&&y.children,te=y?y.shapeFlag:0,X=w.children,{patchFlag:ne,shapeFlag:ie}=w;if(ne>0){if(ne&128){le(z,X,I,W,M,V,Q,q,$);return}else if(ne&256){he(z,X,I,W,M,V,Q,q,$);return}}ie&8?(te&16&&oe(z,M,V),X!==z&&h(I,X)):te&16?ie&16?le(z,X,I,W,M,V,Q,q,$):oe(z,M,V,!0):(te&8&&h(I,""),ie&16&&F(X,I,W,M,V,Q,q,$))},he=(y,w,I,W,M,V,Q,q,$)=>{y=y||Ni,w=w||Ni;const z=y.length,te=w.length,X=Math.min(z,te);let ne;for(ne=0;ne<X;ne++){const ie=w[ne]=$?kn(w[ne]):Jt(w[ne]);g(y[ne],ie,I,null,M,V,Q,q,$)}z>te?oe(y,M,V,!0,!1,X):F(w,I,W,M,V,Q,q,$,X)},le=(y,w,I,W,M,V,Q,q,$)=>{let z=0;const te=w.length;let X=y.length-1,ne=te-1;for(;z<=X&&z<=ne;){const ie=y[z],ue=w[z]=$?kn(w[z]):Jt(w[z]);if(ri(ie,ue))g(ie,ue,I,null,M,V,Q,q,$);else break;z++}for(;z<=X&&z<=ne;){const ie=y[X],ue=w[ne]=$?kn(w[ne]):Jt(w[ne]);if(ri(ie,ue))g(ie,ue,I,null,M,V,Q,q,$);else break;X--,ne--}if(z>X){if(z<=ne){const ie=ne+1,ue=ie<te?w[ie].el:W;for(;z<=ne;)g(null,w[z]=$?kn(w[z]):Jt(w[z]),I,ue,M,V,Q,q,$),z++}}else if(z>ne)for(;z<=X;)O(y[z],M,V,!0),z++;else{const ie=z,ue=z,ke=new Map;for(z=ue;z<=ne;z++){const pt=w[z]=$?kn(w[z]):Jt(w[z]);pt.key!=null&&ke.set(pt.key,z)}let ye,rt=0;const He=ne-ue+1;let tt=!1,dt=0;const vn=new Array(He);for(z=0;z<He;z++)vn[z]=0;for(z=ie;z<=X;z++){const pt=y[z];if(rt>=He){O(pt,M,V,!0);continue}let kt;if(pt.key!=null)kt=ke.get(pt.key);else for(ye=ue;ye<=ne;ye++)if(vn[ye-ue]===0&&ri(pt,w[ye])){kt=ye;break}kt===void 0?O(pt,M,V,!0):(vn[kt-ue]=z+1,kt>=dt?dt=kt:tt=!0,g(pt,w[kt],I,null,M,V,Q,q,$),rt++)}const hs=tt?ov(vn):Ni;for(ye=hs.length-1,z=He-1;z>=0;z--){const pt=ue+z,kt=w[pt],us=pt+1<te?w[pt+1].el:W;vn[z]===0?g(null,kt,I,us,M,V,Q,q,$):tt&&(ye<0||z!==hs[ye]?P(kt,I,us,2):ye--)}}},P=(y,w,I,W,M=null)=>{const{el:V,type:Q,transition:q,children:$,shapeFlag:z}=y;if(z&6){P(y.component.subTree,w,I,W);return}if(z&128){y.suspense.move(w,I,W);return}if(z&64){Q.move(y,w,I,ee);return}if(Q===ct){i(V,w,I);for(let X=0;X<$.length;X++)P($[X],w,I,W);i(y.anchor,w,I);return}if(Q===Da){m(y,w,I);return}if(W!==2&&z&1&&q)if(W===0)q.beforeEnter(V),i(V,w,I),At(()=>q.enter(V),M);else{const{leave:X,delayLeave:ne,afterLeave:ie}=q,ue=()=>i(V,w,I),ke=()=>{X(V,()=>{ue(),ie&&ie()})};ne?ne(V,ue,ke):ke()}else i(V,w,I)},O=(y,w,I,W=!1,M=!1)=>{const{type:V,props:Q,ref:q,children:$,dynamicChildren:z,shapeFlag:te,patchFlag:X,dirs:ne,cacheIndex:ie}=y;if(X===-2&&(M=!1),q!=null&&Kl(q,null,I,y,!0),ie!=null&&(w.renderCache[ie]=void 0),te&256){w.ctx.deactivate(y);return}const ue=te&1&&ne,ke=!Ts(y);let ye;if(ke&&(ye=Q&&Q.onVnodeBeforeUnmount)&&Kt(ye,w,y),te&6)xe(y.component,I,W);else{if(te&128){y.suspense.unmount(I,W);return}ue&&Kn(y,null,w,"beforeUnmount"),te&64?y.type.remove(y,w,I,ee,W):z&&!z.hasOnce&&(V!==ct||X>0&&X&64)?oe(z,w,I,!1,!0):(V===ct&&X&384||!M&&te&16)&&oe($,w,I),W&&L(y)}(ke&&(ye=Q&&Q.onVnodeUnmounted)||ue)&&At(()=>{ye&&Kt(ye,w,y),ue&&Kn(y,null,w,"unmounted")},I)},L=y=>{const{type:w,el:I,anchor:W,transition:M}=y;if(w===ct){N(I,W);return}if(w===Da){v(y);return}const V=()=>{s(I),M&&!M.persisted&&M.afterLeave&&M.afterLeave()};if(y.shapeFlag&1&&M&&!M.persisted){const{leave:Q,delayLeave:q}=M,$=()=>Q(I,V);q?q(y.el,V,$):$()}else V()},N=(y,w)=>{let I;for(;y!==w;)I=f(y),s(y),y=I;s(w)},xe=(y,w,I)=>{const{bum:W,scope:M,job:V,subTree:Q,um:q,m:$,a:z}=y;xu($),xu(z),W&&Xr(W),M.stop(),V&&(V.flags|=8,O(Q,y,w,I)),q&&At(q,w),At(()=>{y.isUnmounted=!0},w),w&&w.pendingBranch&&!w.isUnmounted&&y.asyncDep&&!y.asyncResolved&&y.suspenseId===w.pendingId&&(w.deps--,w.deps===0&&w.resolve())},oe=(y,w,I,W=!1,M=!1,V=0)=>{for(let Q=V;Q<y.length;Q++)O(y[Q],w,I,W,M)},R=y=>{if(y.shapeFlag&6)return R(y.component.subTree);if(y.shapeFlag&128)return y.suspense.next();const w=f(y.anchor||y.el),I=w&&w[Sm];return I?f(I):w};let H=!1;const Y=(y,w,I)=>{y==null?w._vnode&&O(w._vnode,null,null,!0):g(w._vnode||null,y,w,null,null,null,I),w._vnode=y,H||(H=!0,lu(),xp(),H=!1)},ee={p:g,um:O,m:P,r:L,mt:U,mc:F,pc:J,pbc:E,n:R,o:t};let ve,Ae;return{render:Y,hydrate:ve,createApp:Qm(Y,ve)}}function Aa({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Gn({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function rv(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function zp(t,e,n=!1){const i=t.children,s=e.children;if(re(i)&&re(s))for(let r=0;r<i.length;r++){const o=i[r];let a=s[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[r]=kn(s[r]),a.el=o.el),!n&&a.patchFlag!==-2&&zp(o,a)),a.type===Jo&&(a.el=o.el)}}function ov(t){const e=t.slice(),n=[0];let i,s,r,o,a;const l=t.length;for(i=0;i<l;i++){const c=t[i];if(c!==0){if(s=n[n.length-1],t[s]<c){e[i]=s,n.push(i);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,t[n[a]]<c?r=a+1:o=a;c<t[n[r]]&&(r>0&&(e[i]=n[r-1]),n[r]=i)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}function Wp(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Wp(e)}function xu(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const av=Symbol.for("v-scx"),lv=()=>dn(av);function Rs(t,e,n){return Vp(t,e,n)}function Vp(t,e,n=Fe){const{immediate:i,deep:s,flush:r,once:o}=n,a=Ke({},n),l=e&&i||!e&&r!=="post";let c;if(Xs){if(r==="sync"){const d=lv();c=d.__watcherHandles||(d.__watcherHandles=[])}else if(!l){const d=()=>{};return d.stop=en,d.resume=en,d.pause=en,d}}const h=it;a.call=(d,p,g)=>Ut(d,h,p,g);let u=!1;r==="post"?a.scheduler=d=>{At(d,h&&h.suspense)}:r!=="sync"&&(u=!0,a.scheduler=(d,p)=>{p?d():qc(d)}),a.augmentJob=d=>{e&&(d.flags|=4),u&&(d.flags|=2,h&&(d.id=h.uid,d.i=h))};const f=Cm(t,e,a);return Xs&&(c?c.push(f):l&&f()),f}function cv(t,e,n){const i=this.proxy,s=qe(t)?t.includes(".")?$p(i,t):()=>i[t]:t.bind(i,i);let r;ce(e)?r=e:(r=e.handler,n=e);const o=yr(this),a=Vp(s,r.bind(i),n);return o(),a}function $p(t,e){const n=e.split(".");return()=>{let i=t;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}const hv=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Pt(e)}Modifiers`]||t[`${Ci(e)}Modifiers`];function uv(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||Fe;let s=n;const r=e.startsWith("update:"),o=r&&hv(i,e.slice(7));o&&(o.trim&&(s=n.map(h=>qe(h)?h.trim():h)),o.number&&(s=n.map(zl)));let a,l=i[a=ma(e)]||i[a=ma(Pt(e))];!l&&r&&(l=i[a=ma(Ci(e))]),l&&Ut(l,t,6,s);const c=i[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ut(c,t,6,s)}}function Up(t,e,n=!1){const i=e.emitsCache,s=i.get(t);if(s!==void 0)return s;const r=t.emits;let o={},a=!1;if(!ce(t)){const l=c=>{const h=Up(c,e,!0);h&&(a=!0,Ke(o,h))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(Ne(t)&&i.set(t,null),null):(re(r)?r.forEach(l=>o[l]=null):Ke(o,r),Ne(t)&&i.set(t,o),o)}function Zo(t,e){return!t||!Wo(e)?!1:(e=e.slice(2).replace(/Once$/,""),we(t,e[0].toLowerCase()+e.slice(1))||we(t,Ci(e))||we(t,e))}function Sa(t){const{type:e,vnode:n,proxy:i,withProxy:s,propsOptions:[r],slots:o,attrs:a,emit:l,render:c,renderCache:h,props:u,data:f,setupState:d,ctx:p,inheritAttrs:g}=t,x=ho(t);let b,_;try{if(n.shapeFlag&4){const v=s||i,C=v;b=Jt(c.call(C,v,h,u,d,f,p)),_=a}else{const v=e;b=Jt(v.length>1?v(u,{attrs:a,slots:o,emit:l}):v(u,null)),_=e.props?a:fv(a)}}catch(v){Ps.length=0,Go(v,t,1),b=Je(mt)}let m=b;if(_&&g!==!1){const v=Object.keys(_),{shapeFlag:C}=m;v.length&&C&7&&(r&&v.some(Pc)&&(_=dv(_,r)),m=Hn(m,_,!1,!0))}return n.dirs&&(m=Hn(m,null,!1,!0),m.dirs=m.dirs?m.dirs.concat(n.dirs):n.dirs),n.transition&&Gs(m,n.transition),b=m,ho(x),b}const fv=t=>{let e;for(const n in t)(n==="class"||n==="style"||Wo(n))&&((e||(e={}))[n]=t[n]);return e},dv=(t,e)=>{const n={};for(const i in t)(!Pc(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function pv(t,e,n){const{props:i,children:s,component:r}=t,{props:o,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?_u(i,o,c):!!o;if(l&8){const h=e.dynamicProps;for(let u=0;u<h.length;u++){const f=h[u];if(o[f]!==i[f]&&!Zo(c,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?_u(i,o,c):!0:!!o;return!1}function _u(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(e[r]!==t[r]&&!Zo(n,r))return!0}return!1}function gv({vnode:t,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=n,e=e.parent;else break}}const jp=t=>t.__isSuspense;function xv(t,e){e&&e.pendingBranch?re(t)?e.effects.push(...t):e.effects.push(t):Am(t)}const ct=Symbol.for("v-fgt"),Jo=Symbol.for("v-txt"),mt=Symbol.for("v-cmt"),Da=Symbol.for("v-stc"),Ps=[];let Dt=null;function We(t=!1){Ps.push(Dt=t?null:[])}function _v(){Ps.pop(),Dt=Ps[Ps.length-1]||null}let Ys=1;function mu(t){Ys+=t,t<0&&Dt&&(Dt.hasOnce=!0)}function qp(t){return t.dynamicChildren=Ys>0?Dt||Ni:null,_v(),Ys>0&&Dt&&Dt.push(t),t}function Ue(t,e,n,i,s,r){return qp(ae(t,e,n,i,s,r,!0))}function mv(t,e,n,i,s){return qp(Je(t,e,n,i,s,!0))}function po(t){return t?t.__v_isVNode===!0:!1}function ri(t,e){return t.type===e.type&&t.key===e.key}const Kp=({key:t})=>t??null,eo=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?qe(t)||ut(t)||ce(t)?{i:bt,r:t,k:e,f:!!n}:t:null);function ae(t,e=null,n=null,i=0,s=null,r=t===ct?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Kp(e),ref:e&&eo(e),scopeId:mp,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:bt};return a?(Qc(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=qe(n)?8:16),Ys>0&&!o&&Dt&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Dt.push(l),l}const Je=vv;function vv(t,e=null,n=null,i=0,s=null,r=!1){if((!t||t===Wm)&&(t=mt),po(t)){const a=Hn(t,e,!0);return n&&Qc(a,n),Ys>0&&!r&&Dt&&(a.shapeFlag&6?Dt[Dt.indexOf(t)]=a:Dt.push(a)),a.patchFlag=-2,a}if(Tv(t)&&(t=t.__vccOpts),e){e=bv(e);let{class:a,style:l}=e;a&&!qe(a)&&(e.class=Gi(a)),Ne(l)&&(_r(l)&&!re(l)&&(l=Ke({},l)),e.style=Nc(l))}const o=qe(t)?1:jp(t)?128:bp(t)?64:Ne(t)?4:ce(t)?2:0;return ae(t,e,n,i,s,o,r,!0)}function bv(t){return t?_r(t)||Rp(t)?Ke({},t):t:null}function Hn(t,e,n=!1,i=!1){const{props:s,ref:r,patchFlag:o,children:a,transition:l}=t,c=e?yv(s||{},e):s,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Kp(c),ref:e&&e.ref?n&&r?re(r)?r.concat(eo(e)):[r,eo(e)]:eo(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ct?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Hn(t.ssContent),ssFallback:t.ssFallback&&Hn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&Gs(h,l.clone(h)),h}function Qs(t=" ",e=0){return Je(Jo,null,t,e)}function Zt(t="",e=!1){return e?(We(),mv(mt,null,t)):Je(mt,null,t)}function Jt(t){return t==null||typeof t=="boolean"?Je(mt):re(t)?Je(ct,null,t.slice()):po(t)?kn(t):Je(Jo,null,String(t))}function kn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Hn(t)}function Qc(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(re(e))n=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),Qc(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!Rp(e)?e._ctx=bt:s===3&&bt&&(bt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ce(e)?(e={default:e,_ctx:bt},n=32):(e=String(e),i&64?(n=16,e=[Qs(e)]):n=8);t.children=e,t.shapeFlag|=n}function yv(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=Gi([e.class,i.class]));else if(s==="style")e.style=Nc([e.style,i.style]);else if(Wo(s)){const r=e[s],o=i[s];o&&r!==o&&!(re(r)&&r.includes(o))&&(e[s]=r?[].concat(r,o):o)}else s!==""&&(e[s]=i[s])}return e}function Kt(t,e,n,i=null){Ut(t,e,7,[n,i])}const Cv=Fp();let Ev=0;function wv(t,e,n){const i=t.type,s=(e?e.appContext:t.appContext)||Cv,r={uid:Ev++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Q_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Mp(i,s),emitsOptions:Up(i,s),emit:null,emitted:null,propsDefaults:Fe,inheritAttrs:i.inheritAttrs,ctx:Fe,data:Fe,props:Fe,attrs:Fe,slots:Fe,refs:Fe,setupState:Fe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=uv.bind(null,r),t.ce&&t.ce(r),r}let it=null;const Av=()=>it||bt;let go,Zl;{const t=jo(),e=(n,i)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(i),r=>{s.length>1?s.forEach(o=>o(r)):s[0](r)}};go=e("__VUE_INSTANCE_SETTERS__",n=>it=n),Zl=e("__VUE_SSR_SETTERS__",n=>Xs=n)}const yr=t=>{const e=it;return go(t),t.scope.on(),()=>{t.scope.off(),go(e)}},vu=()=>{it&&it.scope.off(),go(null)};function Gp(t){return t.vnode.shapeFlag&4}let Xs=!1;function Sv(t,e=!1,n=!1){e&&Zl(e);const{props:i,children:s}=t.vnode,r=Gp(t);Xm(t,i,r,e),tv(t,s,n);const o=r?Dv(t,e):void 0;return e&&Zl(!1),o}function Dv(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,$m);const{setup:i}=n;if(i){Un();const s=t.setupContext=i.length>1?Bv(t):null,r=yr(t),o=mr(i,t,0,[t.props,s]),a=$d(o);if(jn(),r(),(a||t.sp)&&!Ts(t)&&Sp(t),a){if(o.then(vu,vu),e)return o.then(l=>{bu(t,l,e)}).catch(l=>{Go(l,t,0)});t.asyncDep=o}else bu(t,o,e)}else Yp(t,e)}function bu(t,e,n){ce(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ne(e)&&(t.setupState=dp(e)),Yp(t,n)}let yu;function Yp(t,e,n){const i=t.type;if(!t.render){if(!e&&yu&&!i.render){const s=i.template||Gc(t).template;if(s){const{isCustomElement:r,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=i,c=Ke(Ke({isCustomElement:r,delimiters:a},o),l);i.render=yu(s,c)}}t.render=i.render||en}{const s=yr(t);Un();try{Um(t)}finally{jn(),s()}}}const kv={get(t,e){return at(t,"get",""),t[e]}};function Bv(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,kv),slots:t.slots,emit:t.emit,expose:e}}function ea(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(dp(xm(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Is)return Is[n](t)},has(e,n){return n in e||n in Is}})):t.proxy}function Fv(t,e=!0){return ce(t)?t.displayName||t.name:t.name||e&&t.__name}function Tv(t){return ce(t)&&"__vccOpts"in t}const Nt=(t,e)=>bm(t,e,Xs);function Yi(t,e,n){const i=arguments.length;return i===2?Ne(e)&&!re(e)?po(e)?Je(t,null,[e]):Je(t,e):Je(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&po(n)&&(n=[n]),Je(t,e,n))}const Qp="3.5.12";/**
* @vue/runtime-dom v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Jl;const Cu=typeof window<"u"&&window.trustedTypes;if(Cu)try{Jl=Cu.createPolicy("vue",{createHTML:t=>t})}catch{}const Xp=Jl?t=>Jl.createHTML(t):t=>t,Iv="http://www.w3.org/2000/svg",Rv="http://www.w3.org/1998/Math/MathML",ln=typeof document<"u"?document:null,Eu=ln&&ln.createElement("template"),Pv={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const s=e==="svg"?ln.createElementNS(Iv,t):e==="mathml"?ln.createElementNS(Rv,t):n?ln.createElement(t,{is:n}):ln.createElement(t);return t==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:t=>ln.createTextNode(t),createComment:t=>ln.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ln.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,s,r){const o=n?n.previousSibling:e.lastChild;if(s&&(s===r||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{Eu.innerHTML=Xp(i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t);const a=Eu.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},yn="transition",ds="animation",Zs=Symbol("_vtc"),Zp={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Mv=Ke({},yp,Zp),Ov=t=>(t.displayName="Transition",t.props=Mv,t),Nv=Ov((t,{slots:e})=>Yi(Bm,Lv(t),e)),Yn=(t,e=[])=>{re(t)?t.forEach(n=>n(...e)):t&&t(...e)},wu=t=>t?re(t)?t.some(e=>e.length>1):t.length>1:!1;function Lv(t){const e={};for(const k in t)k in Zp||(e[k]=t[k]);if(t.css===!1)return e;const{name:n="v",type:i,duration:s,enterFromClass:r=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=r,appearActiveClass:c=o,appearToClass:h=a,leaveFromClass:u=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=t,p=Hv(s),g=p&&p[0],x=p&&p[1],{onBeforeEnter:b,onEnter:_,onEnterCancelled:m,onLeave:v,onLeaveCancelled:C,onBeforeAppear:A=b,onAppear:B=_,onAppearCancelled:F=m}=e,D=(k,T,U)=>{Qn(k,T?h:a),Qn(k,T?c:o),U&&U()},E=(k,T)=>{k._isLeaving=!1,Qn(k,u),Qn(k,d),Qn(k,f),T&&T()},S=k=>(T,U)=>{const K=k?B:_,G=()=>D(T,k,U);Yn(K,[T,G]),Au(()=>{Qn(T,k?l:r),Cn(T,k?h:a),wu(K)||Su(T,i,g,G)})};return Ke(e,{onBeforeEnter(k){Yn(b,[k]),Cn(k,r),Cn(k,o)},onBeforeAppear(k){Yn(A,[k]),Cn(k,l),Cn(k,c)},onEnter:S(!1),onAppear:S(!0),onLeave(k,T){k._isLeaving=!0;const U=()=>E(k,T);Cn(k,u),Cn(k,f),Vv(),Au(()=>{k._isLeaving&&(Qn(k,u),Cn(k,d),wu(v)||Su(k,i,x,U))}),Yn(v,[k,U])},onEnterCancelled(k){D(k,!1),Yn(m,[k])},onAppearCancelled(k){D(k,!0),Yn(F,[k])},onLeaveCancelled(k){E(k),Yn(C,[k])}})}function Hv(t){if(t==null)return null;if(Ne(t))return[ka(t.enter),ka(t.leave)];{const e=ka(t);return[e,e]}}function ka(t){return $_(t)}function Cn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Zs]||(t[Zs]=new Set)).add(e)}function Qn(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const n=t[Zs];n&&(n.delete(e),n.size||(t[Zs]=void 0))}function Au(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let zv=0;function Su(t,e,n,i){const s=t._endId=++zv,r=()=>{s===t._endId&&i()};if(n!=null)return setTimeout(r,n);const{type:o,timeout:a,propCount:l}=Wv(t,e);if(!o)return i();const c=o+"end";let h=0;const u=()=>{t.removeEventListener(c,f),r()},f=d=>{d.target===t&&++h>=l&&u()};setTimeout(()=>{h<l&&u()},a+1),t.addEventListener(c,f)}function Wv(t,e){const n=window.getComputedStyle(t),i=p=>(n[p]||"").split(", "),s=i(`${yn}Delay`),r=i(`${yn}Duration`),o=Du(s,r),a=i(`${ds}Delay`),l=i(`${ds}Duration`),c=Du(a,l);let h=null,u=0,f=0;e===yn?o>0&&(h=yn,u=o,f=r.length):e===ds?c>0&&(h=ds,u=c,f=l.length):(u=Math.max(o,c),h=u>0?o>c?yn:ds:null,f=h?h===yn?r.length:l.length:0);const d=h===yn&&/\b(transform|all)(,|$)/.test(i(`${yn}Property`).toString());return{type:h,timeout:u,propCount:f,hasTransform:d}}function Du(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>ku(n)+ku(t[i])))}function ku(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Vv(){return document.body.offsetHeight}function $v(t,e,n){const i=t[Zs];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Bu=Symbol("_vod"),Uv=Symbol("_vsh"),jv=Symbol(""),qv=/(^|;)\s*display\s*:/;function Kv(t,e,n){const i=t.style,s=qe(n);let r=!1;if(n&&!s){if(e)if(qe(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&to(i,a,"")}else for(const o in e)n[o]==null&&to(i,o,"");for(const o in n)o==="display"&&(r=!0),to(i,o,n[o])}else if(s){if(e!==n){const o=i[jv];o&&(n+=";"+o),i.cssText=n,r=qv.test(n)}}else e&&t.removeAttribute("style");Bu in t&&(t[Bu]=r?i.display:"",t[Uv]&&(i.display="none"))}const Fu=/\s*!important$/;function to(t,e,n){if(re(n))n.forEach(i=>to(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=Gv(t,e);Fu.test(n)?t.setProperty(Ci(i),n.replace(Fu,""),"important"):t[i]=n}}const Tu=["Webkit","Moz","ms"],Ba={};function Gv(t,e){const n=Ba[e];if(n)return n;let i=Pt(e);if(i!=="filter"&&i in t)return Ba[e]=i;i=Uo(i);for(let s=0;s<Tu.length;s++){const r=Tu[s]+i;if(r in t)return Ba[e]=r}return e}const Iu="http://www.w3.org/1999/xlink";function Ru(t,e,n,i,s,r=Y_(e)){i&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Iu,e.slice(6,e.length)):t.setAttributeNS(Iu,e,n):n==null||r&&!Kd(n)?t.removeAttribute(e):t.setAttribute(e,r?"":$n(n)?String(n):n)}function Pu(t,e,n,i,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Xp(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Kd(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(s||e)}function Ri(t,e,n,i){t.addEventListener(e,n,i)}function Yv(t,e,n,i){t.removeEventListener(e,n,i)}const Mu=Symbol("_vei");function Qv(t,e,n,i,s=null){const r=t[Mu]||(t[Mu]={}),o=r[e];if(i&&o)o.value=i;else{const[a,l]=Xv(e);if(i){const c=r[e]=e1(i,s);Ri(t,a,c,l)}else o&&(Yv(t,a,o,l),r[e]=void 0)}}const Ou=/(?:Once|Passive|Capture)$/;function Xv(t){let e;if(Ou.test(t)){e={};let i;for(;i=t.match(Ou);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ci(t.slice(2)),e]}let Fa=0;const Zv=Promise.resolve(),Jv=()=>Fa||(Zv.then(()=>Fa=0),Fa=Date.now());function e1(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Ut(t1(i,n.value),e,5,[i])};return n.value=t,n.attached=Jv(),n}function t1(t,e){if(re(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const Nu=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,n1=(t,e,n,i,s,r)=>{const o=s==="svg";e==="class"?$v(t,i,o):e==="style"?Kv(t,n,i):Wo(e)?Pc(e)||Qv(t,e,n,i,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):i1(t,e,i,o))?(Pu(t,e,i),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Ru(t,e,i,o,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!qe(i))?Pu(t,Pt(e),i,r,e):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),Ru(t,e,i,o))};function i1(t,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&Nu(e)&&ce(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Nu(e)&&qe(n)?!1:e in t}const Lu=t=>{const e=t.props["onUpdate:modelValue"]||!1;return re(e)?n=>Xr(e,n):e};function s1(t){t.target.composing=!0}function Hu(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ta=Symbol("_assign"),Jp={created(t,{modifiers:{lazy:e,trim:n,number:i}},s){t[Ta]=Lu(s);const r=i||s.props&&s.props.type==="number";Ri(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),r&&(a=zl(a)),t[Ta](a)}),n&&Ri(t,"change",()=>{t.value=t.value.trim()}),e||(Ri(t,"compositionstart",s1),Ri(t,"compositionend",Hu),Ri(t,"change",Hu))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:i,trim:s,number:r}},o){if(t[Ta]=Lu(o),t.composing)return;const a=(r||t.type==="number")&&!/^0\d/.test(t.value)?zl(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(i&&e===n||s&&t.value.trim()===l)||(t.value=l))}},r1=Ke({patchProp:n1},Pv);let zu;function o1(){return zu||(zu=iv(r1))}const a1=(...t)=>{const e=o1().createApp(...t),{mount:n}=e;return e.mount=i=>{const s=c1(i);if(!s)return;const r=e._component;!ce(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,l1(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function l1(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function c1(t){return qe(t)?document.querySelector(t):t}/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Pi=typeof document<"u";function eg(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function h1(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&eg(t.default)}const Le=Object.assign;function Ia(t,e){const n={};for(const i in e){const s=e[i];n[i]=jt(s)?s.map(t):t(s)}return n}const Ms=()=>{},jt=Array.isArray,tg=/#/g,u1=/&/g,f1=/\//g,d1=/=/g,p1=/\?/g,ng=/\+/g,g1=/%5B/g,x1=/%5D/g,ig=/%5E/g,_1=/%60/g,sg=/%7B/g,m1=/%7C/g,rg=/%7D/g,v1=/%20/g;function Xc(t){return encodeURI(""+t).replace(m1,"|").replace(g1,"[").replace(x1,"]")}function b1(t){return Xc(t).replace(sg,"{").replace(rg,"}").replace(ig,"^")}function ec(t){return Xc(t).replace(ng,"%2B").replace(v1,"+").replace(tg,"%23").replace(u1,"%26").replace(_1,"`").replace(sg,"{").replace(rg,"}").replace(ig,"^")}function y1(t){return ec(t).replace(d1,"%3D")}function C1(t){return Xc(t).replace(tg,"%23").replace(p1,"%3F")}function E1(t){return t==null?"":C1(t).replace(f1,"%2F")}function Js(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const w1=/\/$/,A1=t=>t.replace(w1,"");function Ra(t,e,n="/"){let i,s={},r="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=e.slice(0,l),r=e.slice(l+1,a>-1?a:e.length),s=t(r)),a>-1&&(i=i||e.slice(0,a),o=e.slice(a,e.length)),i=B1(i??e,n),{fullPath:i+(r&&"?")+r+o,path:i,query:s,hash:Js(o)}}function S1(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function D1(t,e,n){const i=e.matched.length-1,s=n.matched.length-1;return i>-1&&i===s&&Qi(e.matched[i],n.matched[s])&&og(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Qi(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function og(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!k1(t[n],e[n]))return!1;return!0}function k1(t,e){return jt(t)?Wu(t,e):jt(e)?Wu(e,t):t===e}function Wu(t,e){return jt(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function B1(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let r=n.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+i.slice(o).join("/")}const En={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var er;(function(t){t.pop="pop",t.push="push"})(er||(er={}));var xo;(function(t){t.back="back",t.forward="forward",t.unknown=""})(xo||(xo={}));const Pa="";function F1(t){if(!t)if(Pi){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),A1(t)}const T1=/^[^#]+#/;function I1(t,e){return t.replace(T1,"#")+e}function R1(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const P1=()=>({left:window.scrollX,top:window.scrollY});function M1(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=R1(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Vu(t,e){return(history.state?history.state.position-e:-1)+t}const tc=new Map;function O1(t,e){tc.set(t,e)}function N1(t){const e=tc.get(t);return tc.delete(t),e}function L1(t=""){let e=[],n=[Pa],i=0;t=F1(t);function s(a){i++,i!==n.length&&n.splice(i),n.push(a)}function r(a,l,{direction:c,delta:h}){const u={direction:c,delta:h,type:er.pop};for(const f of e)f(a,l,u)}const o={location:Pa,state:{},base:t,createHref:I1.bind(null,t),replace(a){n.splice(i--,1),s(a)},push(a,l){s(a)},listen(a){return e.push(a),()=>{const l=e.indexOf(a);l>-1&&e.splice(l,1)}},destroy(){e=[],n=[Pa],i=0},go(a,l=!0){const c=this.location,h=a<0?xo.back:xo.forward;i=Math.max(0,Math.min(i+a,n.length-1)),l&&r(this.location,c,{direction:h,delta:a})}};return Object.defineProperty(o,"location",{enumerable:!0,get:()=>n[i]}),o}function H1(t){return typeof t=="string"||t&&typeof t=="object"}function ag(t){return typeof t=="string"||typeof t=="symbol"}const lg=Symbol("");var $u;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})($u||($u={}));function Xi(t,e){return Le(new Error,{type:t,[lg]:!0},e)}function sn(t,e){return t instanceof Error&&lg in t&&(e==null||!!(t.type&e))}const Uu="[^/]+?",z1={sensitive:!1,strict:!1,start:!0,end:!0},W1=/[.+*?^${}()[\]/\\]/g;function V1(t,e){const n=Le({},z1,e),i=[];let s=n.start?"^":"";const r=[];for(const c of t){const h=c.length?[]:[90];n.strict&&!c.length&&(s+="/");for(let u=0;u<c.length;u++){const f=c[u];let d=40+(n.sensitive?.25:0);if(f.type===0)u||(s+="/"),s+=f.value.replace(W1,"\\$&"),d+=40;else if(f.type===1){const{value:p,repeatable:g,optional:x,regexp:b}=f;r.push({name:p,repeatable:g,optional:x});const _=b||Uu;if(_!==Uu){d+=10;try{new RegExp(`(${_})`)}catch(v){throw new Error(`Invalid custom RegExp for param "${p}" (${_}): `+v.message)}}let m=g?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;u||(m=x&&c.length<2?`(?:/${m})`:"/"+m),x&&(m+="?"),s+=m,d+=20,x&&(d+=-8),g&&(d+=-20),_===".*"&&(d+=-50)}h.push(d)}i.push(h)}if(n.strict&&n.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(c){const h=c.match(o),u={};if(!h)return null;for(let f=1;f<h.length;f++){const d=h[f]||"",p=r[f-1];u[p.name]=d&&p.repeatable?d.split("/"):d}return u}function l(c){let h="",u=!1;for(const f of t){(!u||!h.endsWith("/"))&&(h+="/"),u=!1;for(const d of f)if(d.type===0)h+=d.value;else if(d.type===1){const{value:p,repeatable:g,optional:x}=d,b=p in c?c[p]:"";if(jt(b)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const _=jt(b)?b.join("/"):b;if(!_)if(x)f.length<2&&(h.endsWith("/")?h=h.slice(0,-1):u=!0);else throw new Error(`Missing required param "${p}"`);h+=_}}return h||"/"}return{re:o,score:i,keys:r,parse:a,stringify:l}}function $1(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function cg(t,e){let n=0;const i=t.score,s=e.score;for(;n<i.length&&n<s.length;){const r=$1(i[n],s[n]);if(r)return r;n++}if(Math.abs(s.length-i.length)===1){if(ju(i))return 1;if(ju(s))return-1}return s.length-i.length}function ju(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const U1={type:0,value:""},j1=/[a-zA-Z0-9_]/;function q1(t){if(!t)return[[]];if(t==="/")return[[U1]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(d){throw new Error(`ERR (${n})/"${c}": ${d}`)}let n=0,i=n;const s=[];let r;function o(){r&&s.push(r),r=[]}let a=0,l,c="",h="";function u(){c&&(n===0?r.push({type:0,value:c}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:h,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(c&&u(),o()):l===":"?(u(),n=1):f();break;case 4:f(),n=i;break;case 1:l==="("?n=2:j1.test(l)?f():(u(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+l:n=3:h+=l;break;case 3:u(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,h="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),u(),o(),s}function K1(t,e,n){const i=V1(q1(t.path),n),s=Le(i,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function G1(t,e){const n=[],i=new Map;e=Yu({strict:!1,end:!0,sensitive:!1},e);function s(u){return i.get(u)}function r(u,f,d){const p=!d,g=Ku(u);g.aliasOf=d&&d.record;const x=Yu(e,u),b=[g];if("alias"in u){const v=typeof u.alias=="string"?[u.alias]:u.alias;for(const C of v)b.push(Ku(Le({},g,{components:d?d.record.components:g.components,path:C,aliasOf:d?d.record:g})))}let _,m;for(const v of b){const{path:C}=v;if(f&&C[0]!=="/"){const A=f.record.path,B=A[A.length-1]==="/"?"":"/";v.path=f.record.path+(C&&B+C)}if(_=K1(v,f,x),d?d.alias.push(_):(m=m||_,m!==_&&m.alias.push(_),p&&u.name&&!Gu(_)&&o(u.name)),hg(_)&&l(_),g.children){const A=g.children;for(let B=0;B<A.length;B++)r(A[B],_,d&&d.children[B])}d=d||_}return m?()=>{o(m)}:Ms}function o(u){if(ag(u)){const f=i.get(u);f&&(i.delete(u),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(u);f>-1&&(n.splice(f,1),u.record.name&&i.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){const f=X1(u,n);n.splice(f,0,u),u.record.name&&!Gu(u)&&i.set(u.record.name,u)}function c(u,f){let d,p={},g,x;if("name"in u&&u.name){if(d=i.get(u.name),!d)throw Xi(1,{location:u});x=d.record.name,p=Le(qu(f.params,d.keys.filter(m=>!m.optional).concat(d.parent?d.parent.keys.filter(m=>m.optional):[]).map(m=>m.name)),u.params&&qu(u.params,d.keys.map(m=>m.name))),g=d.stringify(p)}else if(u.path!=null)g=u.path,d=n.find(m=>m.re.test(g)),d&&(p=d.parse(g),x=d.record.name);else{if(d=f.name?i.get(f.name):n.find(m=>m.re.test(f.path)),!d)throw Xi(1,{location:u,currentLocation:f});x=d.record.name,p=Le({},f.params,u.params),g=d.stringify(p)}const b=[];let _=d;for(;_;)b.unshift(_.record),_=_.parent;return{name:x,path:g,params:p,matched:b,meta:Q1(b)}}t.forEach(u=>r(u));function h(){n.length=0,i.clear()}return{addRoute:r,resolve:c,removeRoute:o,clearRoutes:h,getRoutes:a,getRecordMatcher:s}}function qu(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function Ku(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Y1(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Y1(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="object"?n[i]:n;return e}function Gu(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Q1(t){return t.reduce((e,n)=>Le(e,n.meta),{})}function Yu(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function X1(t,e){let n=0,i=e.length;for(;n!==i;){const r=n+i>>1;cg(t,e[r])<0?i=r:n=r+1}const s=Z1(t);return s&&(i=e.lastIndexOf(s,i-1)),i}function Z1(t){let e=t;for(;e=e.parent;)if(hg(e)&&cg(t,e)===0)return e}function hg({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function J1(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<i.length;++s){const r=i[s].replace(ng," "),o=r.indexOf("="),a=Js(o<0?r:r.slice(0,o)),l=o<0?null:Js(r.slice(o+1));if(a in e){let c=e[a];jt(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function Qu(t){let e="";for(let n in t){const i=t[n];if(n=y1(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(jt(i)?i.map(r=>r&&ec(r)):[i&&ec(i)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function eb(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=jt(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return e}const tb=Symbol(""),Xu=Symbol(""),Zc=Symbol(""),ug=Symbol(""),nc=Symbol("");function ps(){let t=[];function e(i){return t.push(i),()=>{const s=t.indexOf(i);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Bn(t,e,n,i,s,r=o=>o()){const o=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(Xi(4,{from:n,to:e})):f instanceof Error?l(f):H1(f)?l(Xi(2,{from:e,to:f})):(o&&i.enterCallbacks[s]===o&&typeof f=="function"&&o.push(f),a())},h=r(()=>t.call(i&&i.instances[s],e,n,c));let u=Promise.resolve(h);t.length<3&&(u=u.then(c)),u.catch(f=>l(f))})}function Ma(t,e,n,i,s=r=>r()){const r=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(eg(l)){const h=(l.__vccOpts||l)[e];h&&r.push(Bn(h,n,i,o,a,s))}else{let c=l();r.push(()=>c.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const u=h1(h)?h.default:h;o.mods[a]=h,o.components[a]=u;const d=(u.__vccOpts||u)[e];return d&&Bn(d,n,i,o,a,s)()}))}}return r}function Zu(t){const e=dn(Zc),n=dn(ug),i=Nt(()=>{const l=di(t.to);return e.resolve(l)}),s=Nt(()=>{const{matched:l}=i.value,{length:c}=l,h=l[c-1],u=n.matched;if(!h||!u.length)return-1;const f=u.findIndex(Qi.bind(null,h));if(f>-1)return f;const d=Ju(l[c-2]);return c>1&&Ju(h)===d&&u[u.length-1].path!==d?u.findIndex(Qi.bind(null,l[c-2])):f}),r=Nt(()=>s.value>-1&&rb(n.params,i.value.params)),o=Nt(()=>s.value>-1&&s.value===n.matched.length-1&&og(n.params,i.value.params));function a(l={}){return sb(l)?e[di(t.replace)?"replace":"push"](di(t.to)).catch(Ms):Promise.resolve()}return{route:i,href:Nt(()=>i.value.href),isActive:r,isExactActive:o,navigate:a}}const nb=Yo({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Zu,setup(t,{slots:e}){const n=Ko(Zu(t)),{options:i}=dn(Zc),s=Nt(()=>({[e0(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[e0(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&e.default(n);return t.custom?r:Yi("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},r)}}}),ib=nb;function sb(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function rb(t,e){for(const n in e){const i=e[n],s=t[n];if(typeof i=="string"){if(i!==s)return!1}else if(!jt(s)||s.length!==i.length||i.some((r,o)=>r!==s[o]))return!1}return!0}function Ju(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const e0=(t,e,n)=>t??e??n,ob=Yo({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=dn(nc),s=Nt(()=>t.route||i.value),r=dn(Xu,0),o=Nt(()=>{let c=di(r);const{matched:h}=s.value;let u;for(;(u=h[c])&&!u.components;)c++;return c}),a=Nt(()=>s.value.matched[o.value]);Jr(Xu,Nt(()=>o.value+1)),Jr(tb,a),Jr(nc,s);const l=Ve();return Rs(()=>[l.value,a.value,t.name],([c,h,u],[f,d,p])=>{h&&(h.instances[u]=c,d&&d!==h&&c&&c===f&&(h.leaveGuards.size||(h.leaveGuards=d.leaveGuards),h.updateGuards.size||(h.updateGuards=d.updateGuards))),c&&h&&(!d||!Qi(h,d)||!f)&&(h.enterCallbacks[u]||[]).forEach(g=>g(c))},{flush:"post"}),()=>{const c=s.value,h=t.name,u=a.value,f=u&&u.components[h];if(!f)return t0(n.default,{Component:f,route:c});const d=u.props[h],p=d?d===!0?c.params:typeof d=="function"?d(c):d:null,x=Yi(f,Le({},p,e,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(u.instances[h]=null)},ref:l}));return t0(n.default,{Component:x,route:c})||x}}});function t0(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const ab=ob;function lb(t){const e=G1(t.routes,t),n=t.parseQuery||J1,i=t.stringifyQuery||Qu,s=t.history,r=ps(),o=ps(),a=ps(),l=Uc(En);let c=En;Pi&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Ia.bind(null,R=>""+R),u=Ia.bind(null,E1),f=Ia.bind(null,Js);function d(R,H){let Y,ee;return ag(R)?(Y=e.getRecordMatcher(R),ee=H):ee=R,e.addRoute(ee,Y)}function p(R){const H=e.getRecordMatcher(R);H&&e.removeRoute(H)}function g(){return e.getRoutes().map(R=>R.record)}function x(R){return!!e.getRecordMatcher(R)}function b(R,H){if(H=Le({},H||l.value),typeof R=="string"){const w=Ra(n,R,H.path),I=e.resolve({path:w.path},H),W=s.createHref(w.fullPath);return Le(w,I,{params:f(I.params),hash:Js(w.hash),redirectedFrom:void 0,href:W})}let Y;if(R.path!=null)Y=Le({},R,{path:Ra(n,R.path,H.path).path});else{const w=Le({},R.params);for(const I in w)w[I]==null&&delete w[I];Y=Le({},R,{params:u(w)}),H.params=u(H.params)}const ee=e.resolve(Y,H),ve=R.hash||"";ee.params=h(f(ee.params));const Ae=S1(i,Le({},R,{hash:b1(ve),path:ee.path})),y=s.createHref(Ae);return Le({fullPath:Ae,hash:ve,query:i===Qu?eb(R.query):R.query||{}},ee,{redirectedFrom:void 0,href:y})}function _(R){return typeof R=="string"?Ra(n,R,l.value.path):Le({},R)}function m(R,H){if(c!==R)return Xi(8,{from:H,to:R})}function v(R){return B(R)}function C(R){return v(Le(_(R),{replace:!0}))}function A(R){const H=R.matched[R.matched.length-1];if(H&&H.redirect){const{redirect:Y}=H;let ee=typeof Y=="function"?Y(R):Y;return typeof ee=="string"&&(ee=ee.includes("?")||ee.includes("#")?ee=_(ee):{path:ee},ee.params={}),Le({query:R.query,hash:R.hash,params:ee.path!=null?{}:R.params},ee)}}function B(R,H){const Y=c=b(R),ee=l.value,ve=R.state,Ae=R.force,y=R.replace===!0,w=A(Y);if(w)return B(Le(_(w),{state:typeof w=="object"?Le({},ve,w.state):ve,force:Ae,replace:y}),H||Y);const I=Y;I.redirectedFrom=H;let W;return!Ae&&D1(i,ee,Y)&&(W=Xi(16,{to:I,from:ee}),P(ee,ee,!0,!1)),(W?Promise.resolve(W):E(I,ee)).catch(M=>sn(M)?sn(M,2)?M:le(M):J(M,I,ee)).then(M=>{if(M){if(sn(M,2))return B(Le({replace:y},_(M.to),{state:typeof M.to=="object"?Le({},ve,M.to.state):ve,force:Ae}),H||I)}else M=k(I,ee,!0,y,ve);return S(I,ee,M),M})}function F(R,H){const Y=m(R,H);return Y?Promise.reject(Y):Promise.resolve()}function D(R){const H=N.values().next().value;return H&&typeof H.runWithContext=="function"?H.runWithContext(R):R()}function E(R,H){let Y;const[ee,ve,Ae]=cb(R,H);Y=Ma(ee.reverse(),"beforeRouteLeave",R,H);for(const w of ee)w.leaveGuards.forEach(I=>{Y.push(Bn(I,R,H))});const y=F.bind(null,R,H);return Y.push(y),oe(Y).then(()=>{Y=[];for(const w of r.list())Y.push(Bn(w,R,H));return Y.push(y),oe(Y)}).then(()=>{Y=Ma(ve,"beforeRouteUpdate",R,H);for(const w of ve)w.updateGuards.forEach(I=>{Y.push(Bn(I,R,H))});return Y.push(y),oe(Y)}).then(()=>{Y=[];for(const w of Ae)if(w.beforeEnter)if(jt(w.beforeEnter))for(const I of w.beforeEnter)Y.push(Bn(I,R,H));else Y.push(Bn(w.beforeEnter,R,H));return Y.push(y),oe(Y)}).then(()=>(R.matched.forEach(w=>w.enterCallbacks={}),Y=Ma(Ae,"beforeRouteEnter",R,H,D),Y.push(y),oe(Y))).then(()=>{Y=[];for(const w of o.list())Y.push(Bn(w,R,H));return Y.push(y),oe(Y)}).catch(w=>sn(w,8)?w:Promise.reject(w))}function S(R,H,Y){a.list().forEach(ee=>D(()=>ee(R,H,Y)))}function k(R,H,Y,ee,ve){const Ae=m(R,H);if(Ae)return Ae;const y=H===En,w=Pi?history.state:{};Y&&(ee||y?s.replace(R.fullPath,Le({scroll:y&&w&&w.scroll},ve)):s.push(R.fullPath,ve)),l.value=R,P(R,H,Y,y),le()}let T;function U(){T||(T=s.listen((R,H,Y)=>{if(!xe.listening)return;const ee=b(R),ve=A(ee);if(ve){B(Le(ve,{replace:!0}),ee).catch(Ms);return}c=ee;const Ae=l.value;Pi&&O1(Vu(Ae.fullPath,Y.delta),P1()),E(ee,Ae).catch(y=>sn(y,12)?y:sn(y,2)?(B(y.to,ee).then(w=>{sn(w,20)&&!Y.delta&&Y.type===er.pop&&s.go(-1,!1)}).catch(Ms),Promise.reject()):(Y.delta&&s.go(-Y.delta,!1),J(y,ee,Ae))).then(y=>{y=y||k(ee,Ae,!1),y&&(Y.delta&&!sn(y,8)?s.go(-Y.delta,!1):Y.type===er.pop&&sn(y,20)&&s.go(-1,!1)),S(ee,Ae,y)}).catch(Ms)}))}let K=ps(),G=ps(),Z;function J(R,H,Y){le(R);const ee=G.list();return ee.length?ee.forEach(ve=>ve(R,H,Y)):console.error(R),Promise.reject(R)}function he(){return Z&&l.value!==En?Promise.resolve():new Promise((R,H)=>{K.add([R,H])})}function le(R){return Z||(Z=!R,U(),K.list().forEach(([H,Y])=>R?Y(R):H()),K.reset()),R}function P(R,H,Y,ee){const{scrollBehavior:ve}=t;if(!Pi||!ve)return Promise.resolve();const Ae=!Y&&N1(Vu(R.fullPath,0))||(ee||!Y)&&history.state&&history.state.scroll||null;return jc().then(()=>ve(R,H,Ae)).then(y=>y&&M1(y)).catch(y=>J(y,R,H))}const O=R=>s.go(R);let L;const N=new Set,xe={currentRoute:l,listening:!0,addRoute:d,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:x,getRoutes:g,resolve:b,options:t,push:v,replace:C,go:O,back:()=>O(-1),forward:()=>O(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:G.add,isReady:he,install(R){const H=this;R.component("RouterLink",ib),R.component("RouterView",ab),R.config.globalProperties.$router=H,Object.defineProperty(R.config.globalProperties,"$route",{enumerable:!0,get:()=>di(l)}),Pi&&!L&&l.value===En&&(L=!0,v(s.location).catch(ve=>{}));const Y={};for(const ve in En)Object.defineProperty(Y,ve,{get:()=>l.value[ve],enumerable:!0});R.provide(Zc,H),R.provide(ug,hp(Y)),R.provide(nc,l);const ee=R.unmount;N.add(R),R.unmount=function(){N.delete(R),N.size<1&&(c=En,T&&T(),T=null,l.value=En,L=!1,Z=!1),ee()}}};function oe(R){return R.reduce((H,Y)=>H.then(()=>D(Y)),Promise.resolve())}return xe}function cb(t,e){const n=[],i=[],s=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(t.matched.find(c=>Qi(c,a))?i.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Qi(c,l))||s.push(l))}return[n,i,s]}const hb=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n},ub={};function fb(t,e){const n=Kc("RouterView");return We(),Ue("main",null,[Je(n)])}const db=hb(ub,[["render",fb]]);var n0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j=function(t,e){if(!t)throw ss(e)},ss=function(t){return new Error("Firebase Database ("+fg.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},pb=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const r=t[n++],o=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|o&63)}}return e.join("")},Jc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const r=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,h=r>>2,u=(r&3)<<4|a>>4;let f=(a&15)<<2|c>>6,d=c&63;l||(d=64,o||(f=64)),i.push(n[h],n[u],n[f],n[d])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dg(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):pb(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const r=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const u=s<t.length?n[t.charAt(s)]:64;if(++s,r==null||a==null||c==null||u==null)throw new gb;const f=r<<2|a>>4;if(i.push(f),c!==64){const d=a<<4&240|c>>2;if(i.push(d),u!==64){const p=c<<6&192|u;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class gb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pg=function(t){const e=dg(t);return Jc.encodeByteArray(e,!0)},_o=function(t){return pg(t).replace(/\./g,"")},ic=function(t){try{return Jc.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(t){return gg(void 0,t)}function gg(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!_b(n)||(t[n]=gg(t[n],e[n]));return t}function _b(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=()=>mb().__FIREBASE_DEFAULTS__,bb=()=>{if(typeof process>"u"||typeof n0>"u")return;const t=n0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yb=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ic(t[1]);return e&&JSON.parse(e)},xg=()=>{try{return vb()||bb()||yb()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Cb=t=>{var e,n;return(n=(e=xg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Eb=t=>{const e=Cb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},_g=()=>{var t;return(t=xg())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[_o(JSON.stringify(n)),_o(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ab())}function Sb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vg(){return fg.NODE_ADMIN===!0}function Db(){try{return typeof indexedDB=="object"}catch{return!1}}function kb(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="FirebaseError";class Er extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=Bb,Object.setPrototypeOf(this,Er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bg.prototype.create)}}class bg{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,r=this.errors[e],o=r?Fb(r,i):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Er(s,a,i)}}function Fb(t,e){return t.replace(Tb,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const Tb=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(t){return JSON.parse(t)}function Ze(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg=function(t){let e={},n={},i={},s="";try{const r=t.split(".");e=tr(ic(r[0])||""),n=tr(ic(r[1])||""),s=r[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:s}},Ib=function(t){const e=yg(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Rb=function(t){const e=yg(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function xi(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function i0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mo(t,e,n){const i={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=e.call(n,t[s],s,t));return i}function sc(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const r=t[s],o=e[s];if(s0(r)&&s0(o)){if(!sc(r,o))return!1}else if(r!==o)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function s0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let u=0;u<16;u++)i[u]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let u=0;u<16;u++)i[u]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let u=16;u<80;u++){const f=i[u-3]^i[u-8]^i[u-14]^i[u-16];i[u]=(f<<1|f>>>31)&4294967295}let s=this.chain_[0],r=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,h;for(let u=0;u<80;u++){u<40?u<20?(c=a^r&(o^a),h=1518500249):(c=r^o^a,h=1859775393):u<60?(c=r&o|a&(r|o),h=2400959708):(c=r^o^a,h=3395469782);const f=(s<<5|s>>>27)+c+l+h+i[u]&4294967295;l=a,a=o,o=(r<<30|r>>>2)&4294967295,r=s,s=f}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let s=0;const r=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(r[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(r),o=0;break}}else for(;s<n;)if(r[o]=e[s],++o,++s,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let r=24;r>=0;r-=8)e[i]=this.chain_[s]>>r&255,++i;return e}}function eh(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);if(s>=55296&&s<=56319){const r=s-55296;i++,j(i<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(i)-56320;s=65536+(r<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ta=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(t){return t&&t._delegate?t._delegate:t}class nr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Cr;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Hb(e))try{this.getOrInitializeService({instanceIdentifier:ni})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=ni){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ni){return this.instances.has(e)}getOptions(e=ni){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);i===a&&o.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&e(o,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Lb(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ni){return this.component?this.component.multipleInstances?e:ni:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Lb(t){return t===ni?void 0:t}function Hb(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Nb(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Re||(Re={}));const Wb={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},Vb=Re.INFO,$b={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},Ub=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=$b[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cg{constructor(e){this.name=e,this._logLevel=Vb,this._logHandler=Ub,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Wb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const jb=(t,e)=>e.some(n=>t instanceof n);let r0,o0;function qb(){return r0||(r0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Kb(){return o0||(o0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Eg=new WeakMap,rc=new WeakMap,wg=new WeakMap,Oa=new WeakMap,th=new WeakMap;function Gb(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(Rn(t.result)),s()},o=()=>{i(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Eg.set(n,t)}).catch(()=>{}),th.set(e,t),e}function Yb(t){if(rc.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),s()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});rc.set(t,e)}let oc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wg.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Qb(t){oc=t(oc)}function Xb(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Na(this),e,...n);return wg.set(i,e.sort?e.sort():[e]),Rn(i)}:Kb().includes(t)?function(...e){return t.apply(Na(this),e),Rn(Eg.get(this))}:function(...e){return Rn(t.apply(Na(this),e))}}function Zb(t){return typeof t=="function"?Xb(t):(t instanceof IDBTransaction&&Yb(t),jb(t,qb())?new Proxy(t,oc):t)}function Rn(t){if(t instanceof IDBRequest)return Gb(t);if(Oa.has(t))return Oa.get(t);const e=Zb(t);return e!==t&&(Oa.set(t,e),th.set(e,t)),e}const Na=t=>th.get(t);function Jb(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(t,e),a=Rn(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Rn(o.result),l.oldVersion,l.newVersion,Rn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{r&&l.addEventListener("close",()=>r()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const ey=["get","getKey","getAll","getAllKeys","count"],ty=["put","add","delete","clear"],La=new Map;function a0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(La.get(e))return La.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=ty.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||ey.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return La.set(e,r),r}Qb(t=>({...t,get:(e,n,i)=>a0(e,n)||t.get(e,n,i),has:(e,n)=>!!a0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iy(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function iy(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ac="@firebase/app",l0="0.10.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn=new Cg("@firebase/app"),sy="@firebase/app-compat",ry="@firebase/analytics-compat",oy="@firebase/analytics",ay="@firebase/app-check-compat",ly="@firebase/app-check",cy="@firebase/auth",hy="@firebase/auth-compat",uy="@firebase/database",fy="@firebase/data-connect",dy="@firebase/database-compat",py="@firebase/functions",gy="@firebase/functions-compat",xy="@firebase/installations",_y="@firebase/installations-compat",my="@firebase/messaging",vy="@firebase/messaging-compat",by="@firebase/performance",yy="@firebase/performance-compat",Cy="@firebase/remote-config",Ey="@firebase/remote-config-compat",wy="@firebase/storage",Ay="@firebase/storage-compat",Sy="@firebase/firestore",Dy="@firebase/vertexai",ky="@firebase/firestore-compat",By="firebase",Fy="11.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc="[DEFAULT]",Ty={[ac]:"fire-core",[sy]:"fire-core-compat",[oy]:"fire-analytics",[ry]:"fire-analytics-compat",[ly]:"fire-app-check",[ay]:"fire-app-check-compat",[cy]:"fire-auth",[hy]:"fire-auth-compat",[uy]:"fire-rtdb",[fy]:"fire-data-connect",[dy]:"fire-rtdb-compat",[py]:"fire-fn",[gy]:"fire-fn-compat",[xy]:"fire-iid",[_y]:"fire-iid-compat",[my]:"fire-fcm",[vy]:"fire-fcm-compat",[by]:"fire-perf",[yy]:"fire-perf-compat",[Cy]:"fire-rc",[Ey]:"fire-rc-compat",[wy]:"fire-gcs",[Ay]:"fire-gcs-compat",[Sy]:"fire-fst",[ky]:"fire-fst-compat",[Dy]:"fire-vertex","fire-js":"fire-js",[By]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=new Map,Iy=new Map,cc=new Map;function c0(t,e){try{t.container.addComponent(e)}catch(n){gn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bo(t){const e=t.name;if(cc.has(e))return gn.debug(`There were multiple attempts to register component ${e}.`),!1;cc.set(e,t);for(const n of vo.values())c0(n,t);for(const n of Iy.values())c0(n,t);return!0}function Ry(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pn=new bg("app","Firebase",Py);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new nr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy=Fy;function Ag(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:lc,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw Pn.create("bad-app-name",{appName:String(s)});if(n||(n=_g()),!n)throw Pn.create("no-options");const r=vo.get(s);if(r){if(sc(n,r.options)&&sc(i,r.config))return r;throw Pn.create("duplicate-app",{appName:s})}const o=new zb(s);for(const l of cc.values())o.addComponent(l);const a=new My(n,i,o);return vo.set(s,a),a}function Ny(t=lc){const e=vo.get(t);if(!e&&t===lc&&_g())return Ag();if(!e)throw Pn.create("no-app",{appName:t});return e}function Vi(t,e,n){var i;let s=(i=Ty[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const a=[`Unable to register library "${s}" with version "${e}":`];r&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gn.warn(a.join(" "));return}bo(new nr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly="firebase-heartbeat-database",Hy=1,ir="firebase-heartbeat-store";let Ha=null;function Sg(){return Ha||(Ha=Jb(Ly,Hy,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ir)}catch(n){console.warn(n)}}}}).catch(t=>{throw Pn.create("idb-open",{originalErrorMessage:t.message})})),Ha}async function zy(t){try{const n=(await Sg()).transaction(ir),i=await n.objectStore(ir).get(Dg(t));return await n.done,i}catch(e){if(e instanceof Er)gn.warn(e.message);else{const n=Pn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gn.warn(n.message)}}}async function h0(t,e){try{const i=(await Sg()).transaction(ir,"readwrite");await i.objectStore(ir).put(e,Dg(t)),await i.done}catch(n){if(n instanceof Er)gn.warn(n.message);else{const i=Pn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});gn.warn(i.message)}}}function Dg(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy=1024,Vy=30*24*60*60*1e3;class $y{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jy(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=u0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)?void 0:(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Vy}),this._storage.overwrite(this._heartbeatsCache))}catch(i){gn.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=u0(),{heartbeatsToSend:i,unsentEntries:s}=Uy(this._heartbeatsCache.heartbeats),r=_o(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return gn.warn(n),""}}}function u0(){return new Date().toISOString().substring(0,10)}function Uy(t,e=Wy){const n=[];let i=t.slice();for(const s of t){const r=n.find(o=>o.agent===s.agent);if(r){if(r.dates.push(s.date),f0(n)>e){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),f0(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class jy{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Db()?kb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zy(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return h0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return h0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function f0(t){return _o(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(t){bo(new nr("platform-logger",e=>new ny(e),"PRIVATE")),bo(new nr("heartbeat",e=>new $y(e),"PRIVATE")),Vi(ac,l0,t),Vi(ac,l0,"esm2017"),Vi("fire-js","")}qy("");var Ky="firebase",Gy="11.0.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vi(Ky,Gy,"app");var d0={};const p0="@firebase/database",g0="1.0.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kg="";function Yy(t){kg=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ze(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:tr(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return qt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Qy(e)}}catch{}return new Xy},oi=Bg("localStorage"),Zy=Bg("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new Cg("@firebase/database"),Fg=function(){let t=1;return function(){return t++}}(),Tg=function(t){const e=Ob(t),n=new Mb;n.update(e);const i=n.digest();return Jc.encodeByteArray(i)},Ar=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Ar.apply(null,i):typeof i=="object"?e+=Ze(i):e+=i,e+=" "}return e};let Os=null,x0=!0;const Jy=function(t,e){j(!e,"Can't turn on custom loggers persistently."),$i.logLevel=Re.VERBOSE,Os=$i.log.bind($i)},nt=function(...t){if(x0===!0&&(x0=!1,Os===null&&Zy.get("logging_enabled")===!0&&Jy()),Os){const e=Ar.apply(null,t);Os(e)}},Sr=function(t){return function(...e){nt(t,...e)}},hc=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ar(...t);$i.error(e)},xn=function(...t){const e=`FIREBASE FATAL ERROR: ${Ar(...t)}`;throw $i.error(e),new Error(e)},Et=function(...t){const e="FIREBASE WARNING: "+Ar(...t);$i.warn(e)},eC=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Et("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},nh=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},tC=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Zi="[MIN_NAME]",_i="[MAX_NAME]",Ei=function(t,e){if(t===e)return 0;if(t===Zi||e===_i)return-1;if(e===Zi||t===_i)return 1;{const n=_0(t),i=_0(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},nC=function(t,e){return t===e?0:t<e?-1:1},gs=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ze(e))},ih=function(t){if(typeof t!="object"||t===null)return Ze(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=Ze(e[i]),n+=":",n+=ih(t[e[i]]);return n+="}",n},Ig=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let s=0;s<n;s+=e)s+e>n?i.push(t.substring(s,n)):i.push(t.substring(s,s+e));return i};function st(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Rg=function(t){j(!nh(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let s,r,o,a,l;t===0?(r=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),i),r=a+i,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(r=0,o=Math.round(t/Math.pow(2,1-i-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(r%2?1:0),r=Math.floor(r/2);c.push(s?1:0),c.reverse();const h=c.join("");let u="";for(l=0;l<64;l+=8){let f=parseInt(h.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),u=u+f}return u.toLowerCase()},iC=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},sC=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function rC(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const oC=new RegExp("^-?(0*)\\d{1,10}$"),aC=-2147483648,lC=2147483647,_0=function(t){if(oC.test(t)){const e=Number(t);if(e>=aC&&e<=lC)return e}return null},rs=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Et("Exception was thrown by user callback.",n),e},Math.floor(0))}},cC=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ns=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Et(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(nt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Et(e)}}class no{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}no.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh="5",Pg="v",Mg="s",Og="r",Ng="f",Lg=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Hg="ls",zg="p",uc="ac",Wg="websocket",Vg="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n,i,s,r=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=oi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&oi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function fC(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Ug(t,e,n){j(typeof e=="string","typeof type must == string"),j(typeof n=="object","typeof params must == object");let i;if(e===Wg)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Vg)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);fC(t)&&(n.ns=t.namespace);const s=[];return st(n,(r,o)=>{s.push(r+"="+o)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.counters_={}}incrementCounter(e,n=1){qt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return xb(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za={},Wa={};function rh(t){const e=t.toString();return za[e]||(za[e]=new dC),za[e]}function pC(t,e){const n=t.toString();return Wa[n]||(Wa[n]=e()),Wa[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&rs(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="start",xC="close",_C="pLPCommand",mC="pRTLPCB",jg="id",qg="pw",Kg="ser",vC="cb",bC="seg",yC="ts",CC="d",EC="dframe",Gg=1870,Yg=30,wC=Gg-Yg,AC=25e3,SC=3e4;class Mi{constructor(e,n,i,s,r,o,a){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Sr(e),this.stats_=rh(n),this.urlFn=l=>(this.appCheckToken&&(l[uc]=this.appCheckToken),Ug(n,Vg,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new gC(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(SC)),tC(()=>{if(this.isClosed_)return;this.scriptTagHolder=new oh((...r)=>{const[o,a,l,c,h]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===m0)this.id=a,this.password=l;else if(o===xC)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{const[o,a]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const i={};i[m0]="t",i[Kg]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[vC]=this.scriptTagHolder.uniqueCallbackIdentifier),i[Pg]=sh,this.transportSessionId&&(i[Mg]=this.transportSessionId),this.lastSessionId&&(i[Hg]=this.lastSessionId),this.applicationId&&(i[zg]=this.applicationId),this.appCheckToken&&(i[uc]=this.appCheckToken),typeof location<"u"&&location.hostname&&Lg.test(location.hostname)&&(i[Og]=Ng);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Mi.forceAllow_=!0}static forceDisallow(){Mi.forceDisallow_=!0}static isAvailable(){return Mi.forceAllow_?!0:!Mi.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!iC()&&!sC()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ze(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=pg(n),s=Ig(i,wC);for(let r=0;r<s.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[EC]="t",i[jg]=e,i[qg]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ze(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class oh{constructor(e,n,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Fg(),window[_C+this.uniqueCallbackIdentifier]=e,window[mC+this.uniqueCallbackIdentifier]=n,this.myIFrame=oh.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){nt("frame writing exception"),a.stack&&nt(a.stack),nt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||nt("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[jg]=this.myID,e[qg]=this.myPW,e[Kg]=this.currentSerial;let n=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Yg+i.length<=Gg;){const o=this.pendingSegs.shift();i=i+"&"+bC+s+"="+o.seg+"&"+yC+s+"="+o.ts+"&"+CC+s+"="+o.d,s++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(i,Math.floor(AC)),r=()=>{clearTimeout(s),i()};this.addTag(e,r)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{nt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=16384,kC=45e3;let yo=null;typeof MozWebSocket<"u"?yo=MozWebSocket:typeof WebSocket<"u"&&(yo=WebSocket);class Lt{constructor(e,n,i,s,r,o,a){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Sr(this.connId),this.stats_=rh(n),this.connURL=Lt.connectionURL_(n,o,a,s,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,s,r){const o={};return o[Pg]=sh,typeof location<"u"&&location.hostname&&Lg.test(location.hostname)&&(o[Og]=Ng),n&&(o[Mg]=n),i&&(o[Hg]=i),s&&(o[uc]=s),r&&(o[zg]=r),Ug(e,Wg,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,oi.set("previous_websocket_failure",!0);try{let i;vg(),this.mySock=new yo(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Lt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&yo!==null&&!Lt.forceDisallow_}static previouslyFailed(){return oi.isInMemoryStorage||oi.get("previous_websocket_failure")===!0}markConnectionHealthy(){oi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=tr(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(j(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=Ze(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Ig(n,DC);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(kC))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Lt.responsesRequiredToBeHealthy=2;Lt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Mi,Lt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Lt&&Lt.isAvailable();let i=n&&!Lt.previouslyFailed();if(e.webSocketOnly&&(n||Et("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Lt];else{const s=this.transports_=[];for(const r of sr.ALL_TRANSPORTS)r&&r.isAvailable()&&s.push(r);sr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}sr.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=6e4,FC=5e3,TC=10*1024,IC=100*1024,Va="t",v0="d",RC="s",b0="r",PC="e",y0="o",C0="a",E0="n",w0="p",MC="h";class OC{constructor(e,n,i,s,r,o,a,l,c,h){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=r,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Sr("c:"+this.id+":"),this.transportManager_=new sr(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Ns(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>IC?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>TC?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Va in e){const n=e[Va];n===C0?this.upgradeIfSecondaryHealthy_():n===b0?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===y0&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=gs("t",e),i=gs("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:w0,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:C0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:E0,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=gs("t",e),i=gs("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=gs(Va,e);if(v0 in e){const i=e[v0];if(n===MC){const s=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===E0){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===RC?this.onConnectionShutdown_(i):n===b0?this.onReset_(i):n===PC?hc("Server Error: "+i):n===y0?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):hc("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),sh!==i&&Et("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Ns(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(BC))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ns(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(FC))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:w0,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(oi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{put(e,n,i,s){}merge(e,n,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e){this.allowedEvents_=e,this.listeners_={},j(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const s=this.getInitialEvent(e);s&&n.apply(i,s)}off(e,n,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let r=0;r<s.length;r++)if(s[r].callback===n&&(!i||i===s[r].context)){s.splice(r,1);return}}validateEventType_(e){j(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co extends Xg{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!mg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Co}getInitialEvent(e){return j(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0=32,S0=768;class Be{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ee(){return new Be("")}function de(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function zn(t){return t.pieces_.length-t.pieceNum_}function Pe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Be(t.pieces_,e)}function ah(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function NC(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function rr(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Zg(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Be(e,0)}function $e(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Be)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&n.push(i[s])}return new Be(n,0)}function ge(t){return t.pieceNum_>=t.pieces_.length}function yt(t,e){const n=de(t),i=de(e);if(n===null)return e;if(n===i)return yt(Pe(t),Pe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function LC(t,e){const n=rr(t,0),i=rr(e,0);for(let s=0;s<n.length&&s<i.length;s++){const r=Ei(n[s],i[s]);if(r!==0)return r}return n.length===i.length?0:n.length<i.length?-1:1}function lh(t,e){if(zn(t)!==zn(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Tt(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(zn(t)>zn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class HC{constructor(e,n){this.errorPrefix_=n,this.parts_=rr(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=ta(this.parts_[i]);Jg(this)}}function zC(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ta(e),Jg(t)}function WC(t){const e=t.parts_.pop();t.byteLength_-=ta(e),t.parts_.length>0&&(t.byteLength_-=1)}function Jg(t){if(t.byteLength_>S0)throw new Error(t.errorPrefix_+"has a key path longer than "+S0+" bytes ("+t.byteLength_+").");if(t.parts_.length>A0)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+A0+") or object contains a cycle "+ii(t))}function ii(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch extends Xg{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new ch}getInitialEvent(e){return j(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=1e3,VC=60*5*1e3,D0=30*1e3,$C=1.3,UC=3e4,jC="server_kill",k0=3;class pn extends Qg{constructor(e,n,i,s,r,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=pn.nextPersistentConnectionId_++,this.log_=Sr("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=xs,this.maxReconnectDelay_=VC,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!vg())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ch.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Co.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const s=++this.requestNumber_,r={r:s,a:e,b:n};this.log_(Ze(r)),j(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const n=new Cr,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(e,n,i,s){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),j(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),j(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:i};this.listens.get(o).set(r,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+i+" for "+s);const r={p:i},o="q";e.tag&&(r.q=n._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(o,r,a=>{const l=a.d,c=a.s;pn.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&qt(e,"w")){const i=xi(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();Et(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Rb(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=D0)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Ib(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,s=>{const r=s.s,o=s.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),j(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,n)}sendUnlisten_(e,n,i,s){this.log_("Unlisten on "+e+" for "+n);const r={p:e},o="n";s&&(r.q=i,r.t=s),this.sendRequest(o,r)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,s){const r={p:n,d:i};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,i,s){this.putInternal("p",e,n,i,s)}merge(e,n,i,s){this.putInternal("m",e,n,i,s)}putInternal(e,n,i,s,r){this.initConnection_();const o={p:n,d:i};r!==void 0&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(r.s,r.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const r=i.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ze(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):hc("Unrecognized action received from server: "+Ze(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){j(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=xs,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=xs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>UC&&(this.reconnectDelay_=xs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*$C)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+pn.nextConnectionId_++,r=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,i())},c=function(u){j(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(u)};this.realtime_={close:l,sendRequest:c};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[u,f]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);o?nt("getToken() completed but was canceled"):(nt("getToken() completed. Creating connection."),this.authToken_=u&&u.accessToken,this.appCheckToken_=f&&f.token,a=new OC(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,d=>{Et(d+" ("+this.repoInfo_.toString()+")"),this.interrupt(jC)},r))}catch(u){this.log_("Failed to get token: "+u),o||(this.repoInfo_.nodeAdmin&&Et(u),l())}}}interrupt(e){nt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){nt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],i0(this.interruptReasons_)&&(this.reconnectDelay_=xs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(r=>ih(r)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const i=new Be(e).toString();let s;if(this.listens.has(i)){const r=this.listens.get(i);s=r.get(n),r.delete(n),r.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,n){nt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=k0&&(this.reconnectDelay_=D0,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){nt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=k0&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+kg.replace(/\./g,"-")]=1,mg()?e["framework.cordova"]=1:Sb()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Co.getInstance().currentlyOnline();return i0(this.interruptReasons_)&&e}}pn.nextPersistentConnectionId_=0;pn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new pe(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new pe(Zi,e),s=new pe(Zi,n);return this.compare(i,s)!==0}minPost(){return pe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mr;class ex extends na{static get __EMPTY_NODE(){return Mr}static set __EMPTY_NODE(e){Mr=e}compare(e,n){return Ei(e.name,n.name)}isDefinedOn(e){throw ss("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return pe.MIN}maxPost(){return new pe(_i,Mr)}makePost(e,n){return j(typeof e=="string","KeyIndex indexValue must always be a string."),new pe(e,Mr)}toString(){return".key"}}const Ui=new ex;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,n,i,s,r=null){this.isReverse_=s,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?i(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Qe{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??Qe.RED,this.left=s??Ct.EMPTY_NODE,this.right=r??Ct.EMPTY_NODE}copy(e,n,i,s,r){return new Qe(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return r<0?s=s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ct.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,s;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return Ct.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Qe.RED=!0;Qe.BLACK=!1;class qC{copy(e,n,i,s,r){return this}insert(e,n,i){return new Qe(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ct{constructor(e,n=Ct.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ct(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Qe.BLACK,null,null))}remove(e){return new Ct(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Qe.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,s=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Or(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Or(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Or(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Or(this.root_,null,this.comparator_,!0,e)}}Ct.EMPTY_NODE=new qC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(t,e){return Ei(t.name,e.name)}function hh(t,e){return Ei(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fc;function GC(t){fc=t}const tx=function(t){return typeof t=="number"?"number:"+Rg(t):"string:"+t},nx=function(t){if(t.isLeafNode()){const e=t.val();j(typeof e=="string"||typeof e=="number"||typeof e=="object"&&qt(e,".sv"),"Priority must be a string or number.")}else j(t===fc||t.isEmpty(),"priority of unexpected type.");j(t===fc||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B0;class Ye{constructor(e,n=Ye.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,j(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),nx(this.priorityNode_)}static set __childrenNodeConstructor(e){B0=e}static get __childrenNodeConstructor(){return B0}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ye(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ye.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ge(e)?this:de(e)===".priority"?this.priorityNode_:Ye.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ye.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=de(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(j(i!==".priority"||zn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Ye.__childrenNodeConstructor.EMPTY_NODE.updateChild(Pe(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+tx(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Rg(this.value_):e+=this.value_,this.lazyHash_=Tg(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ye.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ye.__childrenNodeConstructor?-1:(j(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,s=Ye.VALUE_TYPE_ORDER.indexOf(n),r=Ye.VALUE_TYPE_ORDER.indexOf(i);return j(s>=0,"Unknown leaf type: "+n),j(r>=0,"Unknown leaf type: "+i),s===r?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ye.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ix,sx;function YC(t){ix=t}function QC(t){sx=t}class XC extends na{compare(e,n){const i=e.node.getPriority(),s=n.node.getPriority(),r=i.compareTo(s);return r===0?Ei(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return pe.MIN}maxPost(){return new pe(_i,new Ye("[PRIORITY-POST]",sx))}makePost(e,n){const i=ix(e);return new pe(n,new Ye("[PRIORITY-POST]",i))}toString(){return".priority"}}const ze=new XC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=Math.log(2);class JC{constructor(e){const n=r=>parseInt(Math.log(r)/ZC,10),i=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Eo=function(t,e,n,i){t.sort(e);const s=function(l,c){const h=c-l;let u,f;if(h===0)return null;if(h===1)return u=t[l],f=n?n(u):u,new Qe(f,u.node,Qe.BLACK,null,null);{const d=parseInt(h/2,10)+l,p=s(l,d),g=s(d+1,c);return u=t[d],f=n?n(u):u,new Qe(f,u.node,Qe.BLACK,p,g)}},r=function(l){let c=null,h=null,u=t.length;const f=function(p,g){const x=u-p,b=u;u-=p;const _=s(x+1,b),m=t[x],v=n?n(m):m;d(new Qe(v,m.node,g,null,_))},d=function(p){c?(c.left=p,c=p):(h=p,c=p)};for(let p=0;p<l.count;++p){const g=l.nextBitIsOne(),x=Math.pow(2,l.count-(p+1));g?f(x,Qe.BLACK):(f(x,Qe.BLACK),f(x,Qe.RED))}return h},o=new JC(t.length),a=r(o);return new Ct(i||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $a;const Bi={};class fn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return j(Bi&&ze,"ChildrenNode.ts has not been loaded"),$a=$a||new fn({".priority":Bi},{".priority":ze}),$a}get(e){const n=xi(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ct?n:null}hasIndex(e){return qt(this.indexSet_,e.toString())}addIndex(e,n){j(e!==Ui,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const r=n.getIterator(pe.Wrap);let o=r.getNext();for(;o;)s=s||e.isDefinedOn(o.node),i.push(o),o=r.getNext();let a;s?a=Eo(i,e.getCompare()):a=Bi;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const h=Object.assign({},this.indexes_);return h[l]=a,new fn(h,c)}addToIndexes(e,n){const i=mo(this.indexes_,(s,r)=>{const o=xi(this.indexSet_,r);if(j(o,"Missing index implementation for "+r),s===Bi)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(pe.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Eo(a,o.getCompare())}else return Bi;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new pe(e.name,a))),l.insert(e,e.node)}});return new fn(i,this.indexSet_)}removeFromIndexes(e,n){const i=mo(this.indexes_,s=>{if(s===Bi)return s;{const r=n.get(e.name);return r?s.remove(new pe(e.name,r)):s}});return new fn(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _s;class se{constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&nx(this.priorityNode_),this.children_.isEmpty()&&j(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return _s||(_s=new se(new Ct(hh),null,fn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||_s}updatePriority(e){return this.children_.isEmpty()?this:new se(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?_s:n}}getChild(e){const n=de(e);return n===null?this:this.getImmediateChild(n).getChild(Pe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(j(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new pe(e,n);let s,r;n.isEmpty()?(s=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,n),r=this.indexMap_.addToIndexes(i,this.children_));const o=s.isEmpty()?_s:this.priorityNode_;return new se(s,o,r)}}updateChild(e,n){const i=de(e);if(i===null)return n;{j(de(e)!==".priority"||zn(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Pe(e),n);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,s=0,r=!0;if(this.forEachChild(ze,(o,a)=>{n[o]=a.val(e),i++,r&&se.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):r=!1}),!e&&r&&s<2*i){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+tx(this.getPriority().val())+":"),this.forEachChild(ze,(n,i)=>{const s=i.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":Tg(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const s=this.resolveIndex_(i);if(s){const r=s.getPredecessorKey(new pe(e,n));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new pe(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new pe(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,pe.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)<0;)s.getNext(),r=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,pe.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)>0;)s.getNext(),r=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Dr?-1:0}withIndex(e){if(e===Ui||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new se(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ui||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(ze),s=n.getIterator(ze);let r=i.getNext(),o=s.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=i.getNext(),o=s.getNext()}return r===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Ui?null:this.indexMap_.get(e.toString())}}se.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class eE extends se{constructor(){super(new Ct(hh),se.EMPTY_NODE,fn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return se.EMPTY_NODE}isEmpty(){return!1}}const Dr=new eE;Object.defineProperties(pe,{MIN:{value:new pe(Zi,se.EMPTY_NODE)},MAX:{value:new pe(_i,Dr)}});ex.__EMPTY_NODE=se.EMPTY_NODE;Ye.__childrenNodeConstructor=se;GC(Dr);QC(Dr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=!0;function Xe(t,e=null){if(t===null)return se.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),j(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ye(n,Xe(e))}if(!(t instanceof Array)&&tE){const n=[];let i=!1;if(st(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Xe(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new pe(o,l)))}}),n.length===0)return se.EMPTY_NODE;const r=Eo(n,KC,o=>o.name,hh);if(i){const o=Eo(n,ze.getCompare());return new se(r,Xe(e),new fn({".priority":o},{".priority":ze}))}else return new se(r,Xe(e),fn.Default)}else{let n=se.EMPTY_NODE;return st(t,(i,s)=>{if(qt(t,i)&&i.substring(0,1)!=="."){const r=Xe(s);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(i,r))}}),n.updatePriority(Xe(e))}}YC(Xe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE extends na{constructor(e){super(),this.indexPath_=e,j(!ge(e)&&de(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),s=this.extractChild(n.node),r=i.compareTo(s);return r===0?Ei(e.name,n.name):r}makePost(e,n){const i=Xe(e),s=se.EMPTY_NODE.updateChild(this.indexPath_,i);return new pe(n,s)}maxPost(){const e=se.EMPTY_NODE.updateChild(this.indexPath_,Dr);return new pe(_i,e)}toString(){return rr(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE extends na{compare(e,n){const i=e.node.compareTo(n.node);return i===0?Ei(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return pe.MIN}maxPost(){return pe.MAX}makePost(e,n){const i=Xe(e);return new pe(n,i)}toString(){return".value"}}const sE=new iE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(t){return{type:"value",snapshotNode:t}}function Ji(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function or(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ar(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function rE(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e){this.index_=e}updateChild(e,n,i,s,r,o){j(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(s).equals(i.getChild(s))&&a.isEmpty()===i.isEmpty()||(o!=null&&(i.isEmpty()?e.hasChild(n)?o.trackChildChange(or(n,a)):j(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Ji(n,i)):o.trackChildChange(ar(n,i,a))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(ze,(s,r)=>{n.hasChild(s)||i.trackChildChange(or(s,r))}),n.isLeafNode()||n.forEachChild(ze,(s,r)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(r)||i.trackChildChange(ar(s,r,o))}else i.trackChildChange(Ji(s,r))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?se.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.indexedFilter_=new uh(e.getIndex()),this.index_=e.getIndex(),this.startPost_=lr.getStartPost_(e),this.endPost_=lr.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,s,r,o){return this.matches(new pe(n,i))||(i=se.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,s,r,o)}updateFullNode(e,n,i){n.isLeafNode()&&(n=se.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(se.EMPTY_NODE);const r=this;return n.forEachChild(ze,(o,a)=>{r.matches(new pe(o,a))||(s=s.updateImmediateChild(o,se.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new lr(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,s,r,o){return this.rangedFilter_.matches(new pe(n,i))||(i=se.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,s,r,o):this.fullLimitUpdateChild_(e,n,i,r,o)}updateFullNode(e,n,i){let s;if(n.isLeafNode()||n.isEmpty())s=se.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=se.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;r.hasNext()&&o<this.limit_;){const a=r.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))s=s.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(se.EMPTY_NODE);let r;this.reverse_?r=s.getReverseIterator(this.index_):r=s.getIterator(this.index_);let o=0;for(;r.hasNext();){const a=r.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:s=s.updateImmediateChild(a.name,se.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,s,r){let o;if(this.reverse_){const u=this.index_.getCompare();o=(f,d)=>u(d,f)}else o=this.index_.getCompare();const a=e;j(a.numChildren()===this.limit_,"");const l=new pe(n,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),h=this.rangedFilter_.matches(l);if(a.hasChild(n)){const u=a.getImmediateChild(n);let f=s.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=s.getChildAfterChild(this.index_,f,this.reverse_);const d=f==null?1:o(f,l);if(h&&!i.isEmpty()&&d>=0)return r!=null&&r.trackChildChange(ar(n,i,u)),a.updateImmediateChild(n,i);{r!=null&&r.trackChildChange(or(n,u));const g=a.updateImmediateChild(n,se.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(r!=null&&r.trackChildChange(Ji(f.name,f.node)),g.updateImmediateChild(f.name,f.node)):g}}else return i.isEmpty()?e:h&&o(c,l)>=0?(r!=null&&(r.trackChildChange(or(c.name,c.node)),r.trackChildChange(Ji(n,i))),a.updateImmediateChild(n,i).updateImmediateChild(c.name,se.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ze}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return j(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return j(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Zi}hasEnd(){return this.endSet_}getIndexEndValue(){return j(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return j(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:_i}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return j(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ze}copy(){const e=new fh;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function aE(t){return t.loadsAllData()?new uh(t.getIndex()):t.hasLimit()?new oE(t):new lr(t)}function F0(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ze?n="$priority":t.index_===sE?n="$value":t.index_===Ui?n="$key":(j(t.index_ instanceof nE,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ze(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=Ze(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+Ze(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=Ze(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+Ze(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function T0(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ze&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends Qg{constructor(e,n,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=Sr("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(j(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,s){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=wo.getListenId_(e,i),a={};this.listens_[o]=a;const l=F0(e._queryParams);this.restRequest_(r+".json",l,(c,h)=>{let u=h;if(c===404&&(u=null,c=null),c===null&&this.onDataUpdate_(r,u,!1,i),xi(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",s(f,null)}})}unlisten(e,n){const i=wo.getListenId_(e,n);delete this.listens_[i]}get(e){const n=F0(e._queryParams),i=e._path.toString(),s=new Cr;return this.restRequest_(i+".json",n,(r,o)=>{let a=o;r===404&&(a=null,r=null),r===null?(this.onDataUpdate_(i,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,r])=>{s&&s.accessToken&&(n.auth=s.accessToken),r&&r.token&&(n.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Pb(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=tr(a.responseText)}catch{Et("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&Et("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(){this.rootNode_=se.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(){return{value:null,children:new Map}}function ox(t,e,n){if(ge(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=de(e);t.children.has(i)||t.children.set(i,Ao());const s=t.children.get(i);e=Pe(e),ox(s,e,n)}}function dc(t,e,n){t.value!==null?n(e,t.value):cE(t,(i,s)=>{const r=new Be(e.toString()+"/"+i);dc(s,r,n)})}function cE(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&st(this.last_,(i,s)=>{n[i]=n[i]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0=10*1e3,uE=30*1e3,fE=5*60*1e3;class dE{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new hE(e);const i=I0+(uE-I0)*Math.random();Ns(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;st(e,(s,r)=>{r>0&&qt(this.statsToReport_,s)&&(n[s]=r,i=!0)}),i&&this.server_.reportStats(n),Ns(this.reportStats_.bind(this),Math.floor(Math.random()*2*fE))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ht||(Ht={}));function dh(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ph(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function gh(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=Ht.ACK_USER_WRITE,this.source=dh()}operationForChild(e){if(ge(this.path)){if(this.affectedTree.value!=null)return j(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Be(e));return new So(Ee(),n,this.revert)}}else return j(de(this.path)===e,"operationForChild called for unrelated child."),new So(Pe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,n){this.source=e,this.path=n,this.type=Ht.LISTEN_COMPLETE}operationForChild(e){return ge(this.path)?new cr(this.source,Ee()):new cr(this.source,Pe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=Ht.OVERWRITE}operationForChild(e){return ge(this.path)?new mi(this.source,Ee(),this.snap.getImmediateChild(e)):new mi(this.source,Pe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=Ht.MERGE}operationForChild(e){if(ge(this.path)){const n=this.children.subtree(new Be(e));return n.isEmpty()?null:n.value?new mi(this.source,Ee(),n.value):new es(this.source,Ee(),n)}else return j(de(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new es(this.source,Pe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ge(e))return this.isFullyInitialized()&&!this.filtered_;const n=de(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function gE(t,e,n,i){const s=[],r=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push(rE(o.childName,o.snapshotNode))}),ms(t,s,"child_removed",e,i,n),ms(t,s,"child_added",e,i,n),ms(t,s,"child_moved",r,i,n),ms(t,s,"child_changed",e,i,n),ms(t,s,"value",e,i,n),s}function ms(t,e,n,i,s,r){const o=i.filter(a=>a.type===n);o.sort((a,l)=>_E(t,a,l)),o.forEach(a=>{const l=xE(t,a,r);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function xE(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function _E(t,e,n){if(e.childName==null||n.childName==null)throw ss("Should only compare child_ events.");const i=new pe(e.childName,e.snapshotNode),s=new pe(n.childName,n.snapshotNode);return t.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(t,e){return{eventCache:t,serverCache:e}}function Ls(t,e,n,i){return ia(new vi(e,n,i),t.serverCache)}function ax(t,e,n,i){return ia(t.eventCache,new vi(e,n,i))}function pc(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function bi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ua;const mE=()=>(Ua||(Ua=new Ct(nC)),Ua);class Ie{constructor(e,n=mE()){this.value=e,this.children=n}static fromObject(e){let n=new Ie(null);return st(e,(i,s)=>{n=n.set(new Be(i),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ee(),value:this.value};if(ge(e))return null;{const i=de(e),s=this.children.get(i);if(s!==null){const r=s.findRootMostMatchingPathAndValue(Pe(e),n);return r!=null?{path:$e(new Be(i),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ge(e))return this;{const n=de(e),i=this.children.get(n);return i!==null?i.subtree(Pe(e)):new Ie(null)}}set(e,n){if(ge(e))return new Ie(n,this.children);{const i=de(e),r=(this.children.get(i)||new Ie(null)).set(Pe(e),n),o=this.children.insert(i,r);return new Ie(this.value,o)}}remove(e){if(ge(e))return this.children.isEmpty()?new Ie(null):new Ie(null,this.children);{const n=de(e),i=this.children.get(n);if(i){const s=i.remove(Pe(e));let r;return s.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,s),this.value===null&&r.isEmpty()?new Ie(null):new Ie(this.value,r)}else return this}}get(e){if(ge(e))return this.value;{const n=de(e),i=this.children.get(n);return i?i.get(Pe(e)):null}}setTree(e,n){if(ge(e))return n;{const i=de(e),r=(this.children.get(i)||new Ie(null)).setTree(Pe(e),n);let o;return r.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,r),new Ie(this.value,o)}}fold(e){return this.fold_(Ee(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((s,r)=>{i[s]=r.fold_($e(e,s),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,Ee(),n)}findOnPath_(e,n,i){const s=this.value?i(n,this.value):!1;if(s)return s;if(ge(e))return null;{const r=de(e),o=this.children.get(r);return o?o.findOnPath_(Pe(e),$e(n,r),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ee(),n)}foreachOnPath_(e,n,i){if(ge(e))return this;{this.value&&i(n,this.value);const s=de(e),r=this.children.get(s);return r?r.foreachOnPath_(Pe(e),$e(n,s),i):new Ie(null)}}foreach(e){this.foreach_(Ee(),e)}foreach_(e,n){this.children.inorderTraversal((i,s)=>{s.foreach_($e(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.writeTree_=e}static empty(){return new $t(new Ie(null))}}function Hs(t,e,n){if(ge(e))return new $t(new Ie(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let r=i.value;const o=yt(s,e);return r=r.updateChild(o,n),new $t(t.writeTree_.set(s,r))}else{const s=new Ie(n),r=t.writeTree_.setTree(e,s);return new $t(r)}}}function gc(t,e,n){let i=t;return st(n,(s,r)=>{i=Hs(i,$e(e,s),r)}),i}function R0(t,e){if(ge(e))return $t.empty();{const n=t.writeTree_.setTree(e,new Ie(null));return new $t(n)}}function xc(t,e){return wi(t,e)!=null}function wi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(yt(n.path,e)):null}function P0(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ze,(i,s)=>{e.push(new pe(i,s))}):t.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new pe(i,s.value))}),e}function Mn(t,e){if(ge(e))return t;{const n=wi(t,e);return n!=null?new $t(new Ie(n)):new $t(t.writeTree_.subtree(e))}}function _c(t){return t.writeTree_.isEmpty()}function ts(t,e){return lx(Ee(),t.writeTree_,e)}function lx(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((s,r)=>{s===".priority"?(j(r.value!==null,"Priority writes must always be leaf nodes"),i=r.value):n=lx($e(t,s),r,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild($e(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(t,e){return fx(e,t)}function vE(t,e,n,i,s){j(i>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:s}),s&&(t.visibleWrites=Hs(t.visibleWrites,e,n)),t.lastWriteId=i}function bE(t,e,n,i){j(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=gc(t.visibleWrites,e,n),t.lastWriteId=i}function yE(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function CE(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);j(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let s=i.visible,r=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&EE(a,i.path)?s=!1:Tt(i.path,a.path)&&(r=!0)),o--}if(s){if(r)return wE(t),!0;if(i.snap)t.visibleWrites=R0(t.visibleWrites,i.path);else{const a=i.children;st(a,l=>{t.visibleWrites=R0(t.visibleWrites,$e(i.path,l))})}return!0}else return!1}function EE(t,e){if(t.snap)return Tt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Tt($e(t.path,n),e))return!0;return!1}function wE(t){t.visibleWrites=cx(t.allWrites,AE,Ee()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function AE(t){return t.visible}function cx(t,e,n){let i=$t.empty();for(let s=0;s<t.length;++s){const r=t[s];if(e(r)){const o=r.path;let a;if(r.snap)Tt(n,o)?(a=yt(n,o),i=Hs(i,a,r.snap)):Tt(o,n)&&(a=yt(o,n),i=Hs(i,Ee(),r.snap.getChild(a)));else if(r.children){if(Tt(n,o))a=yt(n,o),i=gc(i,a,r.children);else if(Tt(o,n))if(a=yt(o,n),ge(a))i=gc(i,Ee(),r.children);else{const l=xi(r.children,de(a));if(l){const c=l.getChild(Pe(a));i=Hs(i,Ee(),c)}}}else throw ss("WriteRecord should have .snap or .children")}}return i}function hx(t,e,n,i,s){if(!i&&!s){const r=wi(t.visibleWrites,e);if(r!=null)return r;{const o=Mn(t.visibleWrites,e);if(_c(o))return n;if(n==null&&!xc(o,Ee()))return null;{const a=n||se.EMPTY_NODE;return ts(o,a)}}}else{const r=Mn(t.visibleWrites,e);if(!s&&_c(r))return n;if(!s&&n==null&&!xc(r,Ee()))return null;{const o=function(c){return(c.visible||s)&&(!i||!~i.indexOf(c.writeId))&&(Tt(c.path,e)||Tt(e,c.path))},a=cx(t.allWrites,o,e),l=n||se.EMPTY_NODE;return ts(a,l)}}}function SE(t,e,n){let i=se.EMPTY_NODE;const s=wi(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(ze,(r,o)=>{i=i.updateImmediateChild(r,o)}),i;if(n){const r=Mn(t.visibleWrites,e);return n.forEachChild(ze,(o,a)=>{const l=ts(Mn(r,new Be(o)),a);i=i.updateImmediateChild(o,l)}),P0(r).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const r=Mn(t.visibleWrites,e);return P0(r).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function DE(t,e,n,i,s){j(i||s,"Either existingEventSnap or existingServerSnap must exist");const r=$e(e,n);if(xc(t.visibleWrites,r))return null;{const o=Mn(t.visibleWrites,r);return _c(o)?s.getChild(n):ts(o,s.getChild(n))}}function kE(t,e,n,i){const s=$e(e,n),r=wi(t.visibleWrites,s);if(r!=null)return r;if(i.isCompleteForChild(n)){const o=Mn(t.visibleWrites,s);return ts(o,i.getNode().getImmediateChild(n))}else return null}function BE(t,e){return wi(t.visibleWrites,e)}function FE(t,e,n,i,s,r,o){let a;const l=Mn(t.visibleWrites,e),c=wi(l,Ee());if(c!=null)a=c;else if(n!=null)a=ts(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const h=[],u=o.getCompare(),f=r?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let d=f.getNext();for(;d&&h.length<s;)u(d,i)!==0&&h.push(d),d=f.getNext();return h}else return[]}function TE(){return{visibleWrites:$t.empty(),allWrites:[],lastWriteId:-1}}function Do(t,e,n,i){return hx(t.writeTree,t.treePath,e,n,i)}function _h(t,e){return SE(t.writeTree,t.treePath,e)}function M0(t,e,n,i){return DE(t.writeTree,t.treePath,e,n,i)}function ko(t,e){return BE(t.writeTree,$e(t.treePath,e))}function IE(t,e,n,i,s,r){return FE(t.writeTree,t.treePath,e,n,i,s,r)}function mh(t,e,n){return kE(t.writeTree,t.treePath,e,n)}function ux(t,e){return fx($e(t.treePath,e),t.writeTree)}function fx(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;j(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),j(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const r=s.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(i,ar(i,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(i,or(i,s.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(i,Ji(i,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(i,ar(i,e.snapshotNode,s.oldSnap));else throw ss("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const dx=new PE;class vh{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new vi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return mh(this.writes_,e,i)}}getChildAfterChild(e,n,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:bi(this.viewCache_),r=IE(this.writes_,s,n,1,i,e);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(t){return{filter:t}}function OE(t,e){j(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),j(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function NE(t,e,n,i,s){const r=new RE;let o,a;if(n.type===Ht.OVERWRITE){const c=n;c.source.fromUser?o=mc(t,e,c.path,c.snap,i,s,r):(j(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!ge(c.path),o=Bo(t,e,c.path,c.snap,i,s,a,r))}else if(n.type===Ht.MERGE){const c=n;c.source.fromUser?o=HE(t,e,c.path,c.children,i,s,r):(j(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=vc(t,e,c.path,c.children,i,s,a,r))}else if(n.type===Ht.ACK_USER_WRITE){const c=n;c.revert?o=VE(t,e,c.path,i,s,r):o=zE(t,e,c.path,c.affectedTree,i,s,r)}else if(n.type===Ht.LISTEN_COMPLETE)o=WE(t,e,n.path,i,r);else throw ss("Unknown operation type: "+n.type);const l=r.getChanges();return LE(e,o,l),{viewCache:o,changes:l}}function LE(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),r=pc(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!i.getNode().equals(r)||!i.getNode().getPriority().equals(r.getPriority()))&&n.push(rx(pc(e)))}}function px(t,e,n,i,s,r){const o=e.eventCache;if(ko(i,n)!=null)return e;{let a,l;if(ge(n))if(j(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=bi(e),h=c instanceof se?c:se.EMPTY_NODE,u=_h(i,h);a=t.filter.updateFullNode(e.eventCache.getNode(),u,r)}else{const c=Do(i,bi(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,r)}else{const c=de(n);if(c===".priority"){j(zn(n)===1,"Can't have a priority with additional path components");const h=o.getNode();l=e.serverCache.getNode();const u=M0(i,n,h,l);u!=null?a=t.filter.updatePriority(h,u):a=o.getNode()}else{const h=Pe(n);let u;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=M0(i,n,o.getNode(),l);f!=null?u=o.getNode().getImmediateChild(c).updateChild(h,f):u=o.getNode().getImmediateChild(c)}else u=mh(i,c,e.serverCache);u!=null?a=t.filter.updateChild(o.getNode(),c,u,h,s,r):a=o.getNode()}}return Ls(e,a,o.isFullyInitialized()||ge(n),t.filter.filtersNodes())}}function Bo(t,e,n,i,s,r,o,a){const l=e.serverCache;let c;const h=o?t.filter:t.filter.getIndexedFilter();if(ge(n))c=h.updateFullNode(l.getNode(),i,null);else if(h.filtersNodes()&&!l.isFiltered()){const d=l.getNode().updateChild(n,i);c=h.updateFullNode(l.getNode(),d,null)}else{const d=de(n);if(!l.isCompleteForPath(n)&&zn(n)>1)return e;const p=Pe(n),x=l.getNode().getImmediateChild(d).updateChild(p,i);d===".priority"?c=h.updatePriority(l.getNode(),x):c=h.updateChild(l.getNode(),d,x,p,dx,null)}const u=ax(e,c,l.isFullyInitialized()||ge(n),h.filtersNodes()),f=new vh(s,u,r);return px(t,u,n,s,f,a)}function mc(t,e,n,i,s,r,o){const a=e.eventCache;let l,c;const h=new vh(s,e,r);if(ge(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,o),l=Ls(e,c,!0,t.filter.filtersNodes());else{const u=de(n);if(u===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),i),l=Ls(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=Pe(n),d=a.getNode().getImmediateChild(u);let p;if(ge(f))p=i;else{const g=h.getCompleteChild(u);g!=null?ah(f)===".priority"&&g.getChild(Zg(f)).isEmpty()?p=g:p=g.updateChild(f,i):p=se.EMPTY_NODE}if(d.equals(p))l=e;else{const g=t.filter.updateChild(a.getNode(),u,p,f,h,o);l=Ls(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function O0(t,e){return t.eventCache.isCompleteForChild(e)}function HE(t,e,n,i,s,r,o){let a=e;return i.foreach((l,c)=>{const h=$e(n,l);O0(e,de(h))&&(a=mc(t,a,h,c,s,r,o))}),i.foreach((l,c)=>{const h=$e(n,l);O0(e,de(h))||(a=mc(t,a,h,c,s,r,o))}),a}function N0(t,e,n){return n.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function vc(t,e,n,i,s,r,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;ge(n)?c=i:c=new Ie(null).setTree(n,i);const h=e.serverCache.getNode();return c.children.inorderTraversal((u,f)=>{if(h.hasChild(u)){const d=e.serverCache.getNode().getImmediateChild(u),p=N0(t,d,f);l=Bo(t,l,new Be(u),p,s,r,o,a)}}),c.children.inorderTraversal((u,f)=>{const d=!e.serverCache.isCompleteForChild(u)&&f.value===null;if(!h.hasChild(u)&&!d){const p=e.serverCache.getNode().getImmediateChild(u),g=N0(t,p,f);l=Bo(t,l,new Be(u),g,s,r,o,a)}}),l}function zE(t,e,n,i,s,r,o){if(ko(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(ge(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Bo(t,e,n,l.getNode().getChild(n),s,r,a,o);if(ge(n)){let c=new Ie(null);return l.getNode().forEachChild(Ui,(h,u)=>{c=c.set(new Be(h),u)}),vc(t,e,n,c,s,r,a,o)}else return e}else{let c=new Ie(null);return i.foreach((h,u)=>{const f=$e(n,h);l.isCompleteForPath(f)&&(c=c.set(h,l.getNode().getChild(f)))}),vc(t,e,n,c,s,r,a,o)}}function WE(t,e,n,i,s){const r=e.serverCache,o=ax(e,r.getNode(),r.isFullyInitialized()||ge(n),r.isFiltered());return px(t,o,n,i,dx,s)}function VE(t,e,n,i,s,r){let o;if(ko(i,n)!=null)return e;{const a=new vh(i,e,s),l=e.eventCache.getNode();let c;if(ge(n)||de(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=Do(i,bi(e));else{const u=e.serverCache.getNode();j(u instanceof se,"serverChildren would be complete if leaf node"),h=_h(i,u)}h=h,c=t.filter.updateFullNode(l,h,r)}else{const h=de(n);let u=mh(i,h,e.serverCache);u==null&&e.serverCache.isCompleteForChild(h)&&(u=l.getImmediateChild(h)),u!=null?c=t.filter.updateChild(l,h,u,Pe(n),a,r):e.eventCache.getNode().hasChild(h)?c=t.filter.updateChild(l,h,se.EMPTY_NODE,Pe(n),a,r):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Do(i,bi(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,r)))}return o=e.serverCache.isFullyInitialized()||ko(i,Ee())!=null,Ls(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new uh(i.getIndex()),r=aE(i);this.processor_=ME(r);const o=n.serverCache,a=n.eventCache,l=s.updateFullNode(se.EMPTY_NODE,o.getNode(),null),c=r.updateFullNode(se.EMPTY_NODE,a.getNode(),null),h=new vi(l,o.isFullyInitialized(),s.filtersNodes()),u=new vi(c,a.isFullyInitialized(),r.filtersNodes());this.viewCache_=ia(u,h),this.eventGenerator_=new pE(this.query_)}get query(){return this.query_}}function UE(t){return t.viewCache_.serverCache.getNode()}function jE(t,e){const n=bi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ge(e)&&!n.getImmediateChild(de(e)).isEmpty())?n.getChild(e):null}function L0(t){return t.eventRegistrations_.length===0}function qE(t,e){t.eventRegistrations_.push(e)}function H0(t,e,n){const i=[];if(n){j(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(r=>{const o=r.createCancelEvent(n,s);o&&i.push(o)})}if(e){let s=[];for(let r=0;r<t.eventRegistrations_.length;++r){const o=t.eventRegistrations_[r];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(r+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return i}function z0(t,e,n,i){e.type===Ht.MERGE&&e.source.queryId!==null&&(j(bi(t.viewCache_),"We should always have a full cache before handling merges"),j(pc(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,r=NE(t.processor_,s,e,n,i);return OE(t.processor_,r.viewCache),j(r.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,gx(t,r.changes,r.viewCache.eventCache.getNode(),null)}function KE(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ze,(r,o)=>{i.push(Ji(r,o))}),n.isFullyInitialized()&&i.push(rx(n.getNode())),gx(t,i,n.getNode(),e)}function gx(t,e,n,i){const s=i?[i]:t.eventRegistrations_;return gE(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fo;class GE{constructor(){this.views=new Map}}function YE(t){j(!Fo,"__referenceConstructor has already been defined"),Fo=t}function QE(){return j(Fo,"Reference.ts has not been loaded"),Fo}function XE(t){return t.views.size===0}function bh(t,e,n,i){const s=e.source.queryId;if(s!==null){const r=t.views.get(s);return j(r!=null,"SyncTree gave us an op for an invalid query."),z0(r,e,n,i)}else{let r=[];for(const o of t.views.values())r=r.concat(z0(o,e,n,i));return r}}function ZE(t,e,n,i,s){const r=e._queryIdentifier,o=t.views.get(r);if(!o){let a=Do(n,s?i:null),l=!1;a?l=!0:i instanceof se?(a=_h(n,i),l=!1):(a=se.EMPTY_NODE,l=!1);const c=ia(new vi(a,l,!1),new vi(i,s,!1));return new $E(e,c)}return o}function JE(t,e,n,i,s,r){const o=ZE(t,e,i,s,r);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),qE(o,n),KE(o,n)}function e2(t,e,n,i){const s=e._queryIdentifier,r=[];let o=[];const a=Wn(t);if(s==="default")for(const[l,c]of t.views.entries())o=o.concat(H0(c,n,i)),L0(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||r.push(c.query));else{const l=t.views.get(s);l&&(o=o.concat(H0(l,n,i)),L0(l)&&(t.views.delete(s),l.query._queryParams.loadsAllData()||r.push(l.query)))}return a&&!Wn(t)&&r.push(new(QE())(e._repo,e._path)),{removed:r,events:o}}function xx(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ji(t,e){let n=null;for(const i of t.views.values())n=n||jE(i,e);return n}function _x(t,e){if(e._queryParams.loadsAllData())return sa(t);{const i=e._queryIdentifier;return t.views.get(i)}}function mx(t,e){return _x(t,e)!=null}function Wn(t){return sa(t)!=null}function sa(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let To;function t2(t){j(!To,"__referenceConstructor has already been defined"),To=t}function n2(){return j(To,"Reference.ts has not been loaded"),To}let i2=1;class W0{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ie(null),this.pendingWriteTree_=TE(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function vx(t,e,n,i,s){return vE(t.pendingWriteTree_,e,n,i,s),s?os(t,new mi(dh(),e,n)):[]}function s2(t,e,n,i){bE(t.pendingWriteTree_,e,n,i);const s=Ie.fromObject(n);return os(t,new es(dh(),e,s))}function ai(t,e,n=!1){const i=yE(t.pendingWriteTree_,e);if(CE(t.pendingWriteTree_,e)){let r=new Ie(null);return i.snap!=null?r=r.set(Ee(),!0):st(i.children,o=>{r=r.set(new Be(o),!0)}),os(t,new So(i.path,r,n))}else return[]}function ra(t,e,n){return os(t,new mi(ph(),e,n))}function r2(t,e,n){const i=Ie.fromObject(n);return os(t,new es(ph(),e,i))}function o2(t,e){return os(t,new cr(ph(),e))}function a2(t,e,n){const i=Ch(t,n);if(i){const s=Eh(i),r=s.path,o=s.queryId,a=yt(r,e),l=new cr(gh(o),a);return wh(t,r,l)}else return[]}function bc(t,e,n,i,s=!1){const r=e._path,o=t.syncPointTree_.get(r);let a=[];if(o&&(e._queryIdentifier==="default"||mx(o,e))){const l=e2(o,e,n,i);XE(o)&&(t.syncPointTree_=t.syncPointTree_.remove(r));const c=l.removed;if(a=l.events,!s){const h=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,u=t.syncPointTree_.findOnPath(r,(f,d)=>Wn(d));if(h&&!u){const f=t.syncPointTree_.subtree(r);if(!f.isEmpty()){const d=h2(f);for(let p=0;p<d.length;++p){const g=d[p],x=g.query,b=Cx(t,g);t.listenProvider_.startListening(zs(x),Io(t,x),b.hashFn,b.onComplete)}}}!u&&c.length>0&&!i&&(h?t.listenProvider_.stopListening(zs(e),null):c.forEach(f=>{const d=t.queryToTagMap.get(oa(f));t.listenProvider_.stopListening(zs(f),d)}))}u2(t,c)}return a}function l2(t,e,n,i){const s=Ch(t,i);if(s!=null){const r=Eh(s),o=r.path,a=r.queryId,l=yt(o,e),c=new mi(gh(a),l,n);return wh(t,o,c)}else return[]}function c2(t,e,n,i){const s=Ch(t,i);if(s){const r=Eh(s),o=r.path,a=r.queryId,l=yt(o,e),c=Ie.fromObject(n),h=new es(gh(a),l,c);return wh(t,o,h)}else return[]}function V0(t,e,n,i=!1){const s=e._path;let r=null,o=!1;t.syncPointTree_.foreachOnPath(s,(f,d)=>{const p=yt(f,s);r=r||ji(d,p),o=o||Wn(d)});let a=t.syncPointTree_.get(s);a?(o=o||Wn(a),r=r||ji(a,Ee())):(a=new GE,t.syncPointTree_=t.syncPointTree_.set(s,a));let l;r!=null?l=!0:(l=!1,r=se.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((d,p)=>{const g=ji(p,Ee());g&&(r=r.updateImmediateChild(d,g))}));const c=mx(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=oa(e);j(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const d=f2();t.queryToTagMap.set(f,d),t.tagToQueryMap.set(d,f)}const h=xh(t.pendingWriteTree_,s);let u=JE(a,e,n,h,r,l);if(!c&&!o&&!i){const f=_x(a,e);u=u.concat(d2(t,e,f))}return u}function yh(t,e,n){const s=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=yt(o,e),c=ji(a,l);if(c)return c});return hx(s,e,r,n,!0)}function os(t,e){return bx(e,t.syncPointTree_,null,xh(t.pendingWriteTree_,Ee()))}function bx(t,e,n,i){if(ge(t.path))return yx(t,e,n,i);{const s=e.get(Ee());n==null&&s!=null&&(n=ji(s,Ee()));let r=[];const o=de(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,h=ux(i,o);r=r.concat(bx(a,l,c,h))}return s&&(r=r.concat(bh(s,t,i,n))),r}}function yx(t,e,n,i){const s=e.get(Ee());n==null&&s!=null&&(n=ji(s,Ee()));let r=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=ux(i,o),h=t.operationForChild(o);h&&(r=r.concat(yx(h,a,l,c)))}),s&&(r=r.concat(bh(s,t,i,n))),r}function Cx(t,e){const n=e.query,i=Io(t,n);return{hashFn:()=>(UE(e)||se.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?a2(t,n._path,i):o2(t,n._path);{const r=rC(s,n);return bc(t,n,null,r)}}}}function Io(t,e){const n=oa(e);return t.queryToTagMap.get(n)}function oa(t){return t._path.toString()+"$"+t._queryIdentifier}function Ch(t,e){return t.tagToQueryMap.get(e)}function Eh(t){const e=t.indexOf("$");return j(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Be(t.substr(0,e))}}function wh(t,e,n){const i=t.syncPointTree_.get(e);j(i,"Missing sync point for query tag that we're tracking");const s=xh(t.pendingWriteTree_,e);return bh(i,n,s,null)}function h2(t){return t.fold((e,n,i)=>{if(n&&Wn(n))return[sa(n)];{let s=[];return n&&(s=xx(n)),st(i,(r,o)=>{s=s.concat(o)}),s}})}function zs(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(n2())(t._repo,t._path):t}function u2(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const s=oa(i),r=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(r)}}}function f2(){return i2++}function d2(t,e,n){const i=e._path,s=Io(t,e),r=Cx(t,n),o=t.listenProvider_.startListening(zs(e),s,r.hashFn,r.onComplete),a=t.syncPointTree_.subtree(i);if(s)j(!Wn(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,h,u)=>{if(!ge(c)&&h&&Wn(h))return[sa(h).query];{let f=[];return h&&(f=f.concat(xx(h).map(d=>d.query))),st(u,(d,p)=>{f=f.concat(p)}),f}});for(let c=0;c<l.length;++c){const h=l[c];t.listenProvider_.stopListening(zs(h),Io(t,h))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Ah(n)}node(){return this.node_}}class Sh{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=$e(this.path_,e);return new Sh(this.syncTree_,n)}node(){return yh(this.syncTree_,this.path_)}}const p2=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},$0=function(t,e,n){if(!t||typeof t!="object")return t;if(j(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return g2(t[".sv"],e,n);if(typeof t[".sv"]=="object")return x2(t[".sv"],e);j(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},g2=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:j(!1,"Unexpected server value: "+t)}},x2=function(t,e,n){t.hasOwnProperty("increment")||j(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&j(!1,"Unexpected increment value: "+i);const s=e.node();if(j(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const o=s.getValue();return typeof o!="number"?i:o+i},Ex=function(t,e,n,i){return Dh(e,new Sh(n,t),i)},wx=function(t,e,n){return Dh(t,new Ah(e),n)};function Dh(t,e,n){const i=t.getPriority().val(),s=$0(i,e.getImmediateChild(".priority"),n);let r;if(t.isLeafNode()){const o=t,a=$0(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new Ye(a,Xe(s)):t}else{const o=t;return r=o,s!==o.getPriority().val()&&(r=r.updatePriority(new Ye(s))),o.forEachChild(ze,(a,l)=>{const c=Dh(l,e.getImmediateChild(a),n);c!==l&&(r=r.updateImmediateChild(a,c))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function aa(t,e){let n=e instanceof Be?e:new Be(e),i=t,s=de(n);for(;s!==null;){const r=xi(i.node.children,s)||{children:{},childCount:0};i=new kh(s,i,r),n=Pe(n),s=de(n)}return i}function Ai(t){return t.node.value}function Bh(t,e){t.node.value=e,yc(t)}function Ax(t){return t.node.childCount>0}function _2(t){return Ai(t)===void 0&&!Ax(t)}function la(t,e){st(t.node.children,(n,i)=>{e(new kh(n,t,i))})}function Sx(t,e,n,i){n&&!i&&e(t),la(t,s=>{Sx(s,e,!0,i)}),n&&i&&e(t)}function m2(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function kr(t){return new Be(t.parent===null?t.name:kr(t.parent)+"/"+t.name)}function yc(t){t.parent!==null&&v2(t.parent,t.name,t)}function v2(t,e,n){const i=_2(n),s=qt(t.node.children,e);i&&s?(delete t.node.children[e],t.node.childCount--,yc(t)):!i&&!s&&(t.node.children[e]=n.node,t.node.childCount++,yc(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=/[\[\].#$\/\u0000-\u001F\u007F]/,y2=/[\[\].#$\u0000-\u001F\u007F]/,ja=10*1024*1024,Fh=function(t){return typeof t=="string"&&t.length!==0&&!b2.test(t)},Dx=function(t){return typeof t=="string"&&t.length!==0&&!y2.test(t)},C2=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Dx(t)},kx=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!nh(t)||t&&typeof t=="object"&&qt(t,".sv")},ca=function(t,e,n){const i=n instanceof Be?new HC(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ii(i));if(typeof e=="function")throw new Error(t+"contains a function "+ii(i)+" with contents = "+e.toString());if(nh(e))throw new Error(t+"contains "+e.toString()+" "+ii(i));if(typeof e=="string"&&e.length>ja/3&&ta(e)>ja)throw new Error(t+"contains a string greater than "+ja+" utf8 bytes "+ii(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,r=!1;if(st(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!Fh(o)))throw new Error(t+" contains an invalid key ("+o+") "+ii(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);zC(i,o),ca(t,a,i),WC(i)}),s&&r)throw new Error(t+' contains ".value" child '+ii(i)+" in addition to actual children.")}},E2=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const r=rr(i);for(let o=0;o<r.length;o++)if(!(r[o]===".priority"&&o===r.length-1)){if(!Fh(r[o]))throw new Error(t+"contains an invalid key ("+r[o]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(LC);let s=null;for(n=0;n<e.length;n++){if(i=e[n],s!==null&&Tt(s,i))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+i.toString());s=i}},w2=function(t,e,n,i){const s=eh(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const r=[];st(e,(o,a)=>{const l=new Be(o);if(ca(s,a,$e(n,l)),ah(l)===".priority"&&!kx(a))throw new Error(s+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");r.push(l)}),E2(s,r)},Bx=function(t,e,n,i){if(!Dx(n))throw new Error(eh(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},A2=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Bx(t,e,n)},S2=function(t,e){if(de(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},D2=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Fh(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!C2(n))throw new Error(eh(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Th(t,e){let n=null;for(let i=0;i<e.length;i++){const s=e[i],r=s.getPath();n!==null&&!lh(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(s)}n&&t.eventLists_.push(n)}function Fx(t,e,n){Th(t,n),Tx(t,i=>lh(i,e))}function tn(t,e,n){Th(t,n),Tx(t,i=>Tt(i,e)||Tt(e,i))}function Tx(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const s=t.eventLists_[i];if(s){const r=s.path;e(r)?(B2(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function B2(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();Os&&nt("event: "+n.toString()),rs(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2="repo_interrupt",T2=25;class I2{constructor(e,n,i,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new k2,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ao(),this.transactionQueueTree_=new kh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function R2(t,e,n){if(t.stats_=rh(t.repoInfo_),t.forceRestClient_||cC())t.server_=new wo(t.repoInfo_,(i,s,r,o)=>{U0(t,i,s,r,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>j0(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ze(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new pn(t.repoInfo_,e,(i,s,r,o)=>{U0(t,i,s,r,o)},i=>{j0(t,i)},i=>{M2(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=pC(t.repoInfo_,()=>new dE(t.stats_,t.server_)),t.infoData_=new lE,t.infoSyncTree_=new W0({startListening:(i,s,r,o)=>{let a=[];const l=t.infoData_.getNode(i._path);return l.isEmpty()||(a=ra(t.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Ih(t,"connected",!1),t.serverSyncTree_=new W0({startListening:(i,s,r,o)=>(t.server_.listen(i,r,s,(a,l)=>{const c=o(a,l);tn(t.eventQueue_,i._path,c)}),[]),stopListening:(i,s)=>{t.server_.unlisten(i,s)}})}function P2(t){const n=t.infoData_.getNode(new Be(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ha(t){return p2({timestamp:P2(t)})}function U0(t,e,n,i,s){t.dataUpdateCount++;const r=new Be(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(i){const l=mo(n,c=>Xe(c));o=c2(t.serverSyncTree_,r,l,s)}else{const l=Xe(n);o=l2(t.serverSyncTree_,r,l,s)}else if(i){const l=mo(n,c=>Xe(c));o=r2(t.serverSyncTree_,r,l)}else{const l=Xe(n);o=ra(t.serverSyncTree_,r,l)}let a=r;o.length>0&&(a=hr(t,r)),tn(t.eventQueue_,a,o)}function j0(t,e){Ih(t,"connected",e),e===!1&&N2(t)}function M2(t,e){st(e,(n,i)=>{Ih(t,n,i)})}function Ih(t,e,n){const i=new Be("/.info/"+e),s=Xe(n);t.infoData_.updateSnapshot(i,s);const r=ra(t.infoSyncTree_,i,s);tn(t.eventQueue_,i,r)}function Rh(t){return t.nextWriteId_++}function O2(t,e,n,i){ua(t,"update",{path:e.toString(),value:n});let s=!0;const r=ha(t),o={};if(st(n,(a,l)=>{s=!1,o[a]=Ex($e(e,a),Xe(l),t.serverSyncTree_,r)}),s)nt("update() called with empty data.  Don't do anything."),K0(t,i,"ok",void 0);else{const a=Rh(t),l=s2(t.serverSyncTree_,e,o,a);Th(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,h)=>{const u=c==="ok";u||Et("update at "+e+" failed: "+c);const f=ai(t.serverSyncTree_,a,!u),d=f.length>0?hr(t,e):e;tn(t.eventQueue_,d,f),K0(t,i,c,h)}),st(n,c=>{const h=Mx(t,$e(e,c));hr(t,h)}),tn(t.eventQueue_,e,[])}}function N2(t){ua(t,"onDisconnectEvents");const e=ha(t),n=Ao();dc(t.onDisconnect_,Ee(),(s,r)=>{const o=Ex(s,r,t.serverSyncTree_,e);ox(n,s,o)});let i=[];dc(n,Ee(),(s,r)=>{i=i.concat(ra(t.serverSyncTree_,s,r));const o=Mx(t,s);hr(t,o)}),t.onDisconnect_=Ao(),tn(t.eventQueue_,Ee(),i)}function L2(t,e,n){let i;de(e._path)===".info"?i=V0(t.infoSyncTree_,e,n):i=V0(t.serverSyncTree_,e,n),Fx(t.eventQueue_,e._path,i)}function q0(t,e,n){let i;de(e._path)===".info"?i=bc(t.infoSyncTree_,e,n):i=bc(t.serverSyncTree_,e,n),Fx(t.eventQueue_,e._path,i)}function H2(t){t.persistentConnection_&&t.persistentConnection_.interrupt(F2)}function ua(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),nt(n,...e)}function K0(t,e,n,i){e&&rs(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let r=s;i&&(r+=": "+i);const o=new Error(r);o.code=s,e(o)}})}function z2(t,e,n,i,s,r){ua(t,"transaction on "+e);const o={path:e,update:n,onComplete:i,status:null,order:Fg(),applyLocally:r,retryCount:0,unwatcher:s,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=Ph(t,e,void 0);o.currentInputSnapshot=a;const l=o.update(a.val());if(l===void 0)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{ca("transaction failed: Data returned ",l,o.path),o.status=0;const c=aa(t.transactionQueueTree_,e),h=Ai(c)||[];h.push(o),Bh(c,h);let u;typeof l=="object"&&l!==null&&qt(l,".priority")?(u=xi(l,".priority"),j(kx(u),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):u=(yh(t.serverSyncTree_,e)||se.EMPTY_NODE).getPriority().val();const f=ha(t),d=Xe(l,u),p=wx(d,a,f);o.currentOutputSnapshotRaw=d,o.currentOutputSnapshotResolved=p,o.currentWriteId=Rh(t);const g=vx(t.serverSyncTree_,e,p,o.currentWriteId,o.applyLocally);tn(t.eventQueue_,e,g),fa(t,t.transactionQueueTree_)}}function Ph(t,e,n){return yh(t.serverSyncTree_,e,n)||se.EMPTY_NODE}function fa(t,e=t.transactionQueueTree_){if(e||da(t,e),Ai(e)){const n=Rx(t,e);j(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&W2(t,kr(e),n)}else Ax(e)&&la(e,n=>{fa(t,n)})}function W2(t,e,n){const i=n.map(c=>c.currentWriteId),s=Ph(t,e,i);let r=s;const o=s.hash();for(let c=0;c<n.length;c++){const h=n[c];j(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const u=yt(e,h.path);r=r.updateChild(u,h.currentOutputSnapshotRaw)}const a=r.val(!0),l=e;t.server_.put(l.toString(),a,c=>{ua(t,"transaction put response",{path:l.toString(),status:c});let h=[];if(c==="ok"){const u=[];for(let f=0;f<n.length;f++)n[f].status=2,h=h.concat(ai(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&u.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();da(t,aa(t.transactionQueueTree_,e)),fa(t,t.transactionQueueTree_),tn(t.eventQueue_,e,h);for(let f=0;f<u.length;f++)rs(u[f])}else{if(c==="datastale")for(let u=0;u<n.length;u++)n[u].status===3?n[u].status=4:n[u].status=0;else{Et("transaction at "+l.toString()+" failed: "+c);for(let u=0;u<n.length;u++)n[u].status=4,n[u].abortReason=c}hr(t,e)}},o)}function hr(t,e){const n=Ix(t,e),i=kr(n),s=Rx(t,n);return V2(t,s,i),i}function V2(t,e,n){if(e.length===0)return;const i=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=yt(n,l.path);let h=!1,u;if(j(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)h=!0,u=l.abortReason,s=s.concat(ai(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=T2)h=!0,u="maxretry",s=s.concat(ai(t.serverSyncTree_,l.currentWriteId,!0));else{const f=Ph(t,l.path,o);l.currentInputSnapshot=f;const d=e[a].update(f.val());if(d!==void 0){ca("transaction failed: Data returned ",d,l.path);let p=Xe(d);typeof d=="object"&&d!=null&&qt(d,".priority")||(p=p.updatePriority(f.getPriority()));const x=l.currentWriteId,b=ha(t),_=wx(p,f,b);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=_,l.currentWriteId=Rh(t),o.splice(o.indexOf(x),1),s=s.concat(vx(t.serverSyncTree_,l.path,_,l.currentWriteId,l.applyLocally)),s=s.concat(ai(t.serverSyncTree_,x,!0))}else h=!0,u="nodata",s=s.concat(ai(t.serverSyncTree_,l.currentWriteId,!0))}tn(t.eventQueue_,n,s),s=[],h&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(u==="nodata"?i.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):i.push(()=>e[a].onComplete(new Error(u),!1,null))))}da(t,t.transactionQueueTree_);for(let a=0;a<i.length;a++)rs(i[a]);fa(t,t.transactionQueueTree_)}function Ix(t,e){let n,i=t.transactionQueueTree_;for(n=de(e);n!==null&&Ai(i)===void 0;)i=aa(i,n),e=Pe(e),n=de(e);return i}function Rx(t,e){const n=[];return Px(t,e,n),n.sort((i,s)=>i.order-s.order),n}function Px(t,e,n){const i=Ai(e);if(i)for(let s=0;s<i.length;s++)n.push(i[s]);la(e,s=>{Px(t,s,n)})}function da(t,e){const n=Ai(e);if(n){let i=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[i]=n[s],i++);n.length=i,Bh(e,n.length>0?n:void 0)}la(e,i=>{da(t,i)})}function Mx(t,e){const n=kr(Ix(t,e)),i=aa(t.transactionQueueTree_,e);return m2(i,s=>{qa(t,s)}),qa(t,i),Sx(i,s=>{qa(t,s)}),n}function qa(t,e){const n=Ai(e);if(n){const i=[];let s=[],r=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(j(r===o-1,"All SENT items should be at beginning of queue."),r=o,n[o].status=3,n[o].abortReason="set"):(j(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(ai(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?Bh(e,void 0):n.length=r+1,tn(t.eventQueue_,kr(e),s);for(let o=0;o<i.length;o++)rs(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let s=n[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function U2(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Et(`Invalid query segment '${n}' in query '${t}'`)}return e}const G0=function(t,e){const n=j2(t),i=n.namespace;n.domain==="firebase.com"&&xn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&xn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||eC();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new $g(n.host,n.secure,i,s,e,"",i!==n.subdomain),path:new Be(n.pathString)}},j2=function(t){let e="",n="",i="",s="",r="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let h=t.indexOf("/");h===-1&&(h=t.length);let u=t.indexOf("?");u===-1&&(u=t.length),e=t.substring(0,Math.min(h,u)),h<u&&(s=$2(t.substring(h,u)));const f=U2(t.substring(Math.min(t.length,u)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const d=e.slice(0,c);if(d.toLowerCase()==="localhost")n="localhost";else if(d.split(".").length<=2)n=d;else{const p=e.indexOf(".");i=e.substring(0,p).toLowerCase(),n=e.substring(p+1),r=i}"ns"in f&&(r=f.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:o,scheme:a,pathString:s,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,n,i,s){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ze(this.snapshot.exportVal())}}class K2{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return j(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n,i,s){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=s}get key(){return ge(this._path)?null:ah(this._path)}get ref(){return new mn(this._repo,this._path)}get _queryIdentifier(){const e=T0(this._queryParams),n=ih(e);return n==="{}"?"default":n}get _queryObject(){return T0(this._queryParams)}isEqual(e){if(e=wr(e),!(e instanceof Mh))return!1;const n=this._repo===e._repo,i=lh(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+NC(this._path)}}class mn extends Mh{constructor(e,n){super(e,n,new fh,!1)}get parent(){const e=Zg(this._path);return e===null?null:new mn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class ur{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Be(e),i=Cc(this.ref,e);return new ur(this._node.getChild(n),i,ze)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>e(new ur(s,Cc(this.ref,i),ze)))}hasChild(e){const n=new Be(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function li(t,e){return t=wr(t),t._checkNotDeleted("ref"),e!==void 0?Cc(t._root,e):t._root}function Cc(t,e){return t=wr(t),de(t._path)===null?A2("child","path",e):Bx("child","path",e),new mn(t._repo,$e(t._path,e))}function Y0(t,e){w2("update",e,t._path);const n=new Cr;return O2(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class Oh{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new q2("value",this,new ur(e.snapshotNode,new mn(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new K2(this,e,n):null}matches(e){return e instanceof Oh?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function Y2(t,e,n,i,s){let r;if(typeof i=="object"&&(r=void 0,s=i),typeof i=="function"&&(r=i),s&&s.onlyOnce){const l=n,c=(h,u)=>{q0(t._repo,t,a),l(h,u)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new G2(n,r||void 0),a=new Oh(o);return L2(t._repo,t,a),()=>q0(t._repo,t,a)}function ci(t,e,n,i){return Y2(t,"value",e,n,i)}YE(mn);t2(mn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2="FIREBASE_DATABASE_EMULATOR_HOST",Ec={};let X2=!1;function Z2(t,e,n,i){t.repoInfo_=new $g(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function J2(t,e,n,i,s){let r=i||t.options.databaseURL;r===void 0&&(t.options.projectId||xn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),nt("Using default host for project ",t.options.projectId),r=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=G0(r,s),a=o.repoInfo,l;typeof process<"u"&&d0&&(l=d0[Q2]),l?(r=`http://${l}?ns=${a.namespace}`,o=G0(r,s),a=o.repoInfo):o.repoInfo.secure;const c=new uC(t.name,t.options,e);D2("Invalid Firebase Database URL",o),ge(o.path)||xn("Database URL must point to the root of a Firebase Database (not including a child path).");const h=tw(a,t,c,new hC(t.name,n));return new nw(h,t)}function ew(t,e){const n=Ec[e];(!n||n[t.key]!==t)&&xn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),H2(t),delete n[t.key]}function tw(t,e,n,i){let s=Ec[e.name];s||(s={},Ec[e.name]=s);let r=s[t.toURLString()];return r&&xn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new I2(t,X2,n,i),s[t.toURLString()]=r,r}class nw{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(R2(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new mn(this._repo,Ee())),this._rootInternal}_delete(){return this._rootInternal!==null&&(ew(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&xn("Cannot call "+e+" on a deleted database.")}}function iw(t=Ny(),e){const n=Ry(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=Eb("database");i&&sw(n,...i)}return n}function sw(t,e,n,i={}){t=wr(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&xn("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let r;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&xn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new no(no.OWNER);else if(i.mockUserToken){const o=typeof i.mockUserToken=="string"?i.mockUserToken:wb(i.mockUserToken,t.app.options.projectId);r=new no(o)}Z2(s,e,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(t){Yy(Oy),bo(new nr("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return J2(i,s,r,n)},"PUBLIC").setMultipleInstances(!0)),Vi(p0,g0,t),Vi(p0,g0,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function aw(t,e,n){var i;if(t=wr(t),S2("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";const s=(i=void 0)!==null&&i!==void 0?i:!0,r=new Cr,o=(l,c,h)=>{let u=null;l?r.reject(l):(u=new ur(h,new mn(t._repo,t._path),ze),r.resolve(new ow(c,u)))},a=ci(t,()=>{});return z2(t._repo,t._path,e,o,a,s),r.promise}pn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};pn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};rw();const lw={apiKey:"AIzaSyB-tyu979VgferkCAuVQ7ltnE8p4wrwNLo",authDomain:"hydroponic-dfa1c.firebaseapp.com",databaseURL:"https://hydroponic-dfa1c-default-rtdb.europe-west1.firebasedatabase.app",projectId:"hydroponic-dfa1c",storageBucket:"hydroponic-dfa1c.appspot.com",messagingSenderId:"203621293770",appId:"1:203621293770:web:74de0b54d40f625e7d1e33",measurementId:"G-JE5J61YPS4"},cw=Ag(lw),hi=iw(cw);/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Br(t){return t+.5|0}const Fn=(t,e,n)=>Math.max(Math.min(t,n),e);function As(t){return Fn(Br(t*2.55),0,255)}function On(t){return Fn(Br(t*255),0,255)}function cn(t){return Fn(Br(t/2.55)/100,0,1)}function Q0(t){return Fn(Br(t*100),0,100)}const Ft={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},wc=[..."0123456789ABCDEF"],hw=t=>wc[t&15],uw=t=>wc[(t&240)>>4]+wc[t&15],Nr=t=>(t&240)>>4===(t&15),fw=t=>Nr(t.r)&&Nr(t.g)&&Nr(t.b)&&Nr(t.a);function dw(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Ft[t[1]]*17,g:255&Ft[t[2]]*17,b:255&Ft[t[3]]*17,a:e===5?Ft[t[4]]*17:255}:(e===7||e===9)&&(n={r:Ft[t[1]]<<4|Ft[t[2]],g:Ft[t[3]]<<4|Ft[t[4]],b:Ft[t[5]]<<4|Ft[t[6]],a:e===9?Ft[t[7]]<<4|Ft[t[8]]:255})),n}const pw=(t,e)=>t<255?e(t):"";function gw(t){var e=fw(t)?hw:uw;return t?"#"+e(t.r)+e(t.g)+e(t.b)+pw(t.a,e):void 0}const xw=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ox(t,e,n){const i=e*Math.min(n,1-n),s=(r,o=(r+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function _w(t,e,n){const i=(s,r=(s+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function mw(t,e,n){const i=Ox(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)i[s]*=1-e-n,i[s]+=e;return i}function vw(t,e,n,i,s){return t===s?(e-n)/i+(e<n?6:0):e===s?(n-t)/i+2:(t-e)/i+4}function Nh(t){const n=t.r/255,i=t.g/255,s=t.b/255,r=Math.max(n,i,s),o=Math.min(n,i,s),a=(r+o)/2;let l,c,h;return r!==o&&(h=r-o,c=a>.5?h/(2-r-o):h/(r+o),l=vw(n,i,s,h,r),l=l*60+.5),[l|0,c||0,a]}function Lh(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(On)}function Hh(t,e,n){return Lh(Ox,t,e,n)}function bw(t,e,n){return Lh(mw,t,e,n)}function yw(t,e,n){return Lh(_w,t,e,n)}function Nx(t){return(t%360+360)%360}function Cw(t){const e=xw.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?As(+e[5]):On(+e[5]));const s=Nx(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=bw(s,r,o):e[1]==="hsv"?i=yw(s,r,o):i=Hh(s,r,o),{r:i[0],g:i[1],b:i[2],a:n}}function Ew(t,e){var n=Nh(t);n[0]=Nx(n[0]+e),n=Hh(n),t.r=n[0],t.g=n[1],t.b=n[2]}function ww(t){if(!t)return;const e=Nh(t),n=e[0],i=Q0(e[1]),s=Q0(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${s}%, ${cn(t.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const X0={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Z0={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Aw(){const t={},e=Object.keys(Z0),n=Object.keys(X0);let i,s,r,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],s=0;s<n.length;s++)r=n[s],a=a.replace(r,X0[r]);r=parseInt(Z0[o],16),t[a]=[r>>16&255,r>>8&255,r&255]}return t}let Lr;function Sw(t){Lr||(Lr=Aw(),Lr.transparent=[0,0,0,0]);const e=Lr[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Dw=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function kw(t){const e=Dw.exec(t);let n=255,i,s,r;if(e){if(e[7]!==i){const o=+e[7];n=e[8]?As(o):Fn(o*255,0,255)}return i=+e[1],s=+e[3],r=+e[5],i=255&(e[2]?As(i):Fn(i,0,255)),s=255&(e[4]?As(s):Fn(s,0,255)),r=255&(e[6]?As(r):Fn(r,0,255)),{r:i,g:s,b:r,a:n}}}function Bw(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${cn(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Ka=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Fi=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Fw(t,e,n){const i=Fi(cn(t.r)),s=Fi(cn(t.g)),r=Fi(cn(t.b));return{r:On(Ka(i+n*(Fi(cn(e.r))-i))),g:On(Ka(s+n*(Fi(cn(e.g))-s))),b:On(Ka(r+n*(Fi(cn(e.b))-r))),a:t.a+n*(e.a-t.a)}}function Hr(t,e,n){if(t){let i=Nh(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=Hh(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function Lx(t,e){return t&&Object.assign(e||{},t)}function J0(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=On(t[3]))):(e=Lx(t,{r:0,g:0,b:0,a:1}),e.a=On(e.a)),e}function Tw(t){return t.charAt(0)==="r"?kw(t):Cw(t)}class fr{constructor(e){if(e instanceof fr)return e;const n=typeof e;let i;n==="object"?i=J0(e):n==="string"&&(i=dw(e)||Sw(e)||Tw(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=Lx(this._rgb);return e&&(e.a=cn(e.a)),e}set rgb(e){this._rgb=J0(e)}rgbString(){return this._valid?Bw(this._rgb):void 0}hexString(){return this._valid?gw(this._rgb):void 0}hslString(){return this._valid?ww(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,s=e.rgb;let r;const o=n===r?.5:n,a=2*o-1,l=i.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,i.r=255&c*i.r+r*s.r+.5,i.g=255&c*i.g+r*s.g+.5,i.b=255&c*i.b+r*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=Fw(this._rgb,e._rgb,n)),this}clone(){return new fr(this.rgb)}alpha(e){return this._rgb.a=On(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Br(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Hr(this._rgb,2,e),this}darken(e){return Hr(this._rgb,2,-e),this}saturate(e){return Hr(this._rgb,1,e),this}desaturate(e){return Hr(this._rgb,1,-e),this}rotate(e){return Ew(this._rgb,e),this}}/*!
 * Chart.js v4.4.6
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function rn(){}const Iw=(()=>{let t=0;return()=>t++})();function Oe(t){return t===null||typeof t>"u"}function Ge(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ce(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Mt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Gt(t,e){return Mt(t)?t:e}function De(t,e){return typeof t>"u"?e:t}const Rw=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Me(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Se(t,e,n,i){let s,r,o;if(Ge(t))for(r=t.length,s=0;s<r;s++)e.call(n,t[s],s);else if(Ce(t))for(o=Object.keys(t),r=o.length,s=0;s<r;s++)e.call(n,t[o[s]],o[s])}function Ro(t,e){let n,i,s,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(s=t[n],r=e[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function Po(t){if(Ge(t))return t.map(Po);if(Ce(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let s=0;for(;s<i;++s)e[n[s]]=Po(t[n[s]]);return e}return t}function Hx(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Pw(t,e,n,i){if(!Hx(t))return;const s=e[t],r=n[t];Ce(s)&&Ce(r)?dr(s,r,i):e[t]=Po(r)}function dr(t,e,n){const i=Ge(e)?e:[e],s=i.length;if(!Ce(t))return t;n=n||{};const r=n.merger||Pw;let o;for(let a=0;a<s;++a){if(o=i[a],!Ce(o))continue;const l=Object.keys(o);for(let c=0,h=l.length;c<h;++c)r(l[c],t,o,n)}return t}function Ws(t,e){return dr(t,e,{merger:Mw})}function Mw(t,e,n){if(!Hx(t))return;const i=e[t],s=n[t];Ce(i)&&Ce(s)?Ws(i,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Po(s))}const ef={"":t=>t,x:t=>t.x,y:t=>t.y};function Ow(t){const e=t.split("."),n=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function Nw(t){const e=Ow(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function ns(t,e){return(ef[e]||(ef[e]=Nw(e)))(t)}function zh(t){return t.charAt(0).toUpperCase()+t.slice(1)}const pr=t=>typeof t<"u",Vn=t=>typeof t=="function",tf=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function Lw(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ft=Math.PI,Nn=2*ft,Mo=Number.POSITIVE_INFINITY,Hw=ft/180,zt=ft/2,Xn=ft/4,nf=ft*2/3,Ac=Math.log10,Ln=Math.sign;function io(t,e,n){return Math.abs(t-e)<n}function sf(t){const e=Math.round(t);t=io(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Ac(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function zw(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((s,r)=>s-r).pop(),e}function Oo(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Ww(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function Vw(t,e,n){let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function ui(t){return t*(ft/180)}function $w(t){return t*(180/ft)}function rf(t){if(!Mt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Uw(t,e){const n=e.x-t.x,i=e.y-t.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*ft&&(r+=Nn),{angle:r,distance:s}}function jw(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Zn(t){return(t%Nn+Nn)%Nn}function qw(t,e,n,i){const s=Zn(t),r=Zn(e),o=Zn(n),a=Zn(r-s),l=Zn(o-s),c=Zn(s-r),h=Zn(s-o);return s===r||s===o||i&&r===o||a>l&&c<h}function Wt(t,e,n){return Math.max(e,Math.min(n,t))}function Kw(t){return Wt(t,-32768,32767)}function Oi(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function Wh(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const Sc=(t,e,n,i)=>Wh(t,n,i?s=>{const r=t[s][e];return r<n||r===n&&t[s+1][e]===n}:s=>t[s][e]<n),Gw=(t,e,n)=>Wh(t,n,i=>t[i][e]>=n);function Yw(t,e,n){let i=0,s=t.length;for(;i<s&&t[i]<e;)i++;for(;s>i&&t[s-1]>n;)s--;return i>0||s<t.length?t.slice(i,s):t}const zx=["push","pop","shift","splice","unshift"];function Qw(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),zx.forEach(n=>{const i="_onData"+zh(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const o=s.apply(this,r);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...r)}),o}})})}function of(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(zx.forEach(r=>{delete t[r]}),delete t._chartjs)}function Wx(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Vx=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function $x(t,e){let n=[],i=!1;return function(...s){n=s,i||(i=!0,Vx.call(window,()=>{i=!1,t.apply(e,n)}))}}function Xw(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const Vh=t=>t==="start"?"left":t==="end"?"right":"center",ot=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,Zw=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e,zr=t=>t===0||t===1,af=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Nn/n)),lf=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Nn/n)+1,Vs={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*zt)+1,easeOutSine:t=>Math.sin(t*zt),easeInOutSine:t=>-.5*(Math.cos(ft*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>zr(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>zr(t)?t:af(t,.075,.3),easeOutElastic:t=>zr(t)?t:lf(t,.075,.3),easeInOutElastic(t){return zr(t)?t:t<.5?.5*af(t*2,.1125,.45):.5+.5*lf(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Vs.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Vs.easeInBounce(t*2)*.5:Vs.easeOutBounce(t*2-1)*.5+.5};function Ux(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function cf(t){return Ux(t)?t:new fr(t)}function Ga(t){return Ux(t)?t:new fr(t).saturate(.5).darken(.1).hexString()}const Jw=["x","y","borderWidth","radius","tension"],eA=["color","borderColor","backgroundColor"];function tA(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:eA},numbers:{type:"number",properties:Jw}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function nA(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const hf=new Map;function iA(t,e){e=e||{};const n=t+JSON.stringify(e);let i=hf.get(n);return i||(i=new Intl.NumberFormat(t,e),hf.set(n,i)),i}function jx(t,e,n){return iA(e,n).format(t)}const qx={values(t){return Ge(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let s,r=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),r=sA(t,n)}const o=Ac(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),jx(t,i,l)},logarithmic(t,e,n){if(t===0)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(Ac(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?qx.numeric.call(this,t,e,n):""}};function sA(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Kx={formatters:qx};function rA(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Kx.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const yi=Object.create(null),Dc=Object.create(null);function $s(t,e){if(!e)return t;const n=e.split(".");for(let i=0,s=n.length;i<s;++i){const r=n[i];t=t[r]||(t[r]=Object.create(null))}return t}function Ya(t,e,n){return typeof e=="string"?dr($s(t,e),n):dr($s(t,""),e)}class oA{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Ga(s.backgroundColor),this.hoverBorderColor=(i,s)=>Ga(s.borderColor),this.hoverColor=(i,s)=>Ga(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Ya(this,e,n)}get(e){return $s(this,e)}describe(e,n){return Ya(Dc,e,n)}override(e,n){return Ya(yi,e,n)}route(e,n,i,s){const r=$s(this,e),o=$s(this,i),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[s];return Ce(l)?Object.assign({},c,l):De(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var je=new oA({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[tA,nA,rA]);function aA(t){return!t||Oe(t.size)||Oe(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function uf(t,e,n,i,s){let r=e[s];return r||(r=e[s]=t.measureText(s).width,n.push(s)),r>i&&(i=r),i}function Jn(t,e,n){const i=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*i)/i+s}function ff(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function df(t,e,n,i){Gx(t,e,n,i,null)}function Gx(t,e,n,i,s){let r,o,a,l,c,h,u,f;const d=e.pointStyle,p=e.rotation,g=e.radius;let x=(p||0)*Hw;if(d&&typeof d=="object"&&(r=d.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(x),t.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),t.restore();return}if(!(isNaN(g)||g<=0)){switch(t.beginPath(),d){default:s?t.ellipse(n,i,s/2,g,0,0,Nn):t.arc(n,i,g,0,Nn),t.closePath();break;case"triangle":h=s?s/2:g,t.moveTo(n+Math.sin(x)*h,i-Math.cos(x)*g),x+=nf,t.lineTo(n+Math.sin(x)*h,i-Math.cos(x)*g),x+=nf,t.lineTo(n+Math.sin(x)*h,i-Math.cos(x)*g),t.closePath();break;case"rectRounded":c=g*.516,l=g-c,o=Math.cos(x+Xn)*l,u=Math.cos(x+Xn)*(s?s/2-c:l),a=Math.sin(x+Xn)*l,f=Math.sin(x+Xn)*(s?s/2-c:l),t.arc(n-u,i-a,c,x-ft,x-zt),t.arc(n+f,i-o,c,x-zt,x),t.arc(n+u,i+a,c,x,x+zt),t.arc(n-f,i+o,c,x+zt,x+ft),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,h=s?s/2:l,t.rect(n-h,i-l,2*h,2*l);break}x+=Xn;case"rectRot":u=Math.cos(x)*(s?s/2:g),o=Math.cos(x)*g,a=Math.sin(x)*g,f=Math.sin(x)*(s?s/2:g),t.moveTo(n-u,i-a),t.lineTo(n+f,i-o),t.lineTo(n+u,i+a),t.lineTo(n-f,i+o),t.closePath();break;case"crossRot":x+=Xn;case"cross":u=Math.cos(x)*(s?s/2:g),o=Math.cos(x)*g,a=Math.sin(x)*g,f=Math.sin(x)*(s?s/2:g),t.moveTo(n-u,i-a),t.lineTo(n+u,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o);break;case"star":u=Math.cos(x)*(s?s/2:g),o=Math.cos(x)*g,a=Math.sin(x)*g,f=Math.sin(x)*(s?s/2:g),t.moveTo(n-u,i-a),t.lineTo(n+u,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o),x+=Xn,u=Math.cos(x)*(s?s/2:g),o=Math.cos(x)*g,a=Math.sin(x)*g,f=Math.sin(x)*(s?s/2:g),t.moveTo(n-u,i-a),t.lineTo(n+u,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o);break;case"line":o=s?s/2:Math.cos(x)*g,a=Math.sin(x)*g,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(x)*(s?s/2:g),i+Math.sin(x)*g);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Yx(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function $h(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Uh(t){t.restore()}function lA(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Oe(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function cA(t,e,n,i,s){if(s.strikethrough||s.underline){const r=t.measureText(i),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,h=s.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,h),t.lineTo(a,h),t.stroke()}}function hA(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function gr(t,e,n,i,s,r={}){const o=Ge(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(t.save(),t.font=s.string,lA(t,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&hA(t,r.backdrop),a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),Oe(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(c,n,i,r.maxWidth)),t.fillText(c,n,i,r.maxWidth),cA(t,n,i,c,r),i+=Number(s.lineHeight);t.restore()}function No(t,e){const{x:n,y:i,w:s,h:r,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*ft,ft,!0),t.lineTo(n,i+r-o.bottomLeft),t.arc(n+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,ft,zt,!0),t.lineTo(n+s-o.bottomRight,i+r),t.arc(n+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,zt,0,!0),t.lineTo(n+s,i+o.topRight),t.arc(n+s-o.topRight,i+o.topRight,o.topRight,0,-zt,!0),t.lineTo(n+o.topLeft,i)}const uA=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,fA=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function dA(t,e){const n=(""+t).match(uA);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const pA=t=>+t||0;function Qx(t,e){const n={},i=Ce(e),s=i?Object.keys(e):e,r=Ce(t)?i?o=>De(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of s)n[o]=pA(r(o));return n}function Xx(t){return Qx(t,{top:"y",right:"x",bottom:"y",left:"x"})}function qi(t){return Qx(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ot(t){const e=Xx(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ht(t,e){t=t||{},e=e||je.font;let n=De(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=De(t.style,e.style);i&&!(""+i).match(fA)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:De(t.family,e.family),lineHeight:dA(De(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:De(t.weight,e.weight),string:""};return s.string=aA(s),s}function Wr(t,e,n,i){let s,r,o;for(s=0,r=t.length;s<r;++s)if(o=t[s],o!==void 0&&o!==void 0)return o}function gA(t,e,n){const{min:i,max:s}=t,r=Rw(e,(s-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(r)),max:o(s,r)}}function as(t,e){return Object.assign(Object.create(t),e)}function jh(t,e=[""],n,i,s=()=>t[0]){const r=n||t;typeof i>"u"&&(i=t_("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:i,_getTarget:s,override:a=>jh([a,...t],e,r,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return Jx(a,l,()=>EA(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return gf(a).includes(l)},ownKeys(a){return gf(a)},set(a,l,c){const h=a._storage||(a._storage=s());return a[l]=h[l]=c,delete a._keys,!0}})}function is(t,e,n,i){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Zx(t,i),setContext:r=>is(t,r,n,i),override:r=>is(t.override(r),e,n,i)};return new Proxy(s,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,a){return Jx(r,o,()=>_A(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,a){return t[o]=a,delete r[o],!0}})}function Zx(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:i,isScriptable:Vn(n)?n:()=>n,isIndexable:Vn(i)?i:()=>i}}const xA=(t,e)=>t?t+zh(e):e,qh=(t,e)=>Ce(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Jx(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function _A(t,e,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=t;let a=i[e];return Vn(a)&&o.isScriptable(e)&&(a=mA(e,a,t,n)),Ge(a)&&a.length&&(a=vA(e,a,t,o.isIndexable)),qh(e,a)&&(a=is(a,s,r&&r[e],o)),a}function mA(t,e,n,i){const{_proxy:s,_context:r,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(r,o||i);return a.delete(t),qh(t,l)&&(l=Kh(s._scopes,s,t,l)),l}function vA(t,e,n,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&i(t))return e[r.index%e.length];if(Ce(e[0])){const l=e,c=s._scopes.filter(h=>h!==l);e=[];for(const h of l){const u=Kh(c,s,t,h);e.push(is(u,r,o&&o[t],a))}}return e}function e_(t,e,n){return Vn(t)?t(e,n):t}const bA=(t,e)=>t===!0?e:typeof t=="string"?ns(e,t):void 0;function yA(t,e,n,i,s){for(const r of e){const o=bA(n,r);if(o){t.add(o);const a=e_(o._fallback,n,s);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function Kh(t,e,n,i){const s=e._rootScopes,r=e_(e._fallback,n,i),o=[...t,...s],a=new Set;a.add(i);let l=pf(a,o,n,r||n,i);return l===null||typeof r<"u"&&r!==n&&(l=pf(a,o,r,l,i),l===null)?!1:jh(Array.from(a),[""],s,r,()=>CA(e,n,i))}function pf(t,e,n,i,s){for(;n;)n=yA(t,e,n,i,s);return n}function CA(t,e,n){const i=t._getTarget();e in i||(i[e]={});const s=i[e];return Ge(s)&&Ce(n)?n:s||{}}function EA(t,e,n,i){let s;for(const r of e)if(s=t_(xA(r,t),n),typeof s<"u")return qh(t,s)?Kh(n,i,t,s):s}function t_(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function gf(t){let e=t._keys;return e||(e=t._keys=wA(t._scopes)),e}function wA(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}function Gh(){return typeof window<"u"&&typeof document<"u"}function Yh(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Lo(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const pa=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function AA(t,e){return pa(t).getPropertyValue(e)}const SA=["top","right","bottom","left"];function pi(t,e,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=SA[s];i[r]=parseFloat(t[e+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const DA=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function kA(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:s,offsetY:r}=i;let o=!1,a,l;if(DA(s,r,t.target))a=s,l=r;else{const c=e.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function si(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,s=pa(n),r=s.boxSizing==="border-box",o=pi(s,"padding"),a=pi(s,"border","width"),{x:l,y:c,box:h}=kA(t,n),u=o.left+(h&&a.left),f=o.top+(h&&a.top);let{width:d,height:p}=e;return r&&(d-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-u)/d*n.width/i),y:Math.round((c-f)/p*n.height/i)}}function BA(t,e,n){let i,s;if(e===void 0||n===void 0){const r=t&&Yh(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const o=r.getBoundingClientRect(),a=pa(r),l=pi(a,"border","width"),c=pi(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,i=Lo(a.maxWidth,r,"clientWidth"),s=Lo(a.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:i||Mo,maxHeight:s||Mo}}const Vr=t=>Math.round(t*10)/10;function FA(t,e,n,i){const s=pa(t),r=pi(s,"margin"),o=Lo(s.maxWidth,t,"clientWidth")||Mo,a=Lo(s.maxHeight,t,"clientHeight")||Mo,l=BA(t,e,n);let{width:c,height:h}=l;if(s.boxSizing==="content-box"){const f=pi(s,"border","width"),d=pi(s,"padding");c-=d.width+f.width,h-=d.height+f.height}return c=Math.max(0,c-r.width),h=Math.max(0,i?c/i:h-r.height),c=Vr(Math.min(c,o,l.maxWidth)),h=Vr(Math.min(h,a,l.maxHeight)),c&&!h&&(h=Vr(c/2)),(e!==void 0||n!==void 0)&&i&&l.height&&h>l.height&&(h=l.height,c=Vr(Math.floor(h*i))),{width:c,height:h}}function xf(t,e,n){const i=e||1,s=Math.floor(t.height*i),r=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==s||o.width!==r?(t.currentDevicePixelRatio=i,o.height=s,o.width=r,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const TA=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Gh()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function _f(t,e){const n=AA(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const IA=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},RA=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Ki(t,e,n){return t?IA(e,n):RA()}function n_(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function i_(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}/*!
 * Chart.js v4.4.6
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class PA{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,s){const r=n.listeners[s],o=n.duration;r.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Vx.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(s.draw(),this._notify(s,i,e,"progress")),r.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var on=new PA;const mf="transparent",MA={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=cf(t||mf),s=i.valid&&cf(e||mf);return s&&s.valid?s.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class OA{constructor(e,n,i,s){const r=n[i];s=Wr([e.to,s,r,e.from]);const o=Wr([e.from,r,s]);this._active=!0,this._fn=e.fn||MA[e.type||typeof o],this._easing=Vs[e.easing]||Vs.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Wr([e.to,n,s,e.from]),this._from=Wr([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,s=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||n<i),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=r;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(r,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class s_{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Ce(e))return;const n=Object.keys(je.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const r=e[s];if(!Ce(r))return;const o={};for(const a of n)o[a]=r[a];(Ge(r.properties)&&r.properties||[s]).forEach(a=>{(a===s||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,n){const i=n.options,s=LA(e,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&NA(e.options.$animations,i).then(()=>{e.options=i},()=>{}),r}_createAnimations(e,n){const i=this._properties,s=[],r=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(e,n));continue}const h=n[c];let u=r[c];const f=i.get(c);if(u)if(f&&u.active()){u.update(f,h,a);continue}else u.cancel();if(!f||!f.duration){e[c]=h;continue}r[c]=u=new OA(f,e,c,h),s.push(u)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return on.add(this._chart,i),!0}}function NA(t,e){const n=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const r=t[i[s]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function LA(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function vf(t,e){const n=t&&t.options||{},i=n.reverse,s=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:i?r:s,end:i?s:r}}function HA(t,e,n){if(n===!1)return!1;const i=vf(t,n),s=vf(e,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function zA(t){let e,n,i,s;return Ce(t)?(e=t.top,n=t.right,i=t.bottom,s=t.left):e=n=i=s=t,{top:e,right:n,bottom:i,left:s,disabled:t===!1}}function r_(t,e){const n=[],i=t._getSortedDatasetMetas(e);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function bf(t,e,n,i={}){const s=t.keys,r=i.mode==="single";let o,a,l,c;if(e===null)return;let h=!1;for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(h=!0,i.all)continue;break}c=t.values[l],Mt(c)&&(r||e===0||Ln(e)===Ln(c))&&(e+=c)}return!h&&!i.all?0:e}function WA(t,e){const{iScale:n,vScale:i}=e,s=n.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,h;for(l=0,c=o.length;l<c;++l)h=o[l],a[l]={[s]:h,[r]:t[h]};return a}function Qa(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function VA(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function $A(t){const{min:e,max:n,minDefined:i,maxDefined:s}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function UA(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function yf(t,e,n,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const r=t[s.index];if(n&&r>0||!n&&r<0)return s.index}return null}function Cf(t,e){const{chart:n,_cachedMeta:i}=t,s=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=i,l=r.axis,c=o.axis,h=VA(r,o,i),u=e.length;let f;for(let d=0;d<u;++d){const p=e[d],{[l]:g,[c]:x}=p,b=p._stacks||(p._stacks={});f=b[c]=UA(s,h,g),f[a]=x,f._top=yf(f,o,!0,i.type),f._bottom=yf(f,o,!1,i.type);const _=f._visualValues||(f._visualValues={});_[a]=x}}function Xa(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function jA(t,e){return as(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function qA(t,e,n){return as(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function vs(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const s of e){const r=s._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}const Za=t=>t==="reset"||t==="none",Ef=(t,e)=>e?t:Object.assign({},t),KA=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:r_(n,!0),values:null};class Us{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Qa(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&vs(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(u,f,d,p)=>u==="x"?f:u==="r"?p:d,r=n.xAxisID=De(i.xAxisID,Xa(e,"x")),o=n.yAxisID=De(i.yAxisID,Xa(e,"y")),a=n.rAxisID=De(i.rAxisID,Xa(e,"r")),l=n.indexAxis,c=n.iAxisID=s(l,r,o,a),h=n.vAxisID=s(l,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&of(this._data,this),e._stacked&&vs(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(Ce(n)){const s=this._cachedMeta;this._data=WA(n,s)}else if(i!==n){if(i){of(i,this);const s=this._cachedMeta;vs(s),s._parsed=[]}n&&Object.isExtensible(n)&&Qw(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=n._stacked;n._stacked=Qa(n.vScale,n),n.stack!==i.stack&&(s=!0,vs(n),n.stack=i.stack),this._resyncElements(e),(s||r!==n._stacked)&&(Cf(this,n._parsed),n._stacked=Qa(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:o}=i,a=r.axis;let l=e===0&&n===s.length?!0:i._sorted,c=e>0&&i._parsed[e-1],h,u,f;if(this._parsing===!1)i._parsed=s,i._sorted=!0,f=s;else{Ge(s[e])?f=this.parseArrayData(i,s,e,n):Ce(s[e])?f=this.parseObjectData(i,s,e,n):f=this.parsePrimitiveData(i,s,e,n);const d=()=>u[a]===null||c&&u[a]<c[a];for(h=0;h<n;++h)i._parsed[h+e]=u=f[h],l&&(d()&&(l=!1),c=u);i._sorted=l}o&&Cf(this,f)}parsePrimitiveData(e,n,i,s){const{iScale:r,vScale:o}=e,a=r.axis,l=o.axis,c=r.getLabels(),h=r===o,u=new Array(s);let f,d,p;for(f=0,d=s;f<d;++f)p=f+i,u[f]={[a]:h||r.parse(c[p],p),[l]:o.parse(n[p],p)};return u}parseArrayData(e,n,i,s){const{xScale:r,yScale:o}=e,a=new Array(s);let l,c,h,u;for(l=0,c=s;l<c;++l)h=l+i,u=n[h],a[l]={x:r.parse(u[0],h),y:o.parse(u[1],h)};return a}parseObjectData(e,n,i,s){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let h,u,f,d;for(h=0,u=s;h<u;++h)f=h+i,d=n[f],c[h]={x:r.parse(ns(d,a),f),y:o.parse(ns(d,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const s=this.chart,r=this._cachedMeta,o=n[e.axis],a={keys:r_(s,!0),values:n._stacks[e.axis]._visualValues};return bf(a,o,r.index,{mode:i})}updateRangeFromParsed(e,n,i,s){const r=i[n.axis];let o=r===null?NaN:r;const a=s&&i._stacks[n.axis];s&&a&&(s.values=a,o=bf(s,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&e===i.iScale,o=s.length,a=this._getOtherScale(e),l=KA(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:u}=$A(a);let f,d;function p(){d=s[f];const g=d[a.axis];return!Mt(d[e.axis])||h>g||u<g}for(f=0;f<o&&!(!p()&&(this.updateRangeFromParsed(c,e,d,l),r));++f);if(r){for(f=o-1;f>=0;--f)if(!p()){this.updateRangeFromParsed(c,e,d,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let s,r,o;for(s=0,r=n.length;s<r;++s)o=n[s][e.axis],Mt(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,s=n.vScale,r=this.getParsed(e);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=zA(De(this.options.clip,HA(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],r=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,c=this.options.drawActiveElementsOnTop;let h;for(i.dataset&&i.dataset.draw(e,r,a,l),h=a;h<a+l;++h){const u=s[h];u.hidden||(u.active&&c?o.push(u):u.draw(e,r))}for(h=0;h<o.length;++h)o[h].draw(e,r)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const s=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=qA(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=s.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=jA(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const s=n==="active",r=this._cachedDataOpts,o=e+"-"+n,a=r[o],l=this.enableOptionSharing&&pr(i);if(a)return Ef(a,l);const c=this.chart.config,h=c.datasetElementScopeKeys(this._type,e),u=s?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),h),d=Object.keys(je.elements[e]),p=()=>this.getContext(i,s,n),g=c.resolveNamedOptions(f,d,p,u);return g.$shared&&(g.$shared=l,r[o]=Object.freeze(Ef(g,l))),g}_resolveAnimations(e,n,i){const s=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let l;if(s.options.animation!==!1){const h=this.chart.config,u=h.datasetAnimationScopeKeys(this._type,n),f=h.getOptionScopes(this.getDataset(),u);l=h.createResolver(f,this.getContext(e,i,n))}const c=new s_(s,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Za(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),s=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(n,r)||r!==s;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:o}}updateElement(e,n,i,s){Za(s)?Object.assign(e,i):this._resolveAnimations(n,s).update(e,i)}updateSharedOptions(e,n,i){e&&!Za(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,s){e.active=s;const r=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(e,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const s=i.length,r=n.length,o=Math.min(r,s);o&&this.parse(0,o),r>s?this._insertElements(s,r-s,e):r<s&&this._removeElements(r,s-r)}_insertElements(e,n,i=!0){const s=this._cachedMeta,r=s.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,n),i&&this.updateElements(r,e,n,"reset")}updateElements(e,n,i,s){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,n);i._stacked&&vs(i,s)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,s]=e;this[n](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}be(Us,"defaults",{}),be(Us,"datasetElementType",null),be(Us,"dataElementType",null);function GA(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let s=0,r=n.length;s<r;s++)i=i.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=Wx(i.sort((s,r)=>s-r))}return t._cache.$bar}function YA(t){const e=t.iScale,n=GA(e,t.type);let i=e._length,s,r,o,a;const l=()=>{o===32767||o===-32768||(pr(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(s=0,r=n.length;s<r;++s)o=e.getPixelForValue(n[s]),l();for(a=void 0,s=0,r=e.ticks.length;s<r;++s)o=e.getPixelForTick(s),l();return i}function QA(t,e,n,i){const s=n.barThickness;let r,o;return Oe(s)?(r=e.min*n.categoryPercentage,o=n.barPercentage):(r=s*i,o=1),{chunk:r/i,ratio:o,start:e.pixels[t]-r/2}}function XA(t,e,n,i){const s=e.pixels,r=s[t];let o=t>0?s[t-1]:null,a=t<s.length-1?s[t+1]:null;const l=n.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}function ZA(t,e,n,i){const s=n.parse(t[0],i),r=n.parse(t[1],i),o=Math.min(s,r),a=Math.max(s,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:s,end:r,min:o,max:a}}function o_(t,e,n,i){return Ge(t)?ZA(t,e,n,i):e[n.axis]=n.parse(t,i),e}function wf(t,e,n,i){const s=t.iScale,r=t.vScale,o=s.getLabels(),a=s===r,l=[];let c,h,u,f;for(c=n,h=n+i;c<h;++c)f=e[c],u={},u[s.axis]=a||s.parse(o[c],c),l.push(o_(f,u,r,c));return l}function Ja(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function JA(t,e,n){return t!==0?Ln(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function eS(t){let e,n,i,s,r;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(s="end",r="start"):(s="start",r="end"),{start:n,end:i,reverse:e,top:s,bottom:r}}function tS(t,e,n,i){let s=e.borderSkipped;const r={};if(!s){t.borderSkipped=r;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:h}=eS(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?s=c:(n._bottom||0)===i?s=h:(r[Af(h,o,a,l)]=!0,s=c)),r[Af(s,o,a,l)]=!0,t.borderSkipped=r}function Af(t,e,n,i){return i?(t=nS(t,e,n),t=Sf(t,n,e)):t=Sf(t,e,n),t}function nS(t,e,n){return t===e?n:t===n?e:t}function Sf(t,e,n){return t==="start"?e:t==="end"?n:t}function iS(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class so extends Us{parsePrimitiveData(e,n,i,s){return wf(e,n,i,s)}parseArrayData(e,n,i,s){return wf(e,n,i,s)}parseObjectData(e,n,i,s){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,h=o.axis==="x"?a:l,u=[];let f,d,p,g;for(f=i,d=i+s;f<d;++f)g=n[f],p={},p[r.axis]=r.parse(ns(g,c),f),u.push(o_(ns(g,h),p,o,f));return u}updateRangeFromParsed(e,n,i,s){super.updateRangeFromParsed(e,n,i,s);const r=i._custom;r&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:s}=n,r=this.getParsed(e),o=r._custom,a=Ja(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,s){const r=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),h=this._getRuler(),{sharedOptions:u,includeOptions:f}=this._getSharedOptions(n,s);for(let d=n;d<n+i;d++){const p=this.getParsed(d),g=r||Oe(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(d),x=this._calculateBarIndexPixels(d,h),b=(p._stacks||{})[a.axis],_={horizontal:c,base:g.base,enableBorderRadius:!b||Ja(p._custom)||o===b._top||o===b._bottom,x:c?g.head:x.center,y:c?x.center:g.head,height:c?x.size:Math.abs(g.size),width:c?Math.abs(g.size):x.size};f&&(_.options=u||this.resolveDataElementOptions(d,e[d].active?"active":s));const m=_.options||e[d].options;tS(_,m,b,o),iS(_,m,h.ratio),this.updateElement(e[d],d,_,s)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),r=i.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[i.axis],c=h=>{const u=h._parsed.find(d=>d[i.axis]===l),f=u&&u[h.vScale.axis];if(Oe(f)||isNaN(f))return!0};for(const h of s)if(!(n!==void 0&&c(h))&&((r===!1||o.indexOf(h.stack)===-1||r===void 0&&h.stack===void 0)&&o.push(h.stack),h.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,i){const s=this._getStacks(e,i),r=n!==void 0?s.indexOf(n):-1;return r===-1?s.length-1:r}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,s=[];let r,o;for(r=0,o=n.data.length;r<o;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const a=e.barThickness;return{min:a||YA(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(e),c=l._custom,h=Ja(c);let u=l[n.axis],f=0,d=i?this.applyStack(n,l,i):u,p,g;d!==u&&(f=d-u,d=u),h&&(u=c.barStart,d=c.barEnd-c.barStart,u!==0&&Ln(u)!==Ln(c.barEnd)&&(f=0),f+=u);const x=!Oe(r)&&!h?r:f;let b=n.getPixelForValue(x);if(this.chart.getDataVisibility(e)?p=n.getPixelForValue(f+d):p=b,g=p-b,Math.abs(g)<o){g=JA(g,n,a)*o,u===a&&(b-=g/2);const _=n.getPixelForDecimal(0),m=n.getPixelForDecimal(1),v=Math.min(_,m),C=Math.max(_,m);b=Math.max(Math.min(b,C),v),p=b+g,i&&!h&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(p)-n.getValueForPixel(b))}if(b===n.getPixelForValue(a)){const _=Ln(g)*n.getLineWidthForValue(a)/2;b+=_,g-=_}return{size:g,base:b,head:p,center:p+g/2}}_calculateBarIndexPixels(e,n){const i=n.scale,s=this.options,r=s.skipNull,o=De(s.maxBarThickness,1/0);let a,l;if(n.grouped){const c=r?this._getStackCount(e):n.stackCount,h=s.barThickness==="flex"?XA(e,n,s,c):QA(e,n,s,c),u=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);a=h.start+h.chunk*u+h.chunk/2,l=Math.min(o,h.chunk*h.ratio)}else a=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[n.axis]!==null&&!i[r].hidden&&i[r].draw(this._ctx)}}be(so,"id","bar"),be(so,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),be(so,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function ei(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Qh{constructor(e){be(this,"options");this.options=e||{}}static override(e){Object.assign(Qh.prototype,e)}init(){}formats(){return ei()}parse(){return ei()}format(){return ei()}add(){return ei()}diff(){return ei()}startOf(){return ei()}endOf(){return ei()}}var sS={_date:Qh};function rS(t,e,n,i){const{controller:s,data:r,_sorted:o}=t,a=s._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const l=a._reversePixels?Gw:Sc;if(i){if(s._sharedOptions){const c=r[0],h=typeof c.getRange=="function"&&c.getRange(e);if(h){const u=l(r,e,n-h),f=l(r,e,n+h);return{lo:u.lo,hi:f.hi}}}}else return l(r,e,n)}return{lo:0,hi:r.length-1}}function Fr(t,e,n,i,s){const r=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=r.length;a<l;++a){const{index:c,data:h}=r[a],{lo:u,hi:f}=rS(r[a],e,o,s);for(let d=u;d<=f;++d){const p=h[d];p.skip||i(p,c,d)}}}function oS(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,s){const r=e?Math.abs(i.x-s.x):0,o=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function el(t,e,n,i,s){const r=[];return!s&&!t.isPointInArea(e)||Fr(t,n,e,function(a,l,c){!s&&!Yx(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function aS(t,e,n,i){let s=[];function r(o,a,l){const{startAngle:c,endAngle:h}=o.getProps(["startAngle","endAngle"],i),{angle:u}=Uw(o,{x:e.x,y:e.y});qw(u,c,h)&&s.push({element:o,datasetIndex:a,index:l})}return Fr(t,n,e,r),s}function lS(t,e,n,i,s,r){let o=[];const a=oS(n);let l=Number.POSITIVE_INFINITY;function c(h,u,f){const d=h.inRange(e.x,e.y,s);if(i&&!d)return;const p=h.getCenterPoint(s);if(!(!!r||t.isPointInArea(p))&&!d)return;const x=a(e,p);x<l?(o=[{element:h,datasetIndex:u,index:f}],l=x):x===l&&o.push({element:h,datasetIndex:u,index:f})}return Fr(t,n,e,c),o}function tl(t,e,n,i,s,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!i?aS(t,e,n,s):lS(t,e,n,i,s,r)}function Df(t,e,n,i,s){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Fr(t,n,e,(l,c,h)=>{l[o]&&l[o](e[n],s)&&(r.push({element:l,datasetIndex:c,index:h}),a=a||l.inRange(e.x,e.y,s))}),i&&!a?[]:r}var cS={evaluateInteractionItems:Fr,modes:{index(t,e,n,i){const s=si(e,t),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?el(t,s,r,i,o):tl(t,s,r,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const h=a[0].index,u=c.data[h];u&&!u.skip&&l.push({element:u,datasetIndex:c.index,index:h})}),l):[]},dataset(t,e,n,i){const s=si(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?el(t,s,r,i,o):tl(t,s,r,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let h=0;h<c.length;++h)a.push({element:c[h],datasetIndex:l,index:h})}return a},point(t,e,n,i){const s=si(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return el(t,s,r,i,o)},nearest(t,e,n,i){const s=si(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return tl(t,s,r,n.intersect,i,o)},x(t,e,n,i){const s=si(e,t);return Df(t,s,"x",n.intersect,i)},y(t,e,n,i){const s=si(e,t);return Df(t,s,"y",n.intersect,i)}}};const a_=["left","top","right","bottom"];function bs(t,e){return t.filter(n=>n.pos===e)}function kf(t,e){return t.filter(n=>a_.indexOf(n.pos)===-1&&n.box.axis===e)}function ys(t,e){return t.sort((n,i)=>{const s=e?i:n,r=e?n:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function hS(t){const e=[];let n,i,s,r,o,a;for(n=0,i=(t||[]).length;n<i;++n)s=t[n],{position:r,options:{stack:o,stackWeight:a=1}}=s,e.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:a});return e}function uS(t){const e={};for(const n of t){const{stack:i,pos:s,stackWeight:r}=n;if(!i||!a_.includes(s))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function fS(t,e){const n=uS(t),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:l}=a.box,c=n[a.stack],h=c&&a.stackWeight/c.weight;a.horizontal?(a.width=h?h*i:l&&e.availableWidth,a.height=s):(a.width=i,a.height=h?h*s:l&&e.availableHeight)}return n}function dS(t){const e=hS(t),n=ys(e.filter(c=>c.box.fullSize),!0),i=ys(bs(e,"left"),!0),s=ys(bs(e,"right")),r=ys(bs(e,"top"),!0),o=ys(bs(e,"bottom")),a=kf(e,"x"),l=kf(e,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:bs(e,"chartArea"),vertical:i.concat(s).concat(l),horizontal:r.concat(o).concat(a)}}function Bf(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function l_(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function pS(t,e,n,i){const{pos:s,box:r}=n,o=t.maxPadding;if(!Ce(s)){n.size&&(t[s]-=n.size);const u=i[n.stack]||{size:0,count:1};u.size=Math.max(u.size,n.horizontal?r.height:r.width),n.size=u.size/u.count,t[s]+=n.size}r.getPadding&&l_(o,r.getPadding());const a=Math.max(0,e.outerWidth-Bf(o,t,"left","right")),l=Math.max(0,e.outerHeight-Bf(o,t,"top","bottom")),c=a!==t.w,h=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:h}:{same:h,other:c}}function gS(t){const e=t.maxPadding;function n(i){const s=Math.max(e[i]-t[i],0);return t[i]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function xS(t,e){const n=e.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(e[o],n[o])}),r}return i(t?["left","right"]:["top","bottom"])}function Ss(t,e,n,i){const s=[];let r,o,a,l,c,h;for(r=0,o=t.length,c=0;r<o;++r){a=t[r],l=a.box,l.update(a.width||e.w,a.height||e.h,xS(a.horizontal,e));const{same:u,other:f}=pS(e,n,a,i);c|=u&&s.length,h=h||f,l.fullSize||s.push(a)}return c&&Ss(s,e,n,i)||h}function $r(t,e,n,i,s){t.top=n,t.left=e,t.right=e+i,t.bottom=n+s,t.width=i,t.height=s}function Ff(t,e,n,i){const s=n.padding;let{x:r,y:o}=e;for(const a of t){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},h=a.stackWeight/c.weight||1;if(a.horizontal){const u=e.w*h,f=c.size||l.height;pr(c.start)&&(o=c.start),l.fullSize?$r(l,s.left,o,n.outerWidth-s.right-s.left,f):$r(l,e.left+c.placed,o,u,f),c.start=o,c.placed+=u,o=l.bottom}else{const u=e.h*h,f=c.size||l.width;pr(c.start)&&(r=c.start),l.fullSize?$r(l,r,s.top,f,n.outerHeight-s.bottom-s.top):$r(l,r,e.top+c.placed,f,u),c.start=r,c.placed+=u,r=l.right}}e.x=r,e.y=o}var It={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const s=Ot(t.options.layout.padding),r=Math.max(e-s.width,0),o=Math.max(n-s.height,0),a=dS(t.boxes),l=a.vertical,c=a.horizontal;Se(t.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const h=l.reduce((g,x)=>x.box.options&&x.box.options.display===!1?g:g+1,0)||1,u=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/h,hBoxMaxHeight:o/2}),f=Object.assign({},s);l_(f,Ot(i));const d=Object.assign({maxPadding:f,w:r,h:o,x:s.left,y:s.top},s),p=fS(l.concat(c),u);Ss(a.fullSize,d,u,p),Ss(l,d,u,p),Ss(c,d,u,p)&&Ss(l,d,u,p),gS(d),Ff(a.leftAndTop,d,u,p),d.x+=d.w,d.y+=d.h,Ff(a.rightAndBottom,d,u,p),t.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},Se(a.chartArea,g=>{const x=g.box;Object.assign(x,t.chartArea),x.update(d.w,d.h,{left:0,top:0,right:0,bottom:0})})}};class c_{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,s){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(e){return!0}updateConfig(e){}}class _S extends c_{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ro="$chartjs",mS={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Tf=t=>t===null||t==="";function vS(t,e){const n=t.style,i=t.getAttribute("height"),s=t.getAttribute("width");if(t[ro]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Tf(s)){const r=_f(t,"width");r!==void 0&&(t.width=r)}if(Tf(i))if(t.style.height==="")t.height=t.width/(e||2);else{const r=_f(t,"height");r!==void 0&&(t.height=r)}return t}const h_=TA?{passive:!0}:!1;function bS(t,e,n){t&&t.addEventListener(e,n,h_)}function yS(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,h_)}function CS(t,e){const n=mS[t.type]||t.type,{x:i,y:s}=si(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Ho(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function ES(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Ho(a.addedNodes,i),o=o&&!Ho(a.removedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function wS(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Ho(a.removedNodes,i),o=o&&!Ho(a.addedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const xr=new Map;let If=0;function u_(){const t=window.devicePixelRatio;t!==If&&(If=t,xr.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function AS(t,e){xr.size||window.addEventListener("resize",u_),xr.set(t,e)}function SS(t){xr.delete(t),xr.size||window.removeEventListener("resize",u_)}function DS(t,e,n){const i=t.canvas,s=i&&Yh(i);if(!s)return;const r=$x((a,l)=>{const c=s.clientWidth;n(a,l),c<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,h=l.contentRect.height;c===0&&h===0||r(c,h)});return o.observe(s),AS(t,r),o}function nl(t,e,n){n&&n.disconnect(),e==="resize"&&SS(t)}function kS(t,e,n){const i=t.canvas,s=$x(r=>{t.ctx!==null&&n(CS(r,t))},t);return bS(i,e,s),s}class BS extends c_{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(vS(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[ro])return!1;const i=n[ro].initial;["height","width"].forEach(r=>{const o=i[r];Oe(o)?n.removeAttribute(r):n.setAttribute(r,o)});const s=i.style||{};return Object.keys(s).forEach(r=>{n.style[r]=s[r]}),n.width=n.width,delete n[ro],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),o={attach:ES,detach:wS,resize:DS}[n]||kS;s[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),s=i[n];if(!s)return;({attach:nl,detach:nl,resize:nl}[n]||yS)(e,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,s){return FA(e,n,i,s)}isAttached(e){const n=e&&Yh(e);return!!(n&&n.isConnected)}}function FS(t){return!Gh()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?_S:BS}var Qr;let ls=(Qr=class{constructor(){be(this,"x");be(this,"y");be(this,"active",!1);be(this,"options");be(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return Oo(this.x)&&Oo(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const s={};return e.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}},be(Qr,"defaults",{}),be(Qr,"defaultRoutes"),Qr);function TS(t,e){const n=t.options.ticks,i=IS(t),s=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?PS(e):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>s)return MS(e,c,r,o/s),c;const h=RS(r,e,s);if(o>0){let u,f;const d=o>1?Math.round((l-a)/(o-1)):null;for(Ur(e,c,h,Oe(d)?0:a-d,a),u=0,f=o-1;u<f;u++)Ur(e,c,h,r[u],r[u+1]);return Ur(e,c,h,l,Oe(d)?e.length:l+d),c}return Ur(e,c,h),c}function IS(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(i,s))}function RS(t,e,n){const i=OS(t),s=e.length/n;if(!i)return Math.max(s,1);const r=zw(i);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>s)return l}return Math.max(s,1)}function PS(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function MS(t,e,n,i){let s=0,r=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===r&&(e.push(t[o]),s++,r=n[s*i])}function Ur(t,e,n,i,s){const r=De(i,0),o=Math.min(De(s,t.length),t.length);let a=0,l,c,h;for(n=Math.ceil(n),s&&(l=s-i,n=l/Math.floor(l/n)),h=r;h<0;)a++,h=Math.round(r+a*n);for(c=Math.max(r,0);c<o;c++)c===h&&(e.push(t[c]),a++,h=Math.round(r+a*n))}function OS(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const NS=t=>t==="left"?"right":t==="right"?"left":t,Rf=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Pf=(t,e)=>Math.min(e||t,t);function Mf(t,e){const n=[],i=t.length/e,s=t.length;let r=0;for(;r<s;r+=i)n.push(t[Math.floor(r)]);return n}function LS(t,e,n){const i=t.ticks.length,s=Math.min(e,i-1),r=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(s),c;if(!(n&&(i===1?c=Math.max(l-r,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(s-1))/2,l+=s<e?c:-c,l<r-a||l>o+a)))return l}function HS(t,e){Se(t,n=>{const i=n.gc,s=i.length/2;let r;if(s>e){for(r=0;r<s;++r)delete n.data[i[r]];i.splice(0,s)}})}function Cs(t){return t.drawTicks?t.tickLength:0}function Of(t,e){if(!t.display)return 0;const n=ht(t.font,e),i=Ot(t.padding);return(Ge(t.text)?t.text.length:1)*n.lineHeight+i.height}function zS(t,e){return as(t,{scale:e,type:"scale"})}function WS(t,e,n){return as(t,{tick:n,index:e,type:"tick"})}function VS(t,e,n){let i=Vh(t);return(n&&e!=="right"||!n&&e==="right")&&(i=NS(i)),i}function $S(t,e,n,i){const{top:s,left:r,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:h}=l;let u=0,f,d,p;const g=o-s,x=a-r;if(t.isHorizontal()){if(d=ot(i,r,a),Ce(n)){const b=Object.keys(n)[0],_=n[b];p=h[b].getPixelForValue(_)+g-e}else n==="center"?p=(c.bottom+c.top)/2+g-e:p=Rf(t,n,e);f=a-r}else{if(Ce(n)){const b=Object.keys(n)[0],_=n[b];d=h[b].getPixelForValue(_)-x+e}else n==="center"?d=(c.left+c.right)/2-x+e:d=Rf(t,n,e);p=ot(i,o,s),u=n==="left"?-zt:zt}return{titleX:d,titleY:p,maxWidth:f,rotation:u}}class cs extends ls{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return e=Gt(e,Number.POSITIVE_INFINITY),n=Gt(n,Number.NEGATIVE_INFINITY),i=Gt(i,Number.POSITIVE_INFINITY),s=Gt(s,Number.NEGATIVE_INFINITY),{min:Gt(e,i),max:Gt(n,s),minDefined:Mt(e),maxDefined:Mt(n)}}getMinMax(e){let{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),o;if(s&&r)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),s||(n=Math.min(n,o.min)),r||(i=Math.max(i,o.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:Gt(n,Gt(i,n)),max:Gt(i,Gt(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Me(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:s,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=gA(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Mf(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=TS(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Me(this.options.afterUpdate,[this])}beforeSetDimensions(){Me(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Me(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Me(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Me(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i],r.label=Me(n.callback,[r.value,i,e],this)}afterTickToLabelConversion(){Me(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Me(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=Pf(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,r=n.maxRotation;let o=s,a,l,c;if(!this._isVisible()||!n.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const h=this._getLabelSizes(),u=h.widest.width,f=h.highest.height,d=Wt(this.chart.width-u,0,this.maxWidth);a=e.offset?this.maxWidth/i:d/(i-1),u+6>a&&(a=d/(i-(e.offset?.5:1)),l=this.maxHeight-Cs(e.grid)-n.padding-Of(e.title,this.chart.options.font),c=Math.sqrt(u*u+f*f),o=$w(Math.min(Math.asin(Wt((h.highest.height+6)/a,-1,1)),Math.asin(Wt(l/c,-1,1))-Math.asin(Wt(f/c,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){Me(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Me(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Of(s,n.options.font);if(a?(e.width=this.maxWidth,e.height=Cs(r)+l):(e.height=this.maxHeight,e.width=Cs(r)+l),i.display&&this.ticks.length){const{first:c,last:h,widest:u,highest:f}=this._getLabelSizes(),d=i.padding*2,p=ui(this.labelRotation),g=Math.cos(p),x=Math.sin(p);if(a){const b=i.mirror?0:x*u.width+g*f.height;e.height=Math.min(this.maxHeight,e.height+b+d)}else{const b=i.mirror?0:g*u.width+x*f.height;e.width=Math.min(this.maxWidth,e.width+b+d)}this._calculatePadding(c,h,x,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,s){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,d=0;l?c?(f=s*e.width,d=i*n.height):(f=i*e.height,d=s*n.width):r==="start"?d=n.width:r==="end"?f=e.width:r!=="inner"&&(f=e.width/2,d=n.width/2),this.paddingLeft=Math.max((f-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((d-u+o)*this.width/(this.width-u),0)}else{let h=n.height/2,u=e.height/2;r==="start"?(h=0,u=e.height):r==="end"&&(h=n.height,u=0),this.paddingTop=h+o,this.paddingBottom=u+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Me(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)Oe(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=Mf(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:s,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(n/Pf(n,i));let c=0,h=0,u,f,d,p,g,x,b,_,m,v,C;for(u=0;u<n;u+=l){if(p=e[u].label,g=this._resolveTickFontOptions(u),s.font=x=g.string,b=r[x]=r[x]||{data:{},gc:[]},_=g.lineHeight,m=v=0,!Oe(p)&&!Ge(p))m=uf(s,b.data,b.gc,m,p),v=_;else if(Ge(p))for(f=0,d=p.length;f<d;++f)C=p[f],!Oe(C)&&!Ge(C)&&(m=uf(s,b.data,b.gc,m,C),v+=_);o.push(m),a.push(v),c=Math.max(m,c),h=Math.max(v,h)}HS(r,n);const A=o.indexOf(c),B=a.indexOf(h),F=D=>({width:o[D]||0,height:a[D]||0});return{first:F(0),last:F(n-1),widest:F(A),highest:F(B),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Kw(this._alignToPixels?Jn(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=WS(this.getContext(),e,i))}return this.$context||(this.$context=zS(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=ui(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*i>a*s?a/i:l/s:l*s<a*i?l/i:a/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,s=this.options,{grid:r,position:o,border:a}=s,l=r.offset,c=this.isHorizontal(),u=this.ticks.length+(l?1:0),f=Cs(r),d=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,x=g/2,b=function(G){return Jn(i,G,g)};let _,m,v,C,A,B,F,D,E,S,k,T;if(o==="top")_=b(this.bottom),B=this.bottom-f,D=_-x,S=b(e.top)+x,T=e.bottom;else if(o==="bottom")_=b(this.top),S=e.top,T=b(e.bottom)-x,B=_+x,D=this.top+f;else if(o==="left")_=b(this.right),A=this.right-f,F=_-x,E=b(e.left)+x,k=e.right;else if(o==="right")_=b(this.left),E=e.left,k=b(e.right)-x,A=_+x,F=this.left+f;else if(n==="x"){if(o==="center")_=b((e.top+e.bottom)/2+.5);else if(Ce(o)){const G=Object.keys(o)[0],Z=o[G];_=b(this.chart.scales[G].getPixelForValue(Z))}S=e.top,T=e.bottom,B=_+x,D=B+f}else if(n==="y"){if(o==="center")_=b((e.left+e.right)/2);else if(Ce(o)){const G=Object.keys(o)[0],Z=o[G];_=b(this.chart.scales[G].getPixelForValue(Z))}A=_-x,F=A-f,E=e.left,k=e.right}const U=De(s.ticks.maxTicksLimit,u),K=Math.max(1,Math.ceil(u/U));for(m=0;m<u;m+=K){const G=this.getContext(m),Z=r.setContext(G),J=a.setContext(G),he=Z.lineWidth,le=Z.color,P=J.dash||[],O=J.dashOffset,L=Z.tickWidth,N=Z.tickColor,xe=Z.tickBorderDash||[],oe=Z.tickBorderDashOffset;v=LS(this,m,l),v!==void 0&&(C=Jn(i,v,he),c?A=F=E=k=C:B=D=S=T=C,d.push({tx1:A,ty1:B,tx2:F,ty2:D,x1:E,y1:S,x2:k,y2:T,width:he,color:le,borderDash:P,borderDashOffset:O,tickWidth:L,tickColor:N,tickBorderDash:xe,tickBorderDashOffset:oe}))}return this._ticksLength=u,this._borderValue=_,d}_computeLabelItems(e){const n=this.axis,i=this.options,{position:s,ticks:r}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:h,mirror:u}=r,f=Cs(i.grid),d=f+h,p=u?-h:d,g=-ui(this.labelRotation),x=[];let b,_,m,v,C,A,B,F,D,E,S,k,T="middle";if(s==="top")A=this.bottom-p,B=this._getXAxisLabelAlignment();else if(s==="bottom")A=this.top+p,B=this._getXAxisLabelAlignment();else if(s==="left"){const K=this._getYAxisLabelAlignment(f);B=K.textAlign,C=K.x}else if(s==="right"){const K=this._getYAxisLabelAlignment(f);B=K.textAlign,C=K.x}else if(n==="x"){if(s==="center")A=(e.top+e.bottom)/2+d;else if(Ce(s)){const K=Object.keys(s)[0],G=s[K];A=this.chart.scales[K].getPixelForValue(G)+d}B=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")C=(e.left+e.right)/2-d;else if(Ce(s)){const K=Object.keys(s)[0],G=s[K];C=this.chart.scales[K].getPixelForValue(G)}B=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?T="top":l==="end"&&(T="bottom"));const U=this._getLabelSizes();for(b=0,_=a.length;b<_;++b){m=a[b],v=m.label;const K=r.setContext(this.getContext(b));F=this.getPixelForTick(b)+r.labelOffset,D=this._resolveTickFontOptions(b),E=D.lineHeight,S=Ge(v)?v.length:1;const G=S/2,Z=K.color,J=K.textStrokeColor,he=K.textStrokeWidth;let le=B;o?(C=F,B==="inner"&&(b===_-1?le=this.options.reverse?"left":"right":b===0?le=this.options.reverse?"right":"left":le="center"),s==="top"?c==="near"||g!==0?k=-S*E+E/2:c==="center"?k=-U.highest.height/2-G*E+E:k=-U.highest.height+E/2:c==="near"||g!==0?k=E/2:c==="center"?k=U.highest.height/2-G*E:k=U.highest.height-S*E,u&&(k*=-1),g!==0&&!K.showLabelBackdrop&&(C+=E/2*Math.sin(g))):(A=F,k=(1-S)*E/2);let P;if(K.showLabelBackdrop){const O=Ot(K.backdropPadding),L=U.heights[b],N=U.widths[b];let xe=k-O.top,oe=0-O.left;switch(T){case"middle":xe-=L/2;break;case"bottom":xe-=L;break}switch(B){case"center":oe-=N/2;break;case"right":oe-=N;break;case"inner":b===_-1?oe-=N:b>0&&(oe-=N/2);break}P={left:oe,top:xe,width:N+O.width,height:L+O.height,color:K.backdropColor}}x.push({label:v,font:D,textOffset:k,options:{rotation:g,color:Z,strokeColor:J,strokeWidth:he,textAlign:le,textBaseline:T,translation:[C,A],backdrop:P}})}return x}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-ui(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,l=o.widest.width;let c,h;return n==="left"?s?(h=this.right+r,i==="near"?c="left":i==="center"?(c="center",h+=l/2):(c="right",h+=l)):(h=this.right-a,i==="near"?c="right":i==="center"?(c="center",h-=l/2):(c="left",h=this.left)):n==="right"?s?(h=this.left+r,i==="near"?c="right":i==="center"?(c="center",h-=l/2):(c="left",h-=l)):(h=this.left+a,i==="near"?c="left":i==="center"?(c="center",h+=l/2):(c="right",h=this.right)):c="right",{textAlign:c,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:s,width:r,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,s,r,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(r=>r.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(l,c,h)=>{!h.width||!h.color||(i.save(),i.lineWidth=h.width,i.strokeStyle=h.color,i.setLineDash(h.borderDash||[]),i.lineDashOffset=h.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(r=0,o=s.length;r<o;++r){const l=s[r];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,h,u,f;this.isHorizontal()?(c=Jn(e,this.left,o)-o/2,h=Jn(e,this.right,a)+a/2,u=f=l):(u=Jn(e,this.top,o)-o/2,f=Jn(e,this.bottom,a)+a/2,c=h=l),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(c,u),n.lineTo(h,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&$h(i,s);const r=this.getLabelItems(e);for(const o of r){const a=o.options,l=o.font,c=o.label,h=o.textOffset;gr(i,c,0,h,l,a)}s&&Uh(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const r=ht(i.font),o=Ot(i.padding),a=i.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||Ce(n)?(l+=o.bottom,Ge(i.text)&&(l+=r.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:h,maxWidth:u,rotation:f}=$S(this,l,n,a);gr(e,i.text,0,0,r,{color:i.color,maxWidth:u,rotation:f,textAlign:VS(a,n,s),textBaseline:"middle",translation:[c,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=De(e.grid&&e.grid.z,-1),s=De(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==cs.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[i]===this.id&&(!e||a.type===e)&&s.push(a)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return ht(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class jr{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;qS(n)&&(i=this.register(n));const s=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in s||(s[r]=e,US(e,o,i),this.override&&je.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,s=this.scope;i in n&&delete n[i],s&&i in je[s]&&(delete je[s][i],this.override&&delete yi[i])}}function US(t,e,n){const i=dr(Object.create(null),[n?je.get(n):{},je.get(e),t.defaults]);je.set(e,i),t.defaultRoutes&&jS(e,t.defaultRoutes),t.descriptors&&je.describe(e,t.descriptors)}function jS(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),s=i.pop(),r=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");je.route(r,s,l,a)})}function qS(t){return"id"in t&&"defaults"in t}class KS{constructor(){this.controllers=new jr(Us,"datasets",!0),this.elements=new jr(ls,"elements"),this.plugins=new jr(Object,"plugins"),this.scales=new jr(cs,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(e,r,s):Se(s,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,i){const s=zh(e);Me(i["before"+s],[],i),n[e](i),Me(i["after"+s],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var Xt=new KS;class GS{constructor(){this._init=[]}notify(e,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(r,e,n,i);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,i,s){s=s||{};for(const r of e){const o=r.plugin,a=o[i],l=[n,s,r.options];if(Me(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){Oe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,s=De(i.options&&i.options.plugins,{}),r=YS(i);return s===!1&&!n?[]:XS(e,r,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,s=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,i),e,"stop"),this._notify(s(i,n),e,"start")}}function YS(t){const e={},n=[],i=Object.keys(Xt.plugins.items);for(let r=0;r<i.length;r++)n.push(Xt.getPlugin(i[r]));const s=t.plugins||[];for(let r=0;r<s.length;r++){const o=s[r];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function QS(t,e){return!e&&t===!1?null:t===!0?{}:t}function XS(t,{plugins:e,localIds:n},i,s){const r=[],o=t.getContext();for(const a of e){const l=a.id,c=QS(i[l],s);c!==null&&r.push({plugin:a,options:ZS(t.config,{plugin:a,local:n[l]},c,o)})}return r}function ZS(t,{plugin:e,local:n},i,s){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(i,r);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function kc(t,e){const n=je.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function JS(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function e4(t,e){return t===e?"_index_":"_value_"}function Nf(t){if(t==="x"||t==="y"||t==="r")return t}function t4(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Bc(t,...e){if(Nf(t))return t;for(const n of e){const i=n.axis||t4(n.position)||t.length>1&&Nf(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Lf(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function n4(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return Lf(t,"x",n[0])||Lf(t,"y",n[0])}return{}}function i4(t,e){const n=yi[t.type]||{scales:{}},i=e.scales||{},s=kc(t.type,e),r=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!Ce(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Bc(o,a,n4(o,t),je.scales[a.type]),c=e4(l,s),h=n.scales||{};r[o]=Ws(Object.create(null),[{axis:l},a,h[l],h[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||kc(a,e),h=(yi[a]||{}).scales||{};Object.keys(h).forEach(u=>{const f=JS(u,l),d=o[f+"AxisID"]||f;r[d]=r[d]||Object.create(null),Ws(r[d],[{axis:f},i[d],h[u]])})}),Object.keys(r).forEach(o=>{const a=r[o];Ws(a,[je.scales[a.type],je.scale])}),r}function f_(t){const e=t.options||(t.options={});e.plugins=De(e.plugins,{}),e.scales=i4(t,e)}function d_(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function s4(t){return t=t||{},t.data=d_(t.data),f_(t),t}const Hf=new Map,p_=new Set;function qr(t,e){let n=Hf.get(t);return n||(n=e(),Hf.set(t,n),p_.add(n)),n}const Es=(t,e,n)=>{const i=ns(e,n);i!==void 0&&t.add(i)};class r4{constructor(e){this._config=s4(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=d_(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),f_(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return qr(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return qr(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return qr(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return qr(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let s=i.get(e);return(!s||n)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,n,i){const{options:s,type:r}=this,o=this._cachedScopes(e,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(h=>{e&&(l.add(e),h.forEach(u=>Es(l,e,u))),h.forEach(u=>Es(l,s,u)),h.forEach(u=>Es(l,yi[r]||{},u)),h.forEach(u=>Es(l,je,u)),h.forEach(u=>Es(l,Dc,u))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),p_.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,yi[n]||{},je.datasets[n]||{},{type:n},je,Dc]}resolveNamedOptions(e,n,i,s=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=zf(this._resolverCache,e,s);let l=o;if(a4(o,n)){r.$shared=!1,i=Vn(i)?i():i;const c=this.createResolver(e,i,a);l=is(o,i,c)}for(const c of n)r[c]=l[c];return r}createResolver(e,n,i=[""],s){const{resolver:r}=zf(this._resolverCache,e,i);return Ce(n)?is(r,n,void 0,s):r}}function zf(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const s=n.join();let r=i.get(s);return r||(r={resolver:jh(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(s,r)),r}const o4=t=>Ce(t)&&Object.getOwnPropertyNames(t).some(e=>Vn(t[e]));function a4(t,e){const{isScriptable:n,isIndexable:i}=Zx(t);for(const s of e){const r=n(s),o=i(s),a=(o||r)&&t[s];if(r&&(Vn(a)||o4(a))||o&&Ge(a))return!0}return!1}var l4="4.4.6";const c4=["top","bottom","left","right","chartArea"];function Wf(t,e){return t==="top"||t==="bottom"||c4.indexOf(t)===-1&&e==="x"}function Vf(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function $f(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Me(n&&n.onComplete,[t],e)}function h4(t){const e=t.chart,n=e.options.animation;Me(n&&n.onProgress,[t],e)}function g_(t){return Gh()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const oo={},Uf=t=>{const e=g_(t);return Object.values(oo).filter(n=>n.canvas===e).pop()};function u4(t,e,n){const i=Object.keys(t);for(const s of i){const r=+s;if(r>=e){const o=t[s];delete t[s],(n>0||r>e)&&(t[r+n]=o)}}}function f4(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}function Kr(t,e,n){return t.options.clip?t[n]:e[n]}function d4(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:Kr(n,e,"left"),right:Kr(n,e,"right"),top:Kr(i,e,"top"),bottom:Kr(i,e,"bottom")}:e}var wn;let ga=(wn=class{static register(...e){Xt.add(...e),jf()}static unregister(...e){Xt.remove(...e),jf()}constructor(e,n){const i=this.config=new r4(n),s=g_(e),r=Uf(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||FS(s)),this.platform.updateConfig(i);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,h=l&&l.width;if(this.id=Iw(),this.ctx=a,this.canvas=l,this.width=h,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new GS,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Xw(u=>this.update(u),o.resizeDelay||0),this._dataChanges=[],oo[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}on.listen(this,"complete",$f),on.listen(this,"progress",h4),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:s,_aspectRatio:r}=this;return Oe(e)?n&&r?r:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Xt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():xf(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ff(this.canvas,this.ctx),this}stop(){return on.stop(this),this}resize(e,n){on.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,n,r),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,xf(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Me(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Se(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,s=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],l=Bc(o,a),c=l==="r",h=l==="x";return{options:a,dposition:c?"chartArea":h?"bottom":"left",dtype:c?"radialLinear":h?"category":"linear"}}))),Se(r,o=>{const a=o.options,l=a.id,c=Bc(l,a),h=De(a.type,o.dtype);(a.position===void 0||Wf(a.position,c)!==Wf(o.dposition))&&(a.position=o.dposition),s[l]=!0;let u=null;if(l in i&&i[l].type===h)u=i[l];else{const f=Xt.getScale(h);u=new f({id:l,type:h,ctx:this.ctx,chart:this}),i[u.id]=u}u.init(a,e)}),Se(s,(o,a)=>{o||delete i[a]}),Se(i,o=>{It.configure(this,o,o.options),It.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((s,r)=>s.index-r.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(Vf("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,s)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const r=n[i];let o=this.getDatasetMeta(i);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=r.indexAxis||kc(a,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Xt.getController(a),{datasetElementType:c,dataElementType:h}=je.datasets[a];Object.assign(l,{dataElementType:Xt.getElement(h),datasetElementType:c&&Xt.getElement(c)}),o.controller=new l(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Se(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,h=this.data.datasets.length;c<h;c++){const{controller:u}=this.getDatasetMeta(c),f=!s&&r.indexOf(u)===-1;u.buildOrUpdateElements(f),o=Math.max(+u.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||Se(r,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Vf("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Se(this.scales,e=>{It.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!tf(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of n){const o=i==="_removeElements"?-r:r;u4(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),s=i(0);for(let r=1;r<n;r++)if(!tf(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;It.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Se(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Vn(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(on.has(this)?this.attached&&!on.running(this)&&on.start(this):(this.draw(),$f({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let s,r;for(s=0,r=n.length;s<r;++s){const o=n[s];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i=e._clip,s=!i.disabled,r=d4(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(s&&$h(n,{left:i.left===!1?0:r.left-i.left,right:i.right===!1?this.width:r.right+i.right,top:i.top===!1?0:r.top-i.top,bottom:i.bottom===!1?this.height:r.bottom+i.bottom}),e.controller.draw(),s&&Uh(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return Yx(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,s){const r=cS.modes[n];return typeof r=="function"?r(this,e,i,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let s=i.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=as(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const s=i?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,s);pr(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(r,{visible:i}),this.update(a=>a.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),on.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),ff(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete oo[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(r,o)=>{n.addEventListener(this,r,o),e[r]=o},s=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};Se(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},s=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Se(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Se(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const s=i?"set":"remove";let r,o,a,l;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!Ro(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const s=this.options.hover,r=(l,c)=>l.filter(h=>!c.some(u=>h.datasetIndex===u.datasetIndex&&h.index===u.index)),o=r(n,e),a=i?e:r(e,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:s=[],options:r}=this,o=n,a=this._getActiveElements(e,s,i,o),l=Lw(e),c=f4(e,this._lastEvent,i,l);i&&(this._lastEvent=null,Me(r.onHover,[e,a,this],this),l&&Me(r.onClick,[e,a,this],this));const h=!Ro(a,s);return(h||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=c,h}_getActiveElements(e,n,i,s){if(e.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,s)}},be(wn,"defaults",je),be(wn,"instances",oo),be(wn,"overrides",yi),be(wn,"registry",Xt),be(wn,"version",l4),be(wn,"getChart",Uf),wn);function jf(){return Se(ga.instances,t=>t._plugins.invalidate())}function x_(t,e){const{x:n,y:i,base:s,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,h,u;return t.horizontal?(u=o/2,a=Math.min(n,s),l=Math.max(n,s),c=i-u,h=i+u):(u=r/2,a=n-u,l=n+u,c=Math.min(i,s),h=Math.max(i,s)),{left:a,top:c,right:l,bottom:h}}function Tn(t,e,n,i){return t?0:Wt(e,n,i)}function p4(t,e,n){const i=t.options.borderWidth,s=t.borderSkipped,r=Xx(i);return{t:Tn(s.top,r.top,0,n),r:Tn(s.right,r.right,0,e),b:Tn(s.bottom,r.bottom,0,n),l:Tn(s.left,r.left,0,e)}}function g4(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,r=qi(s),o=Math.min(e,n),a=t.borderSkipped,l=i||Ce(s);return{topLeft:Tn(!l||a.top||a.left,r.topLeft,0,o),topRight:Tn(!l||a.top||a.right,r.topRight,0,o),bottomLeft:Tn(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:Tn(!l||a.bottom||a.right,r.bottomRight,0,o)}}function x4(t){const e=x_(t),n=e.right-e.left,i=e.bottom-e.top,s=p4(t,n/2,i/2),r=g4(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:r},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function il(t,e,n,i){const s=e===null,r=n===null,a=t&&!(s&&r)&&x_(t,i);return a&&(s||Oi(e,a.left,a.right))&&(r||Oi(n,a.top,a.bottom))}function _4(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function m4(t,e){t.rect(e.x,e.y,e.w,e.h)}function sl(t,e,n={}){const i=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+i,y:t.y+s,w:t.w+r,h:t.h+o,radius:t.radius}}class ao extends ls{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:o}=x4(this),a=_4(o.radius)?No:m4;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,sl(o,n,r)),e.clip(),a(e,sl(r,-n,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,sl(r,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,i){return il(this,e,n,i)}inXRange(e,n){return il(this,e,null,n)}inYRange(e,n){return il(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(n+s)/2:n,y:r?i:(i+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}be(ao,"id","bar"),be(ao,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),be(ao,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const qf=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},v4=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Kf extends ls{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Me(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=ht(i.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=qf(i,r);let c,h;n.font=s.string,this.isHorizontal()?(c=this.maxWidth,h=this._fitRows(o,r,a,l)+10):(h=this.maxHeight,c=this._fitCols(o,s,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,s){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],h=s+a;let u=e;r.textAlign="left",r.textBaseline="middle";let f=-1,d=-h;return this.legendItems.forEach((p,g)=>{const x=i+n/2+r.measureText(p.text).width;(g===0||c[c.length-1]+x+2*a>o)&&(u+=h,c[c.length-(g>0?0:1)]=0,d+=h,f++),l[g]={left:0,top:d,row:f,width:x,height:s},c[c.length-1]+=x+a}),u}_fitCols(e,n,i,s){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],h=o-e;let u=a,f=0,d=0,p=0,g=0;return this.legendItems.forEach((x,b)=>{const{itemWidth:_,itemHeight:m}=b4(i,n,r,x,s);b>0&&d+m+2*a>h&&(u+=f+a,c.push({width:f,height:d}),p+=f+a,g++,f=d=0),l[b]={left:p,top:d,col:g,width:_,height:m},f=Math.max(f,_),d+=m+a}),u+=f,c.push({width:f,height:d}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:r}}=this,o=Ki(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=ot(i,this.left+s,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=ot(i,this.left+s,this.right-this.lineWidths[a])),c.top+=this.top+e+s,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+s}else{let a=0,l=ot(i,this.top+e+s,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=ot(i,this.top+e+s,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+s,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;$h(e,this),this._draw(),Uh(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:s}=this,{align:r,labels:o}=e,a=je.color,l=Ki(e.rtl,this.left,this.width),c=ht(o.font),{padding:h}=o,u=c.size,f=u/2;let d;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:p,boxHeight:g,itemHeight:x}=qf(o,u),b=function(A,B,F){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;s.save();const D=De(F.lineWidth,1);if(s.fillStyle=De(F.fillStyle,a),s.lineCap=De(F.lineCap,"butt"),s.lineDashOffset=De(F.lineDashOffset,0),s.lineJoin=De(F.lineJoin,"miter"),s.lineWidth=D,s.strokeStyle=De(F.strokeStyle,a),s.setLineDash(De(F.lineDash,[])),o.usePointStyle){const E={radius:g*Math.SQRT2/2,pointStyle:F.pointStyle,rotation:F.rotation,borderWidth:D},S=l.xPlus(A,p/2),k=B+f;Gx(s,E,S,k,o.pointStyleWidth&&p)}else{const E=B+Math.max((u-g)/2,0),S=l.leftForLtr(A,p),k=qi(F.borderRadius);s.beginPath(),Object.values(k).some(T=>T!==0)?No(s,{x:S,y:E,w:p,h:g,radius:k}):s.rect(S,E,p,g),s.fill(),D!==0&&s.stroke()}s.restore()},_=function(A,B,F){gr(s,F.text,A,B+x/2,c,{strikethrough:F.hidden,textAlign:l.textAlign(F.textAlign)})},m=this.isHorizontal(),v=this._computeTitleHeight();m?d={x:ot(r,this.left+h,this.right-i[0]),y:this.top+h+v,line:0}:d={x:this.left+h,y:ot(r,this.top+v+h,this.bottom-n[0].height),line:0},n_(this.ctx,e.textDirection);const C=x+h;this.legendItems.forEach((A,B)=>{s.strokeStyle=A.fontColor,s.fillStyle=A.fontColor;const F=s.measureText(A.text).width,D=l.textAlign(A.textAlign||(A.textAlign=o.textAlign)),E=p+f+F;let S=d.x,k=d.y;l.setWidth(this.width),m?B>0&&S+E+h>this.right&&(k=d.y+=C,d.line++,S=d.x=ot(r,this.left+h,this.right-i[d.line])):B>0&&k+C>this.bottom&&(S=d.x=S+n[d.line].width+h,d.line++,k=d.y=ot(r,this.top+v+h,this.bottom-n[d.line].height));const T=l.x(S);if(b(T,k,A),S=Zw(D,S+p+f,m?S+E:this.right,e.rtl),_(l.x(S),k,A),m)d.x+=E+h;else if(typeof A.text!="string"){const U=c.lineHeight;d.y+=__(A,U)+h}else d.y+=C}),i_(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=ht(n.font),s=Ot(n.padding);if(!n.display)return;const r=Ki(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,c=s.top+l;let h,u=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),h=this.top+c,u=ot(e.align,u,this.right-f);else{const p=this.columnSizes.reduce((g,x)=>Math.max(g,x.height),0);h=c+ot(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const d=ot(a,u,u+f);o.textAlign=r.textAlign(Vh(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,gr(o,n.text,d,h,i)}_computeTitleHeight(){const e=this.options.title,n=ht(e.font),i=Ot(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,s,r;if(Oi(e,this.left,this.right)&&Oi(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],Oi(e,s.left,s.left+s.width)&&Oi(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!E4(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,r=v4(s,i);s&&!r&&Me(n.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!r&&Me(n.onHover,[e,i,this],this)}else i&&Me(n.onClick,[e,i,this],this)}}function b4(t,e,n,i,s){const r=y4(i,t,e,n),o=C4(s,i,e.lineHeight);return{itemWidth:r,itemHeight:o}}function y4(t,e,n,i){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((r,o)=>r.length>o.length?r:o)),e+n.size/2+i.measureText(s).width}function C4(t,e,n){let i=t;return typeof e.text!="string"&&(i=__(e,n)),i}function __(t,e){const n=t.text?t.text.length:0;return e*n}function E4(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var w4={id:"legend",_element:Kf,start(t,e,n){const i=t.legend=new Kf({ctx:t.ctx,options:n,chart:t});It.configure(t,i,n),It.addBox(t,i)},stop(t){It.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;It.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),h=Ot(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class m_ extends ls{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=Ge(i.text)?i.text.length:1;this._padding=Ot(i.padding);const r=s*ht(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:s,right:r,options:o}=this,a=o.align;let l=0,c,h,u;return this.isHorizontal()?(h=ot(a,i,r),u=n+e,c=r-i):(o.position==="left"?(h=i+e,u=ot(a,s,n),l=ft*-.5):(h=r-e,u=ot(a,n,s),l=ft*.5),c=s-n),{titleX:h,titleY:u,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=ht(n.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);gr(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:Vh(n.align),textBaseline:"middle",translation:[o,a]})}}function A4(t,e){const n=new m_({ctx:t.ctx,options:e,chart:t});It.configure(t,n,e),It.addBox(t,n),t.titleBlock=n}var S4={id:"title",_element:m_,start(t,e,n){A4(t,n)},stop(t){const e=t.titleBlock;It.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;It.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ds={average(t){if(!t.length)return!1;let e,n,i=new Set,s=0,r=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),s+=l.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((a,l)=>a+l)/i.size,y:s/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,s=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=t.length;r<o;++r){const l=t[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),h=jw(e,c);h<s&&(s=h,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function Yt(t,e){return e&&(Ge(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function an(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function D4(t,e){const{element:n,datasetIndex:i,index:s}=e,r=t.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(s);return{chart:t,label:o,parsed:r.getParsed(s),raw:t.data.datasets[i].data[s],formattedValue:a,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function Gf(t,e){const n=t.chart.ctx,{body:i,footer:s,title:r}=t,{boxWidth:o,boxHeight:a}=e,l=ht(e.bodyFont),c=ht(e.titleFont),h=ht(e.footerFont),u=r.length,f=s.length,d=i.length,p=Ot(e.padding);let g=p.height,x=0,b=i.reduce((v,C)=>v+C.before.length+C.lines.length+C.after.length,0);if(b+=t.beforeBody.length+t.afterBody.length,u&&(g+=u*c.lineHeight+(u-1)*e.titleSpacing+e.titleMarginBottom),b){const v=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=d*v+(b-d)*l.lineHeight+(b-1)*e.bodySpacing}f&&(g+=e.footerMarginTop+f*h.lineHeight+(f-1)*e.footerSpacing);let _=0;const m=function(v){x=Math.max(x,n.measureText(v).width+_)};return n.save(),n.font=c.string,Se(t.title,m),n.font=l.string,Se(t.beforeBody.concat(t.afterBody),m),_=e.displayColors?o+2+e.boxPadding:0,Se(i,v=>{Se(v.before,m),Se(v.lines,m),Se(v.after,m)}),_=0,n.font=h.string,Se(t.footer,m),n.restore(),x+=p.width,{width:x,height:g}}function k4(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function B4(t,e,n,i){const{x:s,width:r}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&s+r+o>e.width||t==="right"&&s-r-o<0)return!0}function F4(t,e,n,i){const{x:s,width:r}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return i==="center"?c=s<=(a+l)/2?"left":"right":s<=r/2?c="left":s>=o-r/2&&(c="right"),B4(c,t,e,n)&&(c="center"),c}function Yf(t,e,n){const i=n.yAlign||e.yAlign||k4(t,n);return{xAlign:n.xAlign||e.xAlign||F4(t,e,n,i),yAlign:i}}function T4(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function I4(t,e,n){let{y:i,height:s}=t;return e==="top"?i+=n:e==="bottom"?i-=s+n:i-=s/2,i}function Qf(t,e,n,i){const{caretSize:s,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=s+r,{topLeft:h,topRight:u,bottomLeft:f,bottomRight:d}=qi(o);let p=T4(e,a);const g=I4(e,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(h,f)+s:a==="right"&&(p+=Math.max(u,d)+s),{x:Wt(p,0,i.width-e.width),y:Wt(g,0,i.height-e.height)}}function Gr(t,e,n){const i=Ot(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function Xf(t){return Yt([],an(t))}function R4(t,e,n){return as(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Zf(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const v_={beforeTitle:rn,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:rn,beforeBody:rn,beforeLabel:rn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Oe(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:rn,afterBody:rn,beforeFooter:rn,footer:rn,afterFooter:rn};function _t(t,e,n,i){const s=t[e].call(n,i);return typeof s>"u"?v_[e].call(n,i):s}class Fc extends ls{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,r=new s_(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=R4(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,s=_t(i,"beforeTitle",this,e),r=_t(i,"title",this,e),o=_t(i,"afterTitle",this,e);let a=[];return a=Yt(a,an(s)),a=Yt(a,an(r)),a=Yt(a,an(o)),a}getBeforeBody(e,n){return Xf(_t(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,s=[];return Se(e,r=>{const o={before:[],lines:[],after:[]},a=Zf(i,r);Yt(o.before,an(_t(a,"beforeLabel",this,r))),Yt(o.lines,_t(a,"label",this,r)),Yt(o.after,an(_t(a,"afterLabel",this,r))),s.push(o)}),s}getAfterBody(e,n){return Xf(_t(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,s=_t(i,"beforeFooter",this,e),r=_t(i,"footer",this,e),o=_t(i,"afterFooter",this,e);let a=[];return a=Yt(a,an(s)),a=Yt(a,an(r)),a=Yt(a,an(o)),a}_createItems(e){const n=this._active,i=this.chart.data,s=[],r=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(D4(this.chart,n[l]));return e.filter&&(a=a.filter((h,u,f)=>e.filter(h,u,f,i))),e.itemSort&&(a=a.sort((h,u)=>e.itemSort(h,u,i))),Se(a,h=>{const u=Zf(e.callbacks,h);s.push(_t(u,"labelColor",this,h)),r.push(_t(u,"labelPointStyle",this,h)),o.push(_t(u,"labelTextColor",this,h))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const i=this.options.setContext(this.getContext()),s=this._active;let r,o=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const a=Ds[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=Gf(this,i),c=Object.assign({},a,l),h=Yf(this.chart,i,c),u=Qf(i,c,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,r={opacity:1,x:u.x,y:u.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,s){const r=this.getCaretPosition(e,i,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,i){const{xAlign:s,yAlign:r}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:h,bottomRight:u}=qi(a),{x:f,y:d}=e,{width:p,height:g}=n;let x,b,_,m,v,C;return r==="center"?(v=d+g/2,s==="left"?(x=f,b=x-o,m=v+o,C=v-o):(x=f+p,b=x+o,m=v-o,C=v+o),_=x):(s==="left"?b=f+Math.max(l,h)+o:s==="right"?b=f+p-Math.max(c,u)-o:b=this.caretX,r==="top"?(m=d,v=m-o,x=b-o,_=b+o):(m=d+g,v=m+o,x=b+o,_=b-o),C=m),{x1:x,x2:b,x3:_,y1:m,y2:v,y3:C}}drawTitle(e,n,i){const s=this.title,r=s.length;let o,a,l;if(r){const c=Ki(i.rtl,this.x,this.width);for(e.x=Gr(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",o=ht(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<r;++l)n.fillText(s[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===r&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,n,i,s,r){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=r,h=ht(r.bodyFont),u=Gr(this,"left",r),f=s.x(u),d=l<h.lineHeight?(h.lineHeight-l)/2:0,p=n.y+d;if(r.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},x=s.leftForLtr(f,c)+c/2,b=p+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,df(e,g,x,b),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,df(e,g,x,b)}else{e.lineWidth=Ce(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const g=s.leftForLtr(f,c),x=s.leftForLtr(s.xPlus(f,1),c-2),b=qi(o.borderRadius);Object.values(b).some(_=>_!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,No(e,{x:g,y:p,w:c,h:l,radius:b}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),No(e,{x,y:p+1,w:c-2,h:l-2,radius:b}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(g,p,c,l),e.strokeRect(g,p,c,l),e.fillStyle=o.backgroundColor,e.fillRect(x,p+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:s}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:h}=i,u=ht(i.bodyFont);let f=u.lineHeight,d=0;const p=Ki(i.rtl,this.x,this.width),g=function(F){n.fillText(F,p.x(e.x+d),e.y+f/2),e.y+=f+r},x=p.textAlign(o);let b,_,m,v,C,A,B;for(n.textAlign=o,n.textBaseline="middle",n.font=u.string,e.x=Gr(this,x,i),n.fillStyle=i.bodyColor,Se(this.beforeBody,g),d=a&&x!=="right"?o==="center"?c/2+h:c+2+h:0,v=0,A=s.length;v<A;++v){for(b=s[v],_=this.labelTextColors[v],n.fillStyle=_,Se(b.before,g),m=b.lines,a&&m.length&&(this._drawColorBox(n,e,v,p,i),f=Math.max(u.lineHeight,l)),C=0,B=m.length;C<B;++C)g(m[C]),f=u.lineHeight;Se(b.after,g)}d=0,f=u.lineHeight,Se(this.afterBody,g),e.y-=r}drawFooter(e,n,i){const s=this.footer,r=s.length;let o,a;if(r){const l=Ki(i.rtl,this.x,this.width);for(e.x=Gr(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=ht(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(s[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,s){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:h}=i,{topLeft:u,topRight:f,bottomLeft:d,bottomRight:p}=qi(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+u,l),o==="top"&&this.drawCaret(e,n,i,s),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&r==="right"&&this.drawCaret(e,n,i,s),n.lineTo(a+c,l+h-p),n.quadraticCurveTo(a+c,l+h,a+c-p,l+h),o==="bottom"&&this.drawCaret(e,n,i,s),n.lineTo(a+d,l+h),n.quadraticCurveTo(a,l+h,a,l+h-d),o==="center"&&r==="left"&&this.drawCaret(e,n,i,s),n.lineTo(a,l+u),n.quadraticCurveTo(a,l,a+u,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const o=Ds[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Gf(this,e),l=Object.assign({},o,this._size),c=Yf(n,e,l),h=Qf(e,l,c,n);(s._to!==h.x||r._to!==h.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Ot(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(r,e,s,n),n_(e,n.textDirection),r.y+=o.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),i_(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,s=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!Ro(i,s),o=this._positionChanged(s,n);(r||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],o=this._getActiveElements(e,r,n,i),a=this._positionChanged(o,e),l=n||!Ro(o,r)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,s){const r=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:s,options:r}=this,o=Ds[r.position].call(this,e,n);return o!==!1&&(i!==o.x||s!==o.y)}}be(Fc,"positioners",Ds);var P4={id:"tooltip",_element:Fc,positioners:Ds,afterInit(t,e,n){n&&(t.tooltip=new Fc({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:v_},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const M4=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function O4(t,e,n,i){const s=t.indexOf(e);if(s===-1)return M4(t,e,n,i);const r=t.lastIndexOf(e);return s!==r?n:s}const N4=(t,e)=>t===null?null:Wt(Math.round(t),0,e);function Jf(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Tc extends cs{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:r}of n)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Oe(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:O4(i,e,De(n,e),this._addedLabels),N4(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)s.push({value:o});return s}getLabelForValue(e){return Jf.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}be(Tc,"id","category"),be(Tc,"defaults",{ticks:{callback:Jf}});function L4(t,e){const n=[],{bounds:s,step:r,min:o,max:a,precision:l,count:c,maxTicks:h,maxDigits:u,includeBounds:f}=t,d=r||1,p=h-1,{min:g,max:x}=e,b=!Oe(o),_=!Oe(a),m=!Oe(c),v=(x-g)/(u+1);let C=sf((x-g)/p/d)*d,A,B,F,D;if(C<1e-14&&!b&&!_)return[{value:g},{value:x}];D=Math.ceil(x/C)-Math.floor(g/C),D>p&&(C=sf(D*C/p/d)*d),Oe(l)||(A=Math.pow(10,l),C=Math.ceil(C*A)/A),s==="ticks"?(B=Math.floor(g/C)*C,F=Math.ceil(x/C)*C):(B=g,F=x),b&&_&&r&&Ww((a-o)/r,C/1e3)?(D=Math.round(Math.min((a-o)/C,h)),C=(a-o)/D,B=o,F=a):m?(B=b?o:B,F=_?a:F,D=c-1,C=(F-B)/D):(D=(F-B)/C,io(D,Math.round(D),C/1e3)?D=Math.round(D):D=Math.ceil(D));const E=Math.max(rf(C),rf(B));A=Math.pow(10,Oe(l)?E:l),B=Math.round(B*A)/A,F=Math.round(F*A)/A;let S=0;for(b&&(f&&B!==o?(n.push({value:o}),B<o&&S++,io(Math.round((B+S*C)*A)/A,o,ed(o,v,t))&&S++):B<o&&S++);S<D;++S){const k=Math.round((B+S*C)*A)/A;if(_&&k>a)break;n.push({value:k})}return _&&f&&F!==a?n.length&&io(n[n.length-1].value,a,ed(a,v,t))?n[n.length-1].value=a:n.push({value:a}):(!_||F===a)&&n.push({value:F}),n}function ed(t,e,{horizontal:n,minRotation:i}){const s=ui(i),r=(n?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class H4 extends cs{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Oe(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const o=l=>s=n?s:l,a=l=>r=i?r:l;if(e){const l=Ln(s),c=Ln(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(s===r){let l=r===0?1:Math.abs(r*.05);a(r+l),e||o(s-l)}this.min=s,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=L4(s,r);return e.bounds==="ticks"&&Vw(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-n)/Math.max(e.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return jx(e,this.chart.options.locale,this.options.ticks.format)}}class Ic extends H4{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Mt(e)?e:0,this.max=Mt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=ui(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}be(Ic,"id","linear"),be(Ic,"defaults",{ticks:{callback:Kx.formatters.numeric}});const xa={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},vt=Object.keys(xa);function td(t,e){return t-e}function nd(t,e){if(Oe(e))return null;const n=t._adapter,{parser:i,round:s,isoWeekday:r}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),Mt(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(Oo(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,s)),+o)}function id(t,e,n,i){const s=vt.length;for(let r=vt.indexOf(t);r<s-1;++r){const o=xa[vt[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=i)return vt[r]}return vt[s-1]}function z4(t,e,n,i,s){for(let r=vt.length-1;r>=vt.indexOf(n);r--){const o=vt[r];if(xa[o].common&&t._adapter.diff(s,i,o)>=e-1)return o}return vt[n?vt.indexOf(n):0]}function W4(t){for(let e=vt.indexOf(t)+1,n=vt.length;e<n;++e)if(xa[vt[e]].common)return vt[e]}function sd(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:s}=Wh(n,e),r=n[i]>=e?n[i]:n[s];t[r]=!0}}function V4(t,e,n,i){const s=t._adapter,r=+s.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+s.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function rd(t,e,n){const i=[],s={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],s[a]=o,i.push({value:a,major:!1});return r===0||!n?i:V4(t,i,s,n)}class zo extends cs{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),s=this._adapter=new sS._date(e.adapters.date);s.init(n),Ws(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:nd(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:s,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=Mt(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),r=Mt(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,o=this.max,a=Yw(s,r,o);return this._unit=n.unit||(i.autoSkip?id(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):z4(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:W4(this._unit),this.initOffsets(s),e.reverse&&a.reverse(),rd(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,s,r;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?i=r:i=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Wt(n,0,o),i=Wt(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,s=this.options,r=s.time,o=r.unit||id(r.minUnit,n,i,this._getLabelCapacity(n)),a=De(s.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=Oo(l)||l===!0,h={};let u=n,f,d;if(c&&(u=+e.startOf(u,"isoWeek",l)),u=+e.startOf(u,c?"day":o),e.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const p=s.ticks.source==="data"&&this.getDataTimestamps();for(f=u,d=0;f<i;f=+e.add(f,a,o),d++)sd(h,f,p);return(f===i||s.bounds==="ticks"||d===1)&&sd(h,f,p),Object.keys(h).sort(td).map(g=>+g)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,r=this._unit,o=n||s[r];return this._adapter.format(e,o)}_tickFormatFunction(e,n,i,s){const r=this.options,o=r.ticks.callback;if(o)return Me(o,[e,n,i],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,h=l&&a[l],u=c&&a[c],f=i[n],d=c&&u&&f&&f.major;return this._adapter.format(e,s||(d?u:h))}generateTickLabels(e){let n,i,s;for(n=0,i=e.length;n<i;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,s=ui(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:i*r+a*o,h:i*o+a*r}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,r=this._tickFormatFunction(e,0,rd(this,[e],this._majorUnit),s),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)e.push(nd(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Wx(e.sort(td))}}be(zo,"id","time"),be(zo,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Yr(t,e,n){let i=0,s=t.length-1,r,o,a,l;n?(e>=t[i].pos&&e<=t[s].pos&&({lo:i,hi:s}=Sc(t,"pos",e)),{pos:r,time:a}=t[i],{pos:o,time:l}=t[s]):(e>=t[i].time&&e<=t[s].time&&({lo:i,hi:s}=Sc(t,"time",e)),{time:r,pos:a}=t[i],{time:o,pos:l}=t[s]);const c=o-r;return c?a+(l-a)*(e-r)/c:a}class od extends zo{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Yr(n,this.min),this._tableRange=Yr(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,s=[],r=[];let o,a,l,c,h;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=i&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=s.length;o<a;++o)h=s[o+1],l=s[o-1],c=s[o],Math.round((h+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Yr(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Yr(this._table,i*this._tableRange+this._minPos,!0)}}be(od,"id","timeseries"),be(od,"defaults",zo.defaults);const b_={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},$4={ariaLabel:{type:String},ariaDescribedby:{type:String}},U4={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...b_,...$4},j4=Qp[0]==="2"?(t,e)=>Object.assign(t,{attrs:e}):(t,e)=>Object.assign(t,e);function Ti(t){return _r(t)?me(t):t}function q4(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t;return _r(e)?new Proxy(t,{}):t}function K4(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function y_(t,e){t.labels=e}function C_(t,e,n){const i=[];t.datasets=e.map(s=>{const r=t.datasets.find(o=>o[n]===s[n]);return!r||!s.data||i.includes(r)?{...s}:(i.push(r),Object.assign(r,s),r)})}function G4(t,e){const n={labels:[],datasets:[]};return y_(n,t.labels),C_(n,t.datasets,e),n}const Y4=Yo({props:U4,setup(t,e){let{expose:n,slots:i}=e;const s=Ve(null),r=Uc(null);n({chart:r});const o=()=>{if(!s.value)return;const{type:c,data:h,options:u,plugins:f,datasetIdKey:d}=t,p=G4(h,d),g=q4(p,h);r.value=new ga(s.value,{type:c,data:g,options:{...u},plugins:f})},a=()=>{const c=me(r.value);c&&(t.destroyDelay>0?setTimeout(()=>{c.destroy(),r.value=null},t.destroyDelay):(c.destroy(),r.value=null))},l=c=>{c.update(t.updateMode)};return vr(o),br(a),Rs([()=>t.options,()=>t.data],(c,h)=>{let[u,f]=c,[d,p]=h;const g=me(r.value);if(!g)return;let x=!1;if(u){const b=Ti(u),_=Ti(d);b&&b!==_&&(K4(g,b),x=!0)}if(f){const b=Ti(f.labels),_=Ti(p.labels),m=Ti(f.datasets),v=Ti(p.datasets);b!==_&&(y_(g.config.data,b),x=!0),m&&m!==v&&(C_(g.config.data,m,t.datasetIdKey),x=!0)}x&&jc(()=>{l(g)})},{deep:!0}),()=>Yi("canvas",{role:"img",ariaLabel:t.ariaLabel,ariaDescribedby:t.ariaDescribedby,ref:s},[Yi("p",{},[i.default?i.default():""])])}});function Q4(t,e){return ga.register(e),Yo({props:b_,setup(n,i){let{expose:s}=i;const r=Uc(null),o=a=>{r.value=a==null?void 0:a.chart};return s({chart:r}),()=>Yi(Y4,j4({ref:o},{type:t,...n}))}})}const X4=Q4("bar",so);var fe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Z4(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}),n}var E_={exports:{}};function J4(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var rl={exports:{}};const e8={},t8=Object.freeze(Object.defineProperty({__proto__:null,default:e8},Symbol.toStringTag,{value:"Module"})),n8=Z4(t8);var ad;function _e(){return ad||(ad=1,function(t,e){(function(n,i){t.exports=i()})(fe,function(){var n=n||function(i,s){var r;if(typeof window<"u"&&window.crypto&&(r=window.crypto),typeof self<"u"&&self.crypto&&(r=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(r=globalThis.crypto),!r&&typeof window<"u"&&window.msCrypto&&(r=window.msCrypto),!r&&typeof fe<"u"&&fe.crypto&&(r=fe.crypto),!r&&typeof J4=="function")try{r=n8}catch{}var o=function(){if(r){if(typeof r.getRandomValues=="function")try{return r.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof r.randomBytes=="function")try{return r.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function _(){}return function(m){var v;return _.prototype=m,v=new _,_.prototype=null,v}}(),l={},c=l.lib={},h=c.Base=function(){return{extend:function(_){var m=a(this);return _&&m.mixIn(_),(!m.hasOwnProperty("init")||this.init===m.init)&&(m.init=function(){m.$super.init.apply(this,arguments)}),m.init.prototype=m,m.$super=this,m},create:function(){var _=this.extend();return _.init.apply(_,arguments),_},init:function(){},mixIn:function(_){for(var m in _)_.hasOwnProperty(m)&&(this[m]=_[m]);_.hasOwnProperty("toString")&&(this.toString=_.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),u=c.WordArray=h.extend({init:function(_,m){_=this.words=_||[],m!=s?this.sigBytes=m:this.sigBytes=_.length*4},toString:function(_){return(_||d).stringify(this)},concat:function(_){var m=this.words,v=_.words,C=this.sigBytes,A=_.sigBytes;if(this.clamp(),C%4)for(var B=0;B<A;B++){var F=v[B>>>2]>>>24-B%4*8&255;m[C+B>>>2]|=F<<24-(C+B)%4*8}else for(var D=0;D<A;D+=4)m[C+D>>>2]=v[D>>>2];return this.sigBytes+=A,this},clamp:function(){var _=this.words,m=this.sigBytes;_[m>>>2]&=4294967295<<32-m%4*8,_.length=i.ceil(m/4)},clone:function(){var _=h.clone.call(this);return _.words=this.words.slice(0),_},random:function(_){for(var m=[],v=0;v<_;v+=4)m.push(o());return new u.init(m,_)}}),f=l.enc={},d=f.Hex={stringify:function(_){for(var m=_.words,v=_.sigBytes,C=[],A=0;A<v;A++){var B=m[A>>>2]>>>24-A%4*8&255;C.push((B>>>4).toString(16)),C.push((B&15).toString(16))}return C.join("")},parse:function(_){for(var m=_.length,v=[],C=0;C<m;C+=2)v[C>>>3]|=parseInt(_.substr(C,2),16)<<24-C%8*4;return new u.init(v,m/2)}},p=f.Latin1={stringify:function(_){for(var m=_.words,v=_.sigBytes,C=[],A=0;A<v;A++){var B=m[A>>>2]>>>24-A%4*8&255;C.push(String.fromCharCode(B))}return C.join("")},parse:function(_){for(var m=_.length,v=[],C=0;C<m;C++)v[C>>>2]|=(_.charCodeAt(C)&255)<<24-C%4*8;return new u.init(v,m)}},g=f.Utf8={stringify:function(_){try{return decodeURIComponent(escape(p.stringify(_)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(_){return p.parse(unescape(encodeURIComponent(_)))}},x=c.BufferedBlockAlgorithm=h.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(_){typeof _=="string"&&(_=g.parse(_)),this._data.concat(_),this._nDataBytes+=_.sigBytes},_process:function(_){var m,v=this._data,C=v.words,A=v.sigBytes,B=this.blockSize,F=B*4,D=A/F;_?D=i.ceil(D):D=i.max((D|0)-this._minBufferSize,0);var E=D*B,S=i.min(E*4,A);if(E){for(var k=0;k<E;k+=B)this._doProcessBlock(C,k);m=C.splice(0,E),v.sigBytes-=S}return new u.init(m,S)},clone:function(){var _=h.clone.call(this);return _._data=this._data.clone(),_},_minBufferSize:0});c.Hasher=x.extend({cfg:h.extend(),init:function(_){this.cfg=this.cfg.extend(_),this.reset()},reset:function(){x.reset.call(this),this._doReset()},update:function(_){return this._append(_),this._process(),this},finalize:function(_){_&&this._append(_);var m=this._doFinalize();return m},blockSize:16,_createHelper:function(_){return function(m,v){return new _.init(v).finalize(m)}},_createHmacHelper:function(_){return function(m,v){return new b.HMAC.init(_,v).finalize(m)}}});var b=l.algo={};return l}(Math);return n})}(rl)),rl.exports}var ol={exports:{}},ld;function _a(){return ld||(ld=1,function(t,e){(function(n,i){t.exports=i(_e())})(fe,function(n){return function(i){var s=n,r=s.lib,o=r.Base,a=r.WordArray,l=s.x64={};l.Word=o.extend({init:function(c,h){this.high=c,this.low=h}}),l.WordArray=o.extend({init:function(c,h){c=this.words=c||[],h!=i?this.sigBytes=h:this.sigBytes=c.length*8},toX32:function(){for(var c=this.words,h=c.length,u=[],f=0;f<h;f++){var d=c[f];u.push(d.high),u.push(d.low)}return a.create(u,this.sigBytes)},clone:function(){for(var c=o.clone.call(this),h=c.words=this.words.slice(0),u=h.length,f=0;f<u;f++)h[f]=h[f].clone();return c}})}(),n})}(ol)),ol.exports}var al={exports:{}},cd;function i8(){return cd||(cd=1,function(t,e){(function(n,i){t.exports=i(_e())})(fe,function(n){return function(){if(typeof ArrayBuffer=="function"){var i=n,s=i.lib,r=s.WordArray,o=r.init,a=r.init=function(l){if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),(l instanceof Int8Array||typeof Uint8ClampedArray<"u"&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)&&(l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength)),l instanceof Uint8Array){for(var c=l.byteLength,h=[],u=0;u<c;u++)h[u>>>2]|=l[u]<<24-u%4*8;o.call(this,h,c)}else o.apply(this,arguments)};a.prototype=r}}(),n.lib.WordArray})}(al)),al.exports}var ll={exports:{}},hd;function s8(){return hd||(hd=1,function(t,e){(function(n,i){t.exports=i(_e())})(fe,function(n){return function(){var i=n,s=i.lib,r=s.WordArray,o=i.enc;o.Utf16=o.Utf16BE={stringify:function(l){for(var c=l.words,h=l.sigBytes,u=[],f=0;f<h;f+=2){var d=c[f>>>2]>>>16-f%4*8&65535;u.push(String.fromCharCode(d))}return u.join("")},parse:function(l){for(var c=l.length,h=[],u=0;u<c;u++)h[u>>>1]|=l.charCodeAt(u)<<16-u%2*16;return r.create(h,c*2)}},o.Utf16LE={stringify:function(l){for(var c=l.words,h=l.sigBytes,u=[],f=0;f<h;f+=2){var d=a(c[f>>>2]>>>16-f%4*8&65535);u.push(String.fromCharCode(d))}return u.join("")},parse:function(l){for(var c=l.length,h=[],u=0;u<c;u++)h[u>>>1]|=a(l.charCodeAt(u)<<16-u%2*16);return r.create(h,c*2)}};function a(l){return l<<8&4278255360|l>>>8&16711935}}(),n.enc.Utf16})}(ll)),ll.exports}var cl={exports:{}},ud;function Si(){return ud||(ud=1,function(t,e){(function(n,i){t.exports=i(_e())})(fe,function(n){return function(){var i=n,s=i.lib,r=s.WordArray,o=i.enc;o.Base64={stringify:function(l){var c=l.words,h=l.sigBytes,u=this._map;l.clamp();for(var f=[],d=0;d<h;d+=3)for(var p=c[d>>>2]>>>24-d%4*8&255,g=c[d+1>>>2]>>>24-(d+1)%4*8&255,x=c[d+2>>>2]>>>24-(d+2)%4*8&255,b=p<<16|g<<8|x,_=0;_<4&&d+_*.75<h;_++)f.push(u.charAt(b>>>6*(3-_)&63));var m=u.charAt(64);if(m)for(;f.length%4;)f.push(m);return f.join("")},parse:function(l){var c=l.length,h=this._map,u=this._reverseMap;if(!u){u=this._reverseMap=[];for(var f=0;f<h.length;f++)u[h.charCodeAt(f)]=f}var d=h.charAt(64);if(d){var p=l.indexOf(d);p!==-1&&(c=p)}return a(l,c,u)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,c,h){for(var u=[],f=0,d=0;d<c;d++)if(d%4){var p=h[l.charCodeAt(d-1)]<<d%4*2,g=h[l.charCodeAt(d)]>>>6-d%4*2,x=p|g;u[f>>>2]|=x<<24-f%4*8,f++}return r.create(u,f)}}(),n.enc.Base64})}(cl)),cl.exports}var hl={exports:{}},fd;function r8(){return fd||(fd=1,function(t,e){(function(n,i){t.exports=i(_e())})(fe,function(n){return function(){var i=n,s=i.lib,r=s.WordArray,o=i.enc;o.Base64url={stringify:function(l,c){c===void 0&&(c=!0);var h=l.words,u=l.sigBytes,f=c?this._safe_map:this._map;l.clamp();for(var d=[],p=0;p<u;p+=3)for(var g=h[p>>>2]>>>24-p%4*8&255,x=h[p+1>>>2]>>>24-(p+1)%4*8&255,b=h[p+2>>>2]>>>24-(p+2)%4*8&255,_=g<<16|x<<8|b,m=0;m<4&&p+m*.75<u;m++)d.push(f.charAt(_>>>6*(3-m)&63));var v=f.charAt(64);if(v)for(;d.length%4;)d.push(v);return d.join("")},parse:function(l,c){c===void 0&&(c=!0);var h=l.length,u=c?this._safe_map:this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var d=0;d<u.length;d++)f[u.charCodeAt(d)]=d}var p=u.charAt(64);if(p){var g=l.indexOf(p);g!==-1&&(h=g)}return a(l,h,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,c,h){for(var u=[],f=0,d=0;d<c;d++)if(d%4){var p=h[l.charCodeAt(d-1)]<<d%4*2,g=h[l.charCodeAt(d)]>>>6-d%4*2,x=p|g;u[f>>>2]|=x<<24-f%4*8,f++}return r.create(u,f)}}(),n.enc.Base64url})}(hl)),hl.exports}var ul={exports:{}},dd;function Di(){return dd||(dd=1,function(t,e){(function(n,i){t.exports=i(_e())})(fe,function(n){return function(i){var s=n,r=s.lib,o=r.WordArray,a=r.Hasher,l=s.algo,c=[];(function(){for(var g=0;g<64;g++)c[g]=i.abs(i.sin(g+1))*4294967296|0})();var h=l.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(g,x){for(var b=0;b<16;b++){var _=x+b,m=g[_];g[_]=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360}var v=this._hash.words,C=g[x+0],A=g[x+1],B=g[x+2],F=g[x+3],D=g[x+4],E=g[x+5],S=g[x+6],k=g[x+7],T=g[x+8],U=g[x+9],K=g[x+10],G=g[x+11],Z=g[x+12],J=g[x+13],he=g[x+14],le=g[x+15],P=v[0],O=v[1],L=v[2],N=v[3];P=u(P,O,L,N,C,7,c[0]),N=u(N,P,O,L,A,12,c[1]),L=u(L,N,P,O,B,17,c[2]),O=u(O,L,N,P,F,22,c[3]),P=u(P,O,L,N,D,7,c[4]),N=u(N,P,O,L,E,12,c[5]),L=u(L,N,P,O,S,17,c[6]),O=u(O,L,N,P,k,22,c[7]),P=u(P,O,L,N,T,7,c[8]),N=u(N,P,O,L,U,12,c[9]),L=u(L,N,P,O,K,17,c[10]),O=u(O,L,N,P,G,22,c[11]),P=u(P,O,L,N,Z,7,c[12]),N=u(N,P,O,L,J,12,c[13]),L=u(L,N,P,O,he,17,c[14]),O=u(O,L,N,P,le,22,c[15]),P=f(P,O,L,N,A,5,c[16]),N=f(N,P,O,L,S,9,c[17]),L=f(L,N,P,O,G,14,c[18]),O=f(O,L,N,P,C,20,c[19]),P=f(P,O,L,N,E,5,c[20]),N=f(N,P,O,L,K,9,c[21]),L=f(L,N,P,O,le,14,c[22]),O=f(O,L,N,P,D,20,c[23]),P=f(P,O,L,N,U,5,c[24]),N=f(N,P,O,L,he,9,c[25]),L=f(L,N,P,O,F,14,c[26]),O=f(O,L,N,P,T,20,c[27]),P=f(P,O,L,N,J,5,c[28]),N=f(N,P,O,L,B,9,c[29]),L=f(L,N,P,O,k,14,c[30]),O=f(O,L,N,P,Z,20,c[31]),P=d(P,O,L,N,E,4,c[32]),N=d(N,P,O,L,T,11,c[33]),L=d(L,N,P,O,G,16,c[34]),O=d(O,L,N,P,he,23,c[35]),P=d(P,O,L,N,A,4,c[36]),N=d(N,P,O,L,D,11,c[37]),L=d(L,N,P,O,k,16,c[38]),O=d(O,L,N,P,K,23,c[39]),P=d(P,O,L,N,J,4,c[40]),N=d(N,P,O,L,C,11,c[41]),L=d(L,N,P,O,F,16,c[42]),O=d(O,L,N,P,S,23,c[43]),P=d(P,O,L,N,U,4,c[44]),N=d(N,P,O,L,Z,11,c[45]),L=d(L,N,P,O,le,16,c[46]),O=d(O,L,N,P,B,23,c[47]),P=p(P,O,L,N,C,6,c[48]),N=p(N,P,O,L,k,10,c[49]),L=p(L,N,P,O,he,15,c[50]),O=p(O,L,N,P,E,21,c[51]),P=p(P,O,L,N,Z,6,c[52]),N=p(N,P,O,L,F,10,c[53]),L=p(L,N,P,O,K,15,c[54]),O=p(O,L,N,P,A,21,c[55]),P=p(P,O,L,N,T,6,c[56]),N=p(N,P,O,L,le,10,c[57]),L=p(L,N,P,O,S,15,c[58]),O=p(O,L,N,P,J,21,c[59]),P=p(P,O,L,N,D,6,c[60]),N=p(N,P,O,L,G,10,c[61]),L=p(L,N,P,O,B,15,c[62]),O=p(O,L,N,P,U,21,c[63]),v[0]=v[0]+P|0,v[1]=v[1]+O|0,v[2]=v[2]+L|0,v[3]=v[3]+N|0},_doFinalize:function(){var g=this._data,x=g.words,b=this._nDataBytes*8,_=g.sigBytes*8;x[_>>>5]|=128<<24-_%32;var m=i.floor(b/4294967296),v=b;x[(_+64>>>9<<4)+15]=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,x[(_+64>>>9<<4)+14]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,g.sigBytes=(x.length+1)*4,this._process();for(var C=this._hash,A=C.words,B=0;B<4;B++){var F=A[B];A[B]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360}return C},clone:function(){var g=a.clone.call(this);return g._hash=this._hash.clone(),g}});function u(g,x,b,_,m,v,C){var A=g+(x&b|~x&_)+m+C;return(A<<v|A>>>32-v)+x}function f(g,x,b,_,m,v,C){var A=g+(x&_|b&~_)+m+C;return(A<<v|A>>>32-v)+x}function d(g,x,b,_,m,v,C){var A=g+(x^b^_)+m+C;return(A<<v|A>>>32-v)+x}function p(g,x,b,_,m,v,C){var A=g+(b^(x|~_))+m+C;return(A<<v|A>>>32-v)+x}s.MD5=a._createHelper(h),s.HmacMD5=a._createHmacHelper(h)}(Math),n.MD5})}(ul)),ul.exports}var fl={exports:{}},pd;function w_(){return pd||(pd=1,function(t,e){(function(n,i){t.exports=i(_e())})(fe,function(n){return function(){var i=n,s=i.lib,r=s.WordArray,o=s.Hasher,a=i.algo,l=[],c=a.SHA1=o.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(h,u){for(var f=this._hash.words,d=f[0],p=f[1],g=f[2],x=f[3],b=f[4],_=0;_<80;_++){if(_<16)l[_]=h[u+_]|0;else{var m=l[_-3]^l[_-8]^l[_-14]^l[_-16];l[_]=m<<1|m>>>31}var v=(d<<5|d>>>27)+b+l[_];_<20?v+=(p&g|~p&x)+1518500249:_<40?v+=(p^g^x)+1859775393:_<60?v+=(p&g|p&x|g&x)-1894007588:v+=(p^g^x)-899497514,b=x,x=g,g=p<<30|p>>>2,p=d,d=v}f[0]=f[0]+d|0,f[1]=f[1]+p|0,f[2]=f[2]+g|0,f[3]=f[3]+x|0,f[4]=f[4]+b|0},_doFinalize:function(){var h=this._data,u=h.words,f=this._nDataBytes*8,d=h.sigBytes*8;return u[d>>>5]|=128<<24-d%32,u[(d+64>>>9<<4)+14]=Math.floor(f/4294967296),u[(d+64>>>9<<4)+15]=f,h.sigBytes=u.length*4,this._process(),this._hash},clone:function(){var h=o.clone.call(this);return h._hash=this._hash.clone(),h}});i.SHA1=o._createHelper(c),i.HmacSHA1=o._createHmacHelper(c)}(),n.SHA1})}(fl)),fl.exports}var dl={exports:{}},gd;function Xh(){return gd||(gd=1,function(t,e){(function(n,i){t.exports=i(_e())})(fe,function(n){return function(i){var s=n,r=s.lib,o=r.WordArray,a=r.Hasher,l=s.algo,c=[],h=[];(function(){function d(b){for(var _=i.sqrt(b),m=2;m<=_;m++)if(!(b%m))return!1;return!0}function p(b){return(b-(b|0))*4294967296|0}for(var g=2,x=0;x<64;)d(g)&&(x<8&&(c[x]=p(i.pow(g,1/2))),h[x]=p(i.pow(g,1/3)),x++),g++})();var u=[],f=l.SHA256=a.extend({_doReset:function(){this._hash=new o.init(c.slice(0))},_doProcessBlock:function(d,p){for(var g=this._hash.words,x=g[0],b=g[1],_=g[2],m=g[3],v=g[4],C=g[5],A=g[6],B=g[7],F=0;F<64;F++){if(F<16)u[F]=d[p+F]|0;else{var D=u[F-15],E=(D<<25|D>>>7)^(D<<14|D>>>18)^D>>>3,S=u[F-2],k=(S<<15|S>>>17)^(S<<13|S>>>19)^S>>>10;u[F]=E+u[F-7]+k+u[F-16]}var T=v&C^~v&A,U=x&b^x&_^b&_,K=(x<<30|x>>>2)^(x<<19|x>>>13)^(x<<10|x>>>22),G=(v<<26|v>>>6)^(v<<21|v>>>11)^(v<<7|v>>>25),Z=B+G+T+h[F]+u[F],J=K+U;B=A,A=C,C=v,v=m+Z|0,m=_,_=b,b=x,x=Z+J|0}g[0]=g[0]+x|0,g[1]=g[1]+b|0,g[2]=g[2]+_|0,g[3]=g[3]+m|0,g[4]=g[4]+v|0,g[5]=g[5]+C|0,g[6]=g[6]+A|0,g[7]=g[7]+B|0},_doFinalize:function(){var d=this._data,p=d.words,g=this._nDataBytes*8,x=d.sigBytes*8;return p[x>>>5]|=128<<24-x%32,p[(x+64>>>9<<4)+14]=i.floor(g/4294967296),p[(x+64>>>9<<4)+15]=g,d.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var d=a.clone.call(this);return d._hash=this._hash.clone(),d}});s.SHA256=a._createHelper(f),s.HmacSHA256=a._createHmacHelper(f)}(Math),n.SHA256})}(dl)),dl.exports}var pl={exports:{}},xd;function o8(){return xd||(xd=1,function(t,e){(function(n,i,s){t.exports=i(_e(),Xh())})(fe,function(n){return function(){var i=n,s=i.lib,r=s.WordArray,o=i.algo,a=o.SHA256,l=o.SHA224=a.extend({_doReset:function(){this._hash=new r.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var c=a._doFinalize.call(this);return c.sigBytes-=4,c}});i.SHA224=a._createHelper(l),i.HmacSHA224=a._createHmacHelper(l)}(),n.SHA224})}(pl)),pl.exports}var gl={exports:{}},_d;function A_(){return _d||(_d=1,function(t,e){(function(n,i,s){t.exports=i(_e(),_a())})(fe,function(n){return function(){var i=n,s=i.lib,r=s.Hasher,o=i.x64,a=o.Word,l=o.WordArray,c=i.algo;function h(){return a.create.apply(a,arguments)}var u=[h(1116352408,3609767458),h(1899447441,602891725),h(3049323471,3964484399),h(3921009573,2173295548),h(961987163,4081628472),h(1508970993,3053834265),h(2453635748,2937671579),h(2870763221,3664609560),h(3624381080,2734883394),h(310598401,1164996542),h(607225278,1323610764),h(1426881987,3590304994),h(1925078388,4068182383),h(2162078206,991336113),h(2614888103,633803317),h(3248222580,3479774868),h(3835390401,2666613458),h(4022224774,944711139),h(264347078,2341262773),h(604807628,2007800933),h(770255983,1495990901),h(1249150122,1856431235),h(1555081692,3175218132),h(1996064986,2198950837),h(2554220882,3999719339),h(2821834349,766784016),h(2952996808,2566594879),h(3210313671,3203337956),h(3336571891,1034457026),h(3584528711,2466948901),h(113926993,3758326383),h(338241895,168717936),h(666307205,1188179964),h(773529912,1546045734),h(1294757372,1522805485),h(1396182291,2643833823),h(1695183700,2343527390),h(1986661051,1014477480),h(2177026350,1206759142),h(2456956037,344077627),h(2730485921,1290863460),h(2820302411,3158454273),h(3259730800,3505952657),h(3345764771,106217008),h(3516065817,3606008344),h(3600352804,1432725776),h(4094571909,1467031594),h(275423344,851169720),h(430227734,3100823752),h(506948616,1363258195),h(659060556,3750685593),h(883997877,3785050280),h(958139571,3318307427),h(1322822218,3812723403),h(1537002063,2003034995),h(1747873779,3602036899),h(1955562222,1575990012),h(2024104815,1125592928),h(2227730452,2716904306),h(2361852424,442776044),h(2428436474,593698344),h(2756734187,3733110249),h(3204031479,2999351573),h(3329325298,3815920427),h(3391569614,3928383900),h(3515267271,566280711),h(3940187606,3454069534),h(4118630271,4000239992),h(116418474,1914138554),h(174292421,2731055270),h(289380356,3203993006),h(460393269,320620315),h(685471733,587496836),h(852142971,1086792851),h(1017036298,365543100),h(1126000580,2618297676),h(1288033470,3409855158),h(1501505948,4234509866),h(1607167915,987167468),h(1816402316,1246189591)],f=[];(function(){for(var p=0;p<80;p++)f[p]=h()})();var d=c.SHA512=r.extend({_doReset:function(){this._hash=new l.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(p,g){for(var x=this._hash.words,b=x[0],_=x[1],m=x[2],v=x[3],C=x[4],A=x[5],B=x[6],F=x[7],D=b.high,E=b.low,S=_.high,k=_.low,T=m.high,U=m.low,K=v.high,G=v.low,Z=C.high,J=C.low,he=A.high,le=A.low,P=B.high,O=B.low,L=F.high,N=F.low,xe=D,oe=E,R=S,H=k,Y=T,ee=U,ve=K,Ae=G,y=Z,w=J,I=he,W=le,M=P,V=O,Q=L,q=N,$=0;$<80;$++){var z,te,X=f[$];if($<16)te=X.high=p[g+$*2]|0,z=X.low=p[g+$*2+1]|0;else{var ne=f[$-15],ie=ne.high,ue=ne.low,ke=(ie>>>1|ue<<31)^(ie>>>8|ue<<24)^ie>>>7,ye=(ue>>>1|ie<<31)^(ue>>>8|ie<<24)^(ue>>>7|ie<<25),rt=f[$-2],He=rt.high,tt=rt.low,dt=(He>>>19|tt<<13)^(He<<3|tt>>>29)^He>>>6,vn=(tt>>>19|He<<13)^(tt<<3|He>>>29)^(tt>>>6|He<<26),hs=f[$-7],pt=hs.high,kt=hs.low,us=f[$-16],D_=us.high,Jh=us.low;z=ye+kt,te=ke+pt+(z>>>0<ye>>>0?1:0),z=z+vn,te=te+dt+(z>>>0<vn>>>0?1:0),z=z+Jh,te=te+D_+(z>>>0<Jh>>>0?1:0),X.high=te,X.low=z}var k_=y&I^~y&M,eu=w&W^~w&V,B_=xe&R^xe&Y^R&Y,F_=oe&H^oe&ee^H&ee,T_=(xe>>>28|oe<<4)^(xe<<30|oe>>>2)^(xe<<25|oe>>>7),tu=(oe>>>28|xe<<4)^(oe<<30|xe>>>2)^(oe<<25|xe>>>7),I_=(y>>>14|w<<18)^(y>>>18|w<<14)^(y<<23|w>>>9),R_=(w>>>14|y<<18)^(w>>>18|y<<14)^(w<<23|y>>>9),nu=u[$],P_=nu.high,iu=nu.low,wt=q+R_,bn=Q+I_+(wt>>>0<q>>>0?1:0),wt=wt+eu,bn=bn+k_+(wt>>>0<eu>>>0?1:0),wt=wt+iu,bn=bn+P_+(wt>>>0<iu>>>0?1:0),wt=wt+z,bn=bn+te+(wt>>>0<z>>>0?1:0),su=tu+F_,M_=T_+B_+(su>>>0<tu>>>0?1:0);Q=M,q=V,M=I,V=W,I=y,W=w,w=Ae+wt|0,y=ve+bn+(w>>>0<Ae>>>0?1:0)|0,ve=Y,Ae=ee,Y=R,ee=H,R=xe,H=oe,oe=wt+su|0,xe=bn+M_+(oe>>>0<wt>>>0?1:0)|0}E=b.low=E+oe,b.high=D+xe+(E>>>0<oe>>>0?1:0),k=_.low=k+H,_.high=S+R+(k>>>0<H>>>0?1:0),U=m.low=U+ee,m.high=T+Y+(U>>>0<ee>>>0?1:0),G=v.low=G+Ae,v.high=K+ve+(G>>>0<Ae>>>0?1:0),J=C.low=J+w,C.high=Z+y+(J>>>0<w>>>0?1:0),le=A.low=le+W,A.high=he+I+(le>>>0<W>>>0?1:0),O=B.low=O+V,B.high=P+M+(O>>>0<V>>>0?1:0),N=F.low=N+q,F.high=L+Q+(N>>>0<q>>>0?1:0)},_doFinalize:function(){var p=this._data,g=p.words,x=this._nDataBytes*8,b=p.sigBytes*8;g[b>>>5]|=128<<24-b%32,g[(b+128>>>10<<5)+30]=Math.floor(x/4294967296),g[(b+128>>>10<<5)+31]=x,p.sigBytes=g.length*4,this._process();var _=this._hash.toX32();return _},clone:function(){var p=r.clone.call(this);return p._hash=this._hash.clone(),p},blockSize:1024/32});i.SHA512=r._createHelper(d),i.HmacSHA512=r._createHmacHelper(d)}(),n.SHA512})}(gl)),gl.exports}var xl={exports:{}},md;function a8(){return md||(md=1,function(t,e){(function(n,i,s){t.exports=i(_e(),_a(),A_())})(fe,function(n){return function(){var i=n,s=i.x64,r=s.Word,o=s.WordArray,a=i.algo,l=a.SHA512,c=a.SHA384=l.extend({_doReset:function(){this._hash=new o.init([new r.init(3418070365,3238371032),new r.init(1654270250,914150663),new r.init(2438529370,812702999),new r.init(355462360,4144912697),new r.init(1731405415,4290775857),new r.init(2394180231,1750603025),new r.init(3675008525,1694076839),new r.init(1203062813,3204075428)])},_doFinalize:function(){var h=l._doFinalize.call(this);return h.sigBytes-=16,h}});i.SHA384=l._createHelper(c),i.HmacSHA384=l._createHmacHelper(c)}(),n.SHA384})}(xl)),xl.exports}var _l={exports:{}},vd;function l8(){return vd||(vd=1,function(t,e){(function(n,i,s){t.exports=i(_e(),_a())})(fe,function(n){return function(i){var s=n,r=s.lib,o=r.WordArray,a=r.Hasher,l=s.x64,c=l.Word,h=s.algo,u=[],f=[],d=[];(function(){for(var x=1,b=0,_=0;_<24;_++){u[x+5*b]=(_+1)*(_+2)/2%64;var m=b%5,v=(2*x+3*b)%5;x=m,b=v}for(var x=0;x<5;x++)for(var b=0;b<5;b++)f[x+5*b]=b+(2*x+3*b)%5*5;for(var C=1,A=0;A<24;A++){for(var B=0,F=0,D=0;D<7;D++){if(C&1){var E=(1<<D)-1;E<32?F^=1<<E:B^=1<<E-32}C&128?C=C<<1^113:C<<=1}d[A]=c.create(B,F)}})();var p=[];(function(){for(var x=0;x<25;x++)p[x]=c.create()})();var g=h.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var x=this._state=[],b=0;b<25;b++)x[b]=new c.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(x,b){for(var _=this._state,m=this.blockSize/2,v=0;v<m;v++){var C=x[b+2*v],A=x[b+2*v+1];C=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,A=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360;var B=_[v];B.high^=A,B.low^=C}for(var F=0;F<24;F++){for(var D=0;D<5;D++){for(var E=0,S=0,k=0;k<5;k++){var B=_[D+5*k];E^=B.high,S^=B.low}var T=p[D];T.high=E,T.low=S}for(var D=0;D<5;D++)for(var U=p[(D+4)%5],K=p[(D+1)%5],G=K.high,Z=K.low,E=U.high^(G<<1|Z>>>31),S=U.low^(Z<<1|G>>>31),k=0;k<5;k++){var B=_[D+5*k];B.high^=E,B.low^=S}for(var J=1;J<25;J++){var E,S,B=_[J],he=B.high,le=B.low,P=u[J];P<32?(E=he<<P|le>>>32-P,S=le<<P|he>>>32-P):(E=le<<P-32|he>>>64-P,S=he<<P-32|le>>>64-P);var O=p[f[J]];O.high=E,O.low=S}var L=p[0],N=_[0];L.high=N.high,L.low=N.low;for(var D=0;D<5;D++)for(var k=0;k<5;k++){var J=D+5*k,B=_[J],xe=p[J],oe=p[(D+1)%5+5*k],R=p[(D+2)%5+5*k];B.high=xe.high^~oe.high&R.high,B.low=xe.low^~oe.low&R.low}var B=_[0],H=d[F];B.high^=H.high,B.low^=H.low}},_doFinalize:function(){var x=this._data,b=x.words;this._nDataBytes*8;var _=x.sigBytes*8,m=this.blockSize*32;b[_>>>5]|=1<<24-_%32,b[(i.ceil((_+1)/m)*m>>>5)-1]|=128,x.sigBytes=b.length*4,this._process();for(var v=this._state,C=this.cfg.outputLength/8,A=C/8,B=[],F=0;F<A;F++){var D=v[F],E=D.high,S=D.low;E=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,S=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,B.push(S),B.push(E)}return new o.init(B,C)},clone:function(){for(var x=a.clone.call(this),b=x._state=this._state.slice(0),_=0;_<25;_++)b[_]=b[_].clone();return x}});s.SHA3=a._createHelper(g),s.HmacSHA3=a._createHmacHelper(g)}(Math),n.SHA3})}(_l)),_l.exports}var ml={exports:{}},bd;function c8(){return bd||(bd=1,function(t,e){(function(n,i){t.exports=i(_e())})(fe,function(n){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(i){var s=n,r=s.lib,o=r.WordArray,a=r.Hasher,l=s.algo,c=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),h=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=o.create([0,1518500249,1859775393,2400959708,2840853838]),p=o.create([1352829926,1548603684,1836072691,2053994217,0]),g=l.RIPEMD160=a.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(A,B){for(var F=0;F<16;F++){var D=B+F,E=A[D];A[D]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360}var S=this._hash.words,k=d.words,T=p.words,U=c.words,K=h.words,G=u.words,Z=f.words,J,he,le,P,O,L,N,xe,oe,R;L=J=S[0],N=he=S[1],xe=le=S[2],oe=P=S[3],R=O=S[4];for(var H,F=0;F<80;F+=1)H=J+A[B+U[F]]|0,F<16?H+=x(he,le,P)+k[0]:F<32?H+=b(he,le,P)+k[1]:F<48?H+=_(he,le,P)+k[2]:F<64?H+=m(he,le,P)+k[3]:H+=v(he,le,P)+k[4],H=H|0,H=C(H,G[F]),H=H+O|0,J=O,O=P,P=C(le,10),le=he,he=H,H=L+A[B+K[F]]|0,F<16?H+=v(N,xe,oe)+T[0]:F<32?H+=m(N,xe,oe)+T[1]:F<48?H+=_(N,xe,oe)+T[2]:F<64?H+=b(N,xe,oe)+T[3]:H+=x(N,xe,oe)+T[4],H=H|0,H=C(H,Z[F]),H=H+R|0,L=R,R=oe,oe=C(xe,10),xe=N,N=H;H=S[1]+le+oe|0,S[1]=S[2]+P+R|0,S[2]=S[3]+O+L|0,S[3]=S[4]+J+N|0,S[4]=S[0]+he+xe|0,S[0]=H},_doFinalize:function(){var A=this._data,B=A.words,F=this._nDataBytes*8,D=A.sigBytes*8;B[D>>>5]|=128<<24-D%32,B[(D+64>>>9<<4)+14]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360,A.sigBytes=(B.length+1)*4,this._process();for(var E=this._hash,S=E.words,k=0;k<5;k++){var T=S[k];S[k]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}return E},clone:function(){var A=a.clone.call(this);return A._hash=this._hash.clone(),A}});function x(A,B,F){return A^B^F}function b(A,B,F){return A&B|~A&F}function _(A,B,F){return(A|~B)^F}function m(A,B,F){return A&F|B&~F}function v(A,B,F){return A^(B|~F)}function C(A,B){return A<<B|A>>>32-B}s.RIPEMD160=a._createHelper(g),s.HmacRIPEMD160=a._createHmacHelper(g)}(),n.RIPEMD160})}(ml)),ml.exports}var vl={exports:{}},yd;function Zh(){return yd||(yd=1,function(t,e){(function(n,i){t.exports=i(_e())})(fe,function(n){(function(){var i=n,s=i.lib,r=s.Base,o=i.enc,a=o.Utf8,l=i.algo;l.HMAC=r.extend({init:function(c,h){c=this._hasher=new c.init,typeof h=="string"&&(h=a.parse(h));var u=c.blockSize,f=u*4;h.sigBytes>f&&(h=c.finalize(h)),h.clamp();for(var d=this._oKey=h.clone(),p=this._iKey=h.clone(),g=d.words,x=p.words,b=0;b<u;b++)g[b]^=1549556828,x[b]^=909522486;d.sigBytes=p.sigBytes=f,this.reset()},reset:function(){var c=this._hasher;c.reset(),c.update(this._iKey)},update:function(c){return this._hasher.update(c),this},finalize:function(c){var h=this._hasher,u=h.finalize(c);h.reset();var f=h.finalize(this._oKey.clone().concat(u));return f}})})()})}(vl)),vl.exports}var bl={exports:{}},Cd;function h8(){return Cd||(Cd=1,function(t,e){(function(n,i,s){t.exports=i(_e(),Xh(),Zh())})(fe,function(n){return function(){var i=n,s=i.lib,r=s.Base,o=s.WordArray,a=i.algo,l=a.SHA256,c=a.HMAC,h=a.PBKDF2=r.extend({cfg:r.extend({keySize:128/32,hasher:l,iterations:25e4}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,f){for(var d=this.cfg,p=c.create(d.hasher,u),g=o.create(),x=o.create([1]),b=g.words,_=x.words,m=d.keySize,v=d.iterations;b.length<m;){var C=p.update(f).finalize(x);p.reset();for(var A=C.words,B=A.length,F=C,D=1;D<v;D++){F=p.finalize(F),p.reset();for(var E=F.words,S=0;S<B;S++)A[S]^=E[S]}g.concat(C),_[0]++}return g.sigBytes=m*4,g}});i.PBKDF2=function(u,f,d){return h.create(d).compute(u,f)}}(),n.PBKDF2})}(bl)),bl.exports}var yl={exports:{}},Ed;function qn(){return Ed||(Ed=1,function(t,e){(function(n,i,s){t.exports=i(_e(),w_(),Zh())})(fe,function(n){return function(){var i=n,s=i.lib,r=s.Base,o=s.WordArray,a=i.algo,l=a.MD5,c=a.EvpKDF=r.extend({cfg:r.extend({keySize:128/32,hasher:l,iterations:1}),init:function(h){this.cfg=this.cfg.extend(h)},compute:function(h,u){for(var f,d=this.cfg,p=d.hasher.create(),g=o.create(),x=g.words,b=d.keySize,_=d.iterations;x.length<b;){f&&p.update(f),f=p.update(h).finalize(u),p.reset();for(var m=1;m<_;m++)f=p.finalize(f),p.reset();g.concat(f)}return g.sigBytes=b*4,g}});i.EvpKDF=function(h,u,f){return c.create(f).compute(h,u)}}(),n.EvpKDF})}(yl)),yl.exports}var Cl={exports:{}},wd;function et(){return wd||(wd=1,function(t,e){(function(n,i,s){t.exports=i(_e(),qn())})(fe,function(n){n.lib.Cipher||function(i){var s=n,r=s.lib,o=r.Base,a=r.WordArray,l=r.BufferedBlockAlgorithm,c=s.enc;c.Utf8;var h=c.Base64,u=s.algo,f=u.EvpKDF,d=r.Cipher=l.extend({cfg:o.extend(),createEncryptor:function(E,S){return this.create(this._ENC_XFORM_MODE,E,S)},createDecryptor:function(E,S){return this.create(this._DEC_XFORM_MODE,E,S)},init:function(E,S,k){this.cfg=this.cfg.extend(k),this._xformMode=E,this._key=S,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(E){return this._append(E),this._process()},finalize:function(E){E&&this._append(E);var S=this._doFinalize();return S},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function E(S){return typeof S=="string"?D:A}return function(S){return{encrypt:function(k,T,U){return E(T).encrypt(S,k,T,U)},decrypt:function(k,T,U){return E(T).decrypt(S,k,T,U)}}}}()});r.StreamCipher=d.extend({_doFinalize:function(){var E=this._process(!0);return E},blockSize:1});var p=s.mode={},g=r.BlockCipherMode=o.extend({createEncryptor:function(E,S){return this.Encryptor.create(E,S)},createDecryptor:function(E,S){return this.Decryptor.create(E,S)},init:function(E,S){this._cipher=E,this._iv=S}}),x=p.CBC=function(){var E=g.extend();E.Encryptor=E.extend({processBlock:function(k,T){var U=this._cipher,K=U.blockSize;S.call(this,k,T,K),U.encryptBlock(k,T),this._prevBlock=k.slice(T,T+K)}}),E.Decryptor=E.extend({processBlock:function(k,T){var U=this._cipher,K=U.blockSize,G=k.slice(T,T+K);U.decryptBlock(k,T),S.call(this,k,T,K),this._prevBlock=G}});function S(k,T,U){var K,G=this._iv;G?(K=G,this._iv=i):K=this._prevBlock;for(var Z=0;Z<U;Z++)k[T+Z]^=K[Z]}return E}(),b=s.pad={},_=b.Pkcs7={pad:function(E,S){for(var k=S*4,T=k-E.sigBytes%k,U=T<<24|T<<16|T<<8|T,K=[],G=0;G<T;G+=4)K.push(U);var Z=a.create(K,T);E.concat(Z)},unpad:function(E){var S=E.words[E.sigBytes-1>>>2]&255;E.sigBytes-=S}};r.BlockCipher=d.extend({cfg:d.cfg.extend({mode:x,padding:_}),reset:function(){var E;d.reset.call(this);var S=this.cfg,k=S.iv,T=S.mode;this._xformMode==this._ENC_XFORM_MODE?E=T.createEncryptor:(E=T.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==E?this._mode.init(this,k&&k.words):(this._mode=E.call(T,this,k&&k.words),this._mode.__creator=E)},_doProcessBlock:function(E,S){this._mode.processBlock(E,S)},_doFinalize:function(){var E,S=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(S.pad(this._data,this.blockSize),E=this._process(!0)):(E=this._process(!0),S.unpad(E)),E},blockSize:128/32});var m=r.CipherParams=o.extend({init:function(E){this.mixIn(E)},toString:function(E){return(E||this.formatter).stringify(this)}}),v=s.format={},C=v.OpenSSL={stringify:function(E){var S,k=E.ciphertext,T=E.salt;return T?S=a.create([1398893684,1701076831]).concat(T).concat(k):S=k,S.toString(h)},parse:function(E){var S,k=h.parse(E),T=k.words;return T[0]==1398893684&&T[1]==1701076831&&(S=a.create(T.slice(2,4)),T.splice(0,4),k.sigBytes-=16),m.create({ciphertext:k,salt:S})}},A=r.SerializableCipher=o.extend({cfg:o.extend({format:C}),encrypt:function(E,S,k,T){T=this.cfg.extend(T);var U=E.createEncryptor(k,T),K=U.finalize(S),G=U.cfg;return m.create({ciphertext:K,key:k,iv:G.iv,algorithm:E,mode:G.mode,padding:G.padding,blockSize:E.blockSize,formatter:T.format})},decrypt:function(E,S,k,T){T=this.cfg.extend(T),S=this._parse(S,T.format);var U=E.createDecryptor(k,T).finalize(S.ciphertext);return U},_parse:function(E,S){return typeof E=="string"?S.parse(E,this):E}}),B=s.kdf={},F=B.OpenSSL={execute:function(E,S,k,T,U){if(T||(T=a.random(64/8)),U)var K=f.create({keySize:S+k,hasher:U}).compute(E,T);else var K=f.create({keySize:S+k}).compute(E,T);var G=a.create(K.words.slice(S),k*4);return K.sigBytes=S*4,m.create({key:K,iv:G,salt:T})}},D=r.PasswordBasedCipher=A.extend({cfg:A.cfg.extend({kdf:F}),encrypt:function(E,S,k,T){T=this.cfg.extend(T);var U=T.kdf.execute(k,E.keySize,E.ivSize,T.salt,T.hasher);T.iv=U.iv;var K=A.encrypt.call(this,E,S,U.key,T);return K.mixIn(U),K},decrypt:function(E,S,k,T){T=this.cfg.extend(T),S=this._parse(S,T.format);var U=T.kdf.execute(k,E.keySize,E.ivSize,S.salt,T.hasher);T.iv=U.iv;var K=A.decrypt.call(this,E,S,U.key,T);return K}})}()})}(Cl)),Cl.exports}var El={exports:{}},Ad;function u8(){return Ad||(Ad=1,function(t,e){(function(n,i,s){t.exports=i(_e(),et())})(fe,function(n){return n.mode.CFB=function(){var i=n.lib.BlockCipherMode.extend();i.Encryptor=i.extend({processBlock:function(r,o){var a=this._cipher,l=a.blockSize;s.call(this,r,o,l,a),this._prevBlock=r.slice(o,o+l)}}),i.Decryptor=i.extend({processBlock:function(r,o){var a=this._cipher,l=a.blockSize,c=r.slice(o,o+l);s.call(this,r,o,l,a),this._prevBlock=c}});function s(r,o,a,l){var c,h=this._iv;h?(c=h.slice(0),this._iv=void 0):c=this._prevBlock,l.encryptBlock(c,0);for(var u=0;u<a;u++)r[o+u]^=c[u]}return i}(),n.mode.CFB})}(El)),El.exports}var wl={exports:{}},Sd;function f8(){return Sd||(Sd=1,function(t,e){(function(n,i,s){t.exports=i(_e(),et())})(fe,function(n){return n.mode.CTR=function(){var i=n.lib.BlockCipherMode.extend(),s=i.Encryptor=i.extend({processBlock:function(r,o){var a=this._cipher,l=a.blockSize,c=this._iv,h=this._counter;c&&(h=this._counter=c.slice(0),this._iv=void 0);var u=h.slice(0);a.encryptBlock(u,0),h[l-1]=h[l-1]+1|0;for(var f=0;f<l;f++)r[o+f]^=u[f]}});return i.Decryptor=s,i}(),n.mode.CTR})}(wl)),wl.exports}var Al={exports:{}},Dd;function d8(){return Dd||(Dd=1,function(t,e){(function(n,i,s){t.exports=i(_e(),et())})(fe,function(n){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return n.mode.CTRGladman=function(){var i=n.lib.BlockCipherMode.extend();function s(a){if((a>>24&255)===255){var l=a>>16&255,c=a>>8&255,h=a&255;l===255?(l=0,c===255?(c=0,h===255?h=0:++h):++c):++l,a=0,a+=l<<16,a+=c<<8,a+=h}else a+=1<<24;return a}function r(a){return(a[0]=s(a[0]))===0&&(a[1]=s(a[1])),a}var o=i.Encryptor=i.extend({processBlock:function(a,l){var c=this._cipher,h=c.blockSize,u=this._iv,f=this._counter;u&&(f=this._counter=u.slice(0),this._iv=void 0),r(f);var d=f.slice(0);c.encryptBlock(d,0);for(var p=0;p<h;p++)a[l+p]^=d[p]}});return i.Decryptor=o,i}(),n.mode.CTRGladman})}(Al)),Al.exports}var Sl={exports:{}},kd;function p8(){return kd||(kd=1,function(t,e){(function(n,i,s){t.exports=i(_e(),et())})(fe,function(n){return n.mode.OFB=function(){var i=n.lib.BlockCipherMode.extend(),s=i.Encryptor=i.extend({processBlock:function(r,o){var a=this._cipher,l=a.blockSize,c=this._iv,h=this._keystream;c&&(h=this._keystream=c.slice(0),this._iv=void 0),a.encryptBlock(h,0);for(var u=0;u<l;u++)r[o+u]^=h[u]}});return i.Decryptor=s,i}(),n.mode.OFB})}(Sl)),Sl.exports}var Dl={exports:{}},Bd;function g8(){return Bd||(Bd=1,function(t,e){(function(n,i,s){t.exports=i(_e(),et())})(fe,function(n){return n.mode.ECB=function(){var i=n.lib.BlockCipherMode.extend();return i.Encryptor=i.extend({processBlock:function(s,r){this._cipher.encryptBlock(s,r)}}),i.Decryptor=i.extend({processBlock:function(s,r){this._cipher.decryptBlock(s,r)}}),i}(),n.mode.ECB})}(Dl)),Dl.exports}var kl={exports:{}},Fd;function x8(){return Fd||(Fd=1,function(t,e){(function(n,i,s){t.exports=i(_e(),et())})(fe,function(n){return n.pad.AnsiX923={pad:function(i,s){var r=i.sigBytes,o=s*4,a=o-r%o,l=r+a-1;i.clamp(),i.words[l>>>2]|=a<<24-l%4*8,i.sigBytes+=a},unpad:function(i){var s=i.words[i.sigBytes-1>>>2]&255;i.sigBytes-=s}},n.pad.Ansix923})}(kl)),kl.exports}var Bl={exports:{}},Td;function _8(){return Td||(Td=1,function(t,e){(function(n,i,s){t.exports=i(_e(),et())})(fe,function(n){return n.pad.Iso10126={pad:function(i,s){var r=s*4,o=r-i.sigBytes%r;i.concat(n.lib.WordArray.random(o-1)).concat(n.lib.WordArray.create([o<<24],1))},unpad:function(i){var s=i.words[i.sigBytes-1>>>2]&255;i.sigBytes-=s}},n.pad.Iso10126})}(Bl)),Bl.exports}var Fl={exports:{}},Id;function m8(){return Id||(Id=1,function(t,e){(function(n,i,s){t.exports=i(_e(),et())})(fe,function(n){return n.pad.Iso97971={pad:function(i,s){i.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(i,s)},unpad:function(i){n.pad.ZeroPadding.unpad(i),i.sigBytes--}},n.pad.Iso97971})}(Fl)),Fl.exports}var Tl={exports:{}},Rd;function v8(){return Rd||(Rd=1,function(t,e){(function(n,i,s){t.exports=i(_e(),et())})(fe,function(n){return n.pad.ZeroPadding={pad:function(i,s){var r=s*4;i.clamp(),i.sigBytes+=r-(i.sigBytes%r||r)},unpad:function(i){for(var s=i.words,r=i.sigBytes-1,r=i.sigBytes-1;r>=0;r--)if(s[r>>>2]>>>24-r%4*8&255){i.sigBytes=r+1;break}}},n.pad.ZeroPadding})}(Tl)),Tl.exports}var Il={exports:{}},Pd;function b8(){return Pd||(Pd=1,function(t,e){(function(n,i,s){t.exports=i(_e(),et())})(fe,function(n){return n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding})}(Il)),Il.exports}var Rl={exports:{}},Md;function y8(){return Md||(Md=1,function(t,e){(function(n,i,s){t.exports=i(_e(),et())})(fe,function(n){return function(i){var s=n,r=s.lib,o=r.CipherParams,a=s.enc,l=a.Hex,c=s.format;c.Hex={stringify:function(h){return h.ciphertext.toString(l)},parse:function(h){var u=l.parse(h);return o.create({ciphertext:u})}}}(),n.format.Hex})}(Rl)),Rl.exports}var Pl={exports:{}},Od;function C8(){return Od||(Od=1,function(t,e){(function(n,i,s){t.exports=i(_e(),Si(),Di(),qn(),et())})(fe,function(n){return function(){var i=n,s=i.lib,r=s.BlockCipher,o=i.algo,a=[],l=[],c=[],h=[],u=[],f=[],d=[],p=[],g=[],x=[];(function(){for(var m=[],v=0;v<256;v++)v<128?m[v]=v<<1:m[v]=v<<1^283;for(var C=0,A=0,v=0;v<256;v++){var B=A^A<<1^A<<2^A<<3^A<<4;B=B>>>8^B&255^99,a[C]=B,l[B]=C;var F=m[C],D=m[F],E=m[D],S=m[B]*257^B*16843008;c[C]=S<<24|S>>>8,h[C]=S<<16|S>>>16,u[C]=S<<8|S>>>24,f[C]=S;var S=E*16843009^D*65537^F*257^C*16843008;d[B]=S<<24|S>>>8,p[B]=S<<16|S>>>16,g[B]=S<<8|S>>>24,x[B]=S,C?(C=F^m[m[m[E^F]]],A^=m[m[A]]):C=A=1}})();var b=[0,1,2,4,8,16,32,64,128,27,54],_=o.AES=r.extend({_doReset:function(){var m;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var v=this._keyPriorReset=this._key,C=v.words,A=v.sigBytes/4,B=this._nRounds=A+6,F=(B+1)*4,D=this._keySchedule=[],E=0;E<F;E++)E<A?D[E]=C[E]:(m=D[E-1],E%A?A>6&&E%A==4&&(m=a[m>>>24]<<24|a[m>>>16&255]<<16|a[m>>>8&255]<<8|a[m&255]):(m=m<<8|m>>>24,m=a[m>>>24]<<24|a[m>>>16&255]<<16|a[m>>>8&255]<<8|a[m&255],m^=b[E/A|0]<<24),D[E]=D[E-A]^m);for(var S=this._invKeySchedule=[],k=0;k<F;k++){var E=F-k;if(k%4)var m=D[E];else var m=D[E-4];k<4||E<=4?S[k]=m:S[k]=d[a[m>>>24]]^p[a[m>>>16&255]]^g[a[m>>>8&255]]^x[a[m&255]]}}},encryptBlock:function(m,v){this._doCryptBlock(m,v,this._keySchedule,c,h,u,f,a)},decryptBlock:function(m,v){var C=m[v+1];m[v+1]=m[v+3],m[v+3]=C,this._doCryptBlock(m,v,this._invKeySchedule,d,p,g,x,l);var C=m[v+1];m[v+1]=m[v+3],m[v+3]=C},_doCryptBlock:function(m,v,C,A,B,F,D,E){for(var S=this._nRounds,k=m[v]^C[0],T=m[v+1]^C[1],U=m[v+2]^C[2],K=m[v+3]^C[3],G=4,Z=1;Z<S;Z++){var J=A[k>>>24]^B[T>>>16&255]^F[U>>>8&255]^D[K&255]^C[G++],he=A[T>>>24]^B[U>>>16&255]^F[K>>>8&255]^D[k&255]^C[G++],le=A[U>>>24]^B[K>>>16&255]^F[k>>>8&255]^D[T&255]^C[G++],P=A[K>>>24]^B[k>>>16&255]^F[T>>>8&255]^D[U&255]^C[G++];k=J,T=he,U=le,K=P}var J=(E[k>>>24]<<24|E[T>>>16&255]<<16|E[U>>>8&255]<<8|E[K&255])^C[G++],he=(E[T>>>24]<<24|E[U>>>16&255]<<16|E[K>>>8&255]<<8|E[k&255])^C[G++],le=(E[U>>>24]<<24|E[K>>>16&255]<<16|E[k>>>8&255]<<8|E[T&255])^C[G++],P=(E[K>>>24]<<24|E[k>>>16&255]<<16|E[T>>>8&255]<<8|E[U&255])^C[G++];m[v]=J,m[v+1]=he,m[v+2]=le,m[v+3]=P},keySize:256/32});i.AES=r._createHelper(_)}(),n.AES})}(Pl)),Pl.exports}var Ml={exports:{}},Nd;function E8(){return Nd||(Nd=1,function(t,e){(function(n,i,s){t.exports=i(_e(),Si(),Di(),qn(),et())})(fe,function(n){return function(){var i=n,s=i.lib,r=s.WordArray,o=s.BlockCipher,a=i.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],c=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],h=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=a.DES=o.extend({_doReset:function(){for(var b=this._key,_=b.words,m=[],v=0;v<56;v++){var C=l[v]-1;m[v]=_[C>>>5]>>>31-C%32&1}for(var A=this._subKeys=[],B=0;B<16;B++){for(var F=A[B]=[],D=h[B],v=0;v<24;v++)F[v/6|0]|=m[(c[v]-1+D)%28]<<31-v%6,F[4+(v/6|0)]|=m[28+(c[v+24]-1+D)%28]<<31-v%6;F[0]=F[0]<<1|F[0]>>>31;for(var v=1;v<7;v++)F[v]=F[v]>>>(v-1)*4+3;F[7]=F[7]<<5|F[7]>>>27}for(var E=this._invSubKeys=[],v=0;v<16;v++)E[v]=A[15-v]},encryptBlock:function(b,_){this._doCryptBlock(b,_,this._subKeys)},decryptBlock:function(b,_){this._doCryptBlock(b,_,this._invSubKeys)},_doCryptBlock:function(b,_,m){this._lBlock=b[_],this._rBlock=b[_+1],p.call(this,4,252645135),p.call(this,16,65535),g.call(this,2,858993459),g.call(this,8,16711935),p.call(this,1,1431655765);for(var v=0;v<16;v++){for(var C=m[v],A=this._lBlock,B=this._rBlock,F=0,D=0;D<8;D++)F|=u[D][((B^C[D])&f[D])>>>0];this._lBlock=B,this._rBlock=A^F}var E=this._lBlock;this._lBlock=this._rBlock,this._rBlock=E,p.call(this,1,1431655765),g.call(this,8,16711935),g.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),b[_]=this._lBlock,b[_+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function p(b,_){var m=(this._lBlock>>>b^this._rBlock)&_;this._rBlock^=m,this._lBlock^=m<<b}function g(b,_){var m=(this._rBlock>>>b^this._lBlock)&_;this._lBlock^=m,this._rBlock^=m<<b}i.DES=o._createHelper(d);var x=a.TripleDES=o.extend({_doReset:function(){var b=this._key,_=b.words;if(_.length!==2&&_.length!==4&&_.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var m=_.slice(0,2),v=_.length<4?_.slice(0,2):_.slice(2,4),C=_.length<6?_.slice(0,2):_.slice(4,6);this._des1=d.createEncryptor(r.create(m)),this._des2=d.createEncryptor(r.create(v)),this._des3=d.createEncryptor(r.create(C))},encryptBlock:function(b,_){this._des1.encryptBlock(b,_),this._des2.decryptBlock(b,_),this._des3.encryptBlock(b,_)},decryptBlock:function(b,_){this._des3.decryptBlock(b,_),this._des2.encryptBlock(b,_),this._des1.decryptBlock(b,_)},keySize:192/32,ivSize:64/32,blockSize:64/32});i.TripleDES=o._createHelper(x)}(),n.TripleDES})}(Ml)),Ml.exports}var Ol={exports:{}},Ld;function w8(){return Ld||(Ld=1,function(t,e){(function(n,i,s){t.exports=i(_e(),Si(),Di(),qn(),et())})(fe,function(n){return function(){var i=n,s=i.lib,r=s.StreamCipher,o=i.algo,a=o.RC4=r.extend({_doReset:function(){for(var h=this._key,u=h.words,f=h.sigBytes,d=this._S=[],p=0;p<256;p++)d[p]=p;for(var p=0,g=0;p<256;p++){var x=p%f,b=u[x>>>2]>>>24-x%4*8&255;g=(g+d[p]+b)%256;var _=d[p];d[p]=d[g],d[g]=_}this._i=this._j=0},_doProcessBlock:function(h,u){h[u]^=l.call(this)},keySize:256/32,ivSize:0});function l(){for(var h=this._S,u=this._i,f=this._j,d=0,p=0;p<4;p++){u=(u+1)%256,f=(f+h[u])%256;var g=h[u];h[u]=h[f],h[f]=g,d|=h[(h[u]+h[f])%256]<<24-p*8}return this._i=u,this._j=f,d}i.RC4=r._createHelper(a);var c=o.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var h=this.cfg.drop;h>0;h--)l.call(this)}});i.RC4Drop=r._createHelper(c)}(),n.RC4})}(Ol)),Ol.exports}var Nl={exports:{}},Hd;function A8(){return Hd||(Hd=1,function(t,e){(function(n,i,s){t.exports=i(_e(),Si(),Di(),qn(),et())})(fe,function(n){return function(){var i=n,s=i.lib,r=s.StreamCipher,o=i.algo,a=[],l=[],c=[],h=o.Rabbit=r.extend({_doReset:function(){for(var f=this._key.words,d=this.cfg.iv,p=0;p<4;p++)f[p]=(f[p]<<8|f[p]>>>24)&16711935|(f[p]<<24|f[p]>>>8)&4278255360;var g=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],x=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var p=0;p<4;p++)u.call(this);for(var p=0;p<8;p++)x[p]^=g[p+4&7];if(d){var b=d.words,_=b[0],m=b[1],v=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,C=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,A=v>>>16|C&4294901760,B=C<<16|v&65535;x[0]^=v,x[1]^=A,x[2]^=C,x[3]^=B,x[4]^=v,x[5]^=A,x[6]^=C,x[7]^=B;for(var p=0;p<4;p++)u.call(this)}},_doProcessBlock:function(f,d){var p=this._X;u.call(this),a[0]=p[0]^p[5]>>>16^p[3]<<16,a[1]=p[2]^p[7]>>>16^p[5]<<16,a[2]=p[4]^p[1]>>>16^p[7]<<16,a[3]=p[6]^p[3]>>>16^p[1]<<16;for(var g=0;g<4;g++)a[g]=(a[g]<<8|a[g]>>>24)&16711935|(a[g]<<24|a[g]>>>8)&4278255360,f[d+g]^=a[g]},blockSize:128/32,ivSize:64/32});function u(){for(var f=this._X,d=this._C,p=0;p<8;p++)l[p]=d[p];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<l[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<l[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<l[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<l[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<l[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<l[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<l[6]>>>0?1:0)|0,this._b=d[7]>>>0<l[7]>>>0?1:0;for(var p=0;p<8;p++){var g=f[p]+d[p],x=g&65535,b=g>>>16,_=((x*x>>>17)+x*b>>>15)+b*b,m=((g&4294901760)*g|0)+((g&65535)*g|0);c[p]=_^m}f[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,f[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,f[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,f[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,f[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,f[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,f[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,f[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}i.Rabbit=r._createHelper(h)}(),n.Rabbit})}(Nl)),Nl.exports}var Ll={exports:{}},zd;function S8(){return zd||(zd=1,function(t,e){(function(n,i,s){t.exports=i(_e(),Si(),Di(),qn(),et())})(fe,function(n){return function(){var i=n,s=i.lib,r=s.StreamCipher,o=i.algo,a=[],l=[],c=[],h=o.RabbitLegacy=r.extend({_doReset:function(){var f=this._key.words,d=this.cfg.iv,p=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],g=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var x=0;x<4;x++)u.call(this);for(var x=0;x<8;x++)g[x]^=p[x+4&7];if(d){var b=d.words,_=b[0],m=b[1],v=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,C=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,A=v>>>16|C&4294901760,B=C<<16|v&65535;g[0]^=v,g[1]^=A,g[2]^=C,g[3]^=B,g[4]^=v,g[5]^=A,g[6]^=C,g[7]^=B;for(var x=0;x<4;x++)u.call(this)}},_doProcessBlock:function(f,d){var p=this._X;u.call(this),a[0]=p[0]^p[5]>>>16^p[3]<<16,a[1]=p[2]^p[7]>>>16^p[5]<<16,a[2]=p[4]^p[1]>>>16^p[7]<<16,a[3]=p[6]^p[3]>>>16^p[1]<<16;for(var g=0;g<4;g++)a[g]=(a[g]<<8|a[g]>>>24)&16711935|(a[g]<<24|a[g]>>>8)&4278255360,f[d+g]^=a[g]},blockSize:128/32,ivSize:64/32});function u(){for(var f=this._X,d=this._C,p=0;p<8;p++)l[p]=d[p];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<l[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<l[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<l[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<l[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<l[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<l[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<l[6]>>>0?1:0)|0,this._b=d[7]>>>0<l[7]>>>0?1:0;for(var p=0;p<8;p++){var g=f[p]+d[p],x=g&65535,b=g>>>16,_=((x*x>>>17)+x*b>>>15)+b*b,m=((g&4294901760)*g|0)+((g&65535)*g|0);c[p]=_^m}f[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,f[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,f[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,f[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,f[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,f[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,f[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,f[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}i.RabbitLegacy=r._createHelper(h)}(),n.RabbitLegacy})}(Ll)),Ll.exports}var Hl={exports:{}},Wd;function D8(){return Wd||(Wd=1,function(t,e){(function(n,i,s){t.exports=i(_e(),Si(),Di(),qn(),et())})(fe,function(n){return function(){var i=n,s=i.lib,r=s.BlockCipher,o=i.algo;const a=16,l=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],c=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var h={pbox:[],sbox:[]};function u(x,b){let _=b>>24&255,m=b>>16&255,v=b>>8&255,C=b&255,A=x.sbox[0][_]+x.sbox[1][m];return A=A^x.sbox[2][v],A=A+x.sbox[3][C],A}function f(x,b,_){let m=b,v=_,C;for(let A=0;A<a;++A)m=m^x.pbox[A],v=u(x,m)^v,C=m,m=v,v=C;return C=m,m=v,v=C,v=v^x.pbox[a],m=m^x.pbox[a+1],{left:m,right:v}}function d(x,b,_){let m=b,v=_,C;for(let A=a+1;A>1;--A)m=m^x.pbox[A],v=u(x,m)^v,C=m,m=v,v=C;return C=m,m=v,v=C,v=v^x.pbox[1],m=m^x.pbox[0],{left:m,right:v}}function p(x,b,_){for(let B=0;B<4;B++){x.sbox[B]=[];for(let F=0;F<256;F++)x.sbox[B][F]=c[B][F]}let m=0;for(let B=0;B<a+2;B++)x.pbox[B]=l[B]^b[m],m++,m>=_&&(m=0);let v=0,C=0,A=0;for(let B=0;B<a+2;B+=2)A=f(x,v,C),v=A.left,C=A.right,x.pbox[B]=v,x.pbox[B+1]=C;for(let B=0;B<4;B++)for(let F=0;F<256;F+=2)A=f(x,v,C),v=A.left,C=A.right,x.sbox[B][F]=v,x.sbox[B][F+1]=C;return!0}var g=o.Blowfish=r.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var x=this._keyPriorReset=this._key,b=x.words,_=x.sigBytes/4;p(h,b,_)}},encryptBlock:function(x,b){var _=f(h,x[b],x[b+1]);x[b]=_.left,x[b+1]=_.right},decryptBlock:function(x,b){var _=d(h,x[b],x[b+1]);x[b]=_.left,x[b+1]=_.right},blockSize:64/32,keySize:128/32,ivSize:64/32});i.Blowfish=r._createHelper(g)}(),n.Blowfish})}(Hl)),Hl.exports}(function(t,e){(function(n,i,s){t.exports=i(_e(),_a(),i8(),s8(),Si(),r8(),Di(),w_(),Xh(),o8(),A_(),a8(),l8(),c8(),Zh(),h8(),qn(),et(),u8(),f8(),d8(),p8(),g8(),x8(),_8(),m8(),v8(),b8(),y8(),C8(),E8(),w8(),A8(),S8(),D8())})(fe,function(n){return n})})(E_);var k8=E_.exports;const B8={key:0,class:"login-container"},F8={class:"login-row"},T8={key:1},I8={class:"header"},R8={key:0,class:"blackout"},P8={key:0,class:"Results"},M8={class:"ResultsTopbar"},O8={class:"ResultsTopbar2"},N8={key:0,class:"chart-container"},L8={key:1,class:"UsersTab"},H8={class:"UsersBar"},z8={class:"UsersGrid"},W8={class:"content"},V8={class:"Scoreboard"},$8={class:"Game"},U8={class:"Question"},j8={class:"Selector glow"},q8=["onClick"],K8={__name:"App",setup(t){const e=Ve(0),n=Ve(null),i=Ve(0),s=Ve(!1),r=Ve(!1),o=Ve(null),a=Ve(null),l=Ve(0),c=Ve([{price:50},{price:100},{price:200},{price:300},{price:500},{price:1e3},{price:2e3},{price:4e3},{price:8e3},{price:16e3},{price:32e3},{price:64e3},{price:125e3},{price:5e5},{price:1e6}]),h=Ve([{Question:"1. Was versteht man unter hydroponischer Landwirtschaft?",Answers:["Anbau von Pflanzen ohne Erde","Anbau von Pflanzen in traditionellen Böden","Anbau von Pflanzen in Wäldern","Anbau von Pflanzen im Freien"],Solution:0},{Question:"2. Welche Nährlösung wird bei der Hydroponik verwendet?",Answers:["Einfaches Wasser","Organische Dünger","Nährstoffe, die in Wasser gelöst sind","Gartenerde"],Solution:2},{Question:"3. Welche Pflanzen eignen sich besonders gut für hydroponische Systeme?",Answers:["Wurzelgemüse wie Kartoffeln und Karotten","Kräuter und Blattgemüse wie Salat und Basilikum","Obstbäume wie Apfel und Pfirsich","Sträucher wie Himbeere und Johannisbeere"],Solution:1},{Question:"4. Welche Rolle spielt der pH-Wert in einem hydroponischen System?",Answers:["Er beeinflusst die Wasseraufnahme durch die Wurzeln.","Er bestimmt die Temperatur des Wassers.","Er hat keine Bedeutung im hydroponischen Anbau.","Er ist nur bei Obstpflanzen wichtig."],Solution:0},{Question:"5. Was ist ein Vorteil der Hydroponik gegenüber der traditionellen Landwirtschaft?",Answers:["Geringerer Wasserverbrauch","Höherer Wasserverbrauch","Geringerer Ertrag","Geringere Pflanzenvielfalt"],Solution:0},{Question:"6. Was bedeutet 'NFT' in der hydroponischen Landwirtschaft?",Answers:["Nährstofffluss-Technik","Natürliche Flüssigkeitstransformation","Nachhaltige Fischzucht-Technik","Natrium-Feuchtigkeits-Test"],Solution:0},{Question:"7. Warum ist Beleuchtung wichtig in Indoor-Hydroponik-Systemen?",Answers:["Weil Sonnenlicht für Pflanzen notwendig ist","Um die Raumtemperatur zu erhöhen","Zur Beleuchtung des Wassers","Zur Reinigung der Luft"],Solution:0},{Question:"8. Welches ist ein häufiges hydroponisches Substrat, das Erde ersetzt?",Answers:["Perlit","Tonerde","Sand","Kompost"],Solution:0},{Question:"9. Was ist der Hauptzweck eines hydroponischen Reservoirs?",Answers:["Zur Aufbewahrung überschüssiger Nährstoffe","Zur Bereitstellung von Licht","Zum Halten der Nährlösung für die Pflanzen","Zur Speicherung von Erde"],Solution:2},{Question:"10. Welche Technik wird verwendet, um die Sauerstoffversorgung der Pflanzen in der Hydroponik zu verbessern?",Answers:["Belüftung des Wassers","Erhöhung des Wasserstands","Verwendung von Erde","Anwendung von Dünger"],Solution:0},{Question:"11. Was sind die Vorteile der Verwendung von Kokosfasern als Substrat?",Answers:["Geringe Wasserspeicherung","Hohe Nährstoffdichte","Gute Wasserspeicherung und Belüftung","Erhöhte Nährstoffbindung"],Solution:2},{Question:"12. Welcher pH-Bereich wird typischerweise für hydroponische Pflanzen empfohlen?",Answers:["2,0 bis 3,0","5,5 bis 6,5","8,0 bis 9,0","6,5 bis 7,5"],Solution:1},{Question:"13. Was ist der Hauptunterschied zwischen Hydroponik und Aeroponik?",Answers:["In der Aeroponik werden Pflanzen in Luftnebel anstelle einer Nährlösung gehalten","In der Hydroponik wird keine Nährlösung verwendet","In der Aeroponik sind die Pflanzen vollständig unter Wasser","In der Hydroponik wird nur Erde verwendet"],Solution:0},{Question:"14. Warum ist die regelmäßige Überwachung des EC-Werts (elektrische Leitfähigkeit) wichtig?",Answers:["Um die Raumtemperatur zu messen","Zur Steuerung des Lichts","Um die Konzentration der Nährstoffe zu überwachen","Zur Bestimmung des Sauerstoffgehalts"],Solution:2},{Question:"15. Welche Rolle spielt der Temperaturbereich der Nährlösung für das Wachstum hydroponischer Pflanzen?",Answers:["Er beeinflusst die Verfügbarkeit und Aufnahme der Nährstoffe","Er spielt nur eine untergeordnete Rolle","Er bestimmt die Blütenbildung","Er beeinflusst die Blütenfarbe"],Solution:0}]),u=()=>{const F=h.value[e.value],D=F.Answers;let E=F.Solution;const S=Math.floor(Math.random()*D.length);let k;do k=Math.floor(Math.random()*D.length);while(S===k);const T=D[S];D[S]=D[k],D[k]=T,E===S?E=k:E===k&&(E=S),h.value[e.value].Solution=E};ga.register(S4,P4,w4,ao,Tc,Ic);const f=Ve({labels:["A","B","C","D"],datasets:[{backgroundColor:["#f87979","#79f879","#7979f8","#f8f879"],data:[]}]}),d=Ve({responsive:!0,plugins:{legend:{display:!1}},scales:{x:{ticks:{color:"black"},grid:{color:"black"}},y:{ticks:{color:"black"},grid:{color:"black"}}}}),p=F=>{k8.SHA256(F).toString()==="d51dee3b4776cd2af63077db1829e042e33db6ab7a04e6b095ed507229e5402f"&&(r.value=!0)},g=async()=>{const F=li(hi,"CollectedAnswers");ci(F,E=>{const S=E.val();if(S){const k=Object.keys(S).reduce((T,U)=>(T[U]=0,T),{});Y0(F,k).then(()=>{console.log("All answers reset to 0")}).catch(T=>{console.error("Error resetting answers:",T)})}},{onlyOnce:!0});const D=li(hi,"Users");ci(D,E=>{const S=E.val();if(S){const k=Object.keys(S).reduce((T,U)=>(T[U]=0,T),{});Y0(D,k).then(()=>{console.log("All users reset to 0")}).catch(T=>{console.error("Error resetting users:",T)})}},{onlyOnce:!0})},x=F=>{if(n.value!=null)return;n.value=F;const D=h.value[e.value].Solution;n.value===D&&i.value++},b=()=>{n.value!=null&&_()},_=()=>{const F=h.value[e.value].Solution;n.value===F?e.value<h.value.length-1&&(n.value=null,e.value++,u()):m(),g()},m=()=>{e.value=0,i.value=0,n.value=null,u()},v=F=>{const D=h.value[e.value].Solution;return n.value===null?"":F===n.value?F===D?"correct":"incorrect":F===D?"solution":""},C=F=>{if(F<i.value)return"correct"},A=()=>{const F=li(hi,"Users");ci(F,D=>{const E=D.val();if(E){const S=Object.keys(E);a.value=S}else console.log("No users found")},{onlyOnce:!0})};let B=null;return vr(()=>{u();const F=li(hi,"CollectedAnswers");B=ci(F,D=>{const E=D.val();E?(f.value={labels:["A","B","C","D"],datasets:[{label:"",backgroundColor:["#f87979","#79f879","#7979f8","#f8f879"],data:[E.A||0,E.B||0,E.C||0,E.D||0]}]},console.log(E)):f.value={labels:["A","B","C","D"],datasets:[{label:"",backgroundColor:["#f87979","#79f879","#7979f8","#f8f879"],data:[0,0,0,0]}]}}),console.log("connected to database listener!")}),br(()=>{B(),console.log("disconnected from database listener!")}),(F,D)=>{const E=Kc("router-link");return We(),Ue(ct,null,[r.value?Zt("",!0):(We(),Ue("div",B8,[D[9]||(D[9]=ae("h2",null,"Passwort-Login:",-1)),ae("div",F8,[Je(E,{to:"/",class:"login-locked"},{default:uo(()=>D[8]||(D[8]=[ae("i",{class:"fa-solid fa-caret-left"},null,-1)])),_:1}),vp(ae("input",{type:"password","onUpdate:modelValue":D[0]||(D[0]=S=>o.value=S),placeholder:"Gebe das Passwort ein",class:"login-input"},null,512),[[Jp,o.value]])]),ae("div",{onClick:D[1]||(D[1]=S=>p(o.value)),class:"login-submit"},"Absenden")])),r.value?(We(),Ue("div",T8,[ae("div",I8,[D[11]||(D[11]=ae("h1",null,"Hydroponic",-1)),ae("div",{class:"ResultsBtn",onClick:D[2]||(D[2]=S=>{s.value=!0,l.value=1})},D[10]||(D[10]=[ae("i",{class:"fa-solid fa-square-poll-vertical"},null,-1),Qs(" Ergebnisse")]))]),s.value?(We(),Ue("div",R8)):Zt("",!0),Je(Nv,{name:"fade"},{default:uo(()=>{var S;return[s.value?(We(),Ue("div",P8,[ae("div",M8,[D[15]||(D[15]=ae("h2",null,"Ergebnisse",-1)),ae("div",O8,[ae("div",{class:"ResultsBtn",onClick:D[3]||(D[3]=k=>l.value=1)},D[12]||(D[12]=[ae("i",{class:"fa-solid fa-user"},null,-1)])),ae("div",{class:"ResultsBtn",onClick:D[4]||(D[4]=k=>l.value=0)},D[13]||(D[13]=[ae("i",{class:"fa-solid fa-square-poll-vertical"},null,-1)])),ae("div",{class:"ResultsBtn",onClick:D[5]||(D[5]=k=>s.value=!1)},D[14]||(D[14]=[ae("i",{class:"fa-solid fa-xmark"},null,-1)]))])]),l.value===0?(We(),Ue("div",N8,[Je(di(X4),{id:"my-chart-id",options:d.value,data:f.value},null,8,["options","data"])])):Zt("",!0),l.value===1?(We(),Ue("div",L8,[ae("div",H8,[ae("h3",null,"Benutzer: "+An((S=a.value)==null?void 0:S.length),1),ae("button",{onClick:D[6]||(D[6]=k=>A())},D[16]||(D[16]=[ae("i",{class:"fa-solid fa-rotate"},null,-1)]))]),ae("div",z8,[(We(!0),Ue(ct,null,Zr(a.value,k=>(We(),Ue("div",null,An(k),1))),256))])])):Zt("",!0)])):Zt("",!0)]}),_:1}),ae("div",W8,[ae("div",V8,[D[18]||(D[18]=ae("h2",null,"Scoreboard",-1)),(We(!0),Ue(ct,null,Zr(c.value,(S,k)=>(We(),Ue("div",{key:k,class:Gi(["Score",C(k)])},[Qs(An(S.price)+" ",1),D[17]||(D[17]=ae("i",{class:"fa-solid fa-seedling"},null,-1))],2))),128))]),ae("div",$8,[ae("div",U8,[ae("h1",null,"Frage: "+An(h.value[e.value].Question),1)]),ae("div",j8,[(We(!0),Ue(ct,null,Zr(h.value[e.value].Answers,(S,k)=>(We(),Ue("div",{key:k,class:Gi(["SelectorItem",v(k)]),onClick:T=>x(k)},[ae("span",null,An(String.fromCharCode(65+k))+": "+An(S),1)],10,q8))),128))]),n.value!=null?(We(),Ue("button",{key:0,onClick:D[7]||(D[7]=S=>b())},"weiter")):Zt("",!0)])]),D[19]||(D[19]=ae("div",{class:"footer"},[ae("p",null,"Hydoponic in der Landwirtschaft - Paul Loibl (Q12)")],-1))])):Zt("",!0)],64)}}},G8={key:0,class:"login-container"},Y8={class:"login-row"},Q8={key:1,class:"SelectionForm"},X8={class:"SelectionBox"},Z8=["onClick"],J8={key:0,class:"selection-tooltip"},eD={__name:"Chooser",setup(t){const e=Ve(!1),n=Ve(null),i=Ve(null),s=Ve(null),r=Ve(null),o=Ve(null),a=Ve(null),l=Ve(["A","B","C","D"]),c=_=>{i.value=_},h=_=>{if(s.value!=null)return"Unavailable";if(_===i.value)return"Selected"},u=()=>{s.value===null&&i.value!=null&&(s.value=i.value,d("CollectedAnswers",s.value),d("Users",n.value))},f=_=>{_!=""&&_!=null&&_!=null&&_.trim().length&&(e.value=!0,n.value=_,d("Users",n.value))},d=(_,m)=>{const v=li(hi,`${_}/${m}`);aw(v,C=>(C||0)+1)};let p=null,g=null;const x=()=>{const _=li(hi,"CollectedAnswers");p=ci(_,v=>{const C=v.val();console.log("Answers:",C),o.value=C});const m=li(hi,"Users");g=ci(m,v=>{const C=v.val();C!=null&&(console.log("Users:",C),a.value=C,a.value[n.value]==0&&(s.value=null))}),console.log("connected to database listener!")},b=()=>{p&&p(),g&&g(),console.log("disconnected from database listener!")};return vr(()=>{x()}),br(()=>{b()}),(_,m)=>{const v=Kc("router-link");return We(),Ue(ct,null,[e.value?Zt("",!0):(We(),Ue("div",G8,[m[4]||(m[4]=ae("h2",null,"Name-Login:",-1)),ae("div",Y8,[Je(v,{to:"/app",class:"login-locked"},{default:uo(()=>m[3]||(m[3]=[ae("i",{class:"fa-solid fa-lock"},null,-1)])),_:1}),vp(ae("input",{"onUpdate:modelValue":m[0]||(m[0]=C=>r.value=C),placeholder:"Gebe einen Name ein",class:"login-input"},null,512),[[Jp,r.value]])]),ae("div",{onClick:m[1]||(m[1]=C=>f(r.value)),class:"login-submit"},"Absenden")])),e.value?(We(),Ue("div",Q8,[m[5]||(m[5]=ae("h1",{class:"selection-heading"},[Qs("Die "),ae("span",{class:"Selected"},"richtige"),Qs(" Antwort ist:")],-1)),ae("div",X8,[(We(!0),Ue(ct,null,Zr(l.value,C=>(We(),Ue("div",{key:C,class:Gi(["SelectionItem",h(C)]),onClick:A=>c(C)},An(C),11,Z8))),128)),ae("div",{class:"SubmitBtn",onClick:m[2]||(m[2]=C=>u())},"Absenden")]),s.value!=null?(We(),Ue("p",J8,"Deine Antwort wurde abgesendet!")):Zt("",!0)])):Zt("",!0)],64)}}},tD=[{path:"/",component:eD},{path:"/app",component:K8}],nD=lb({history:L1(),routes:tD}),S_=a1(db);S_.use(nD);S_.mount("#app");
